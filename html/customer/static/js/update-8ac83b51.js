import{h as e,R as a,x as l,aH as t,o,c as s,w as i,a as n,e as r,d,u,B as p,g as m,aj as c,ak as f,J as b,I as _,K as g,f as v,ad as y}from"./.pnpm-9c274078.js";import{_ as h}from"./tiny-d6f4af2f.js";const x={class:"content"},k={__name:"update",props:{visible:{type:Boolean,default:()=>!1}},emits:["update:visible","refreshDataList"],setup(k,{expose:V,emit:j}){const z=p(),{$http:O}=z.appContext.config.globalProperties,w=e({form:{},currObj:"add"}),{form:C,currObj:U}=a(w),q=l(null),J=async e=>{e?await q.value.validate((async(e,a)=>{if(e){let e=JSON.parse(JSON.stringify(w.form));"add"!=w.currObj&&(e.id=w.currObj),await O.post("/api/v1/customer/qa",e),m({position:"bottom-right",title:"提示",type:"success",message:"操作成功"}),j("update:visible",!1),j("refreshDataList")}})):(q.value&&q.value.resetFields(),j("update:visible",!1))};V({init:(e,a)=>{w.form={sort:a+1,content:""},w.currObj=e,"add"!=e&&O.get(`/api/v1/customer/qa/${e}`).then((({data:e})=>{w.form={content:e.content,sort:e.sort,type:e.type,title:e.title}}))}});const N={menubar:!1,width:670,max_height:280,toolbar:"bold italic forecolor backcolor alignleft aligncenter alignright fontsize link",plugins:"link ",font_size_formats:"12px 14px 18px 24px 36px",content_style:"\n    p,span,div                { margin: 0px; }\n    html, body                { font-size:12px; }\n    ul,ol                     { list-style-position:inside; }\n  ",toolbar_mode:"sliding",nonbreaking_force_tab:!0,placeholder:"请输入文本内容",language:"zh_CN",language_url:"./tinymce/langs.js",link_title:!1,paste_as_text:!0,paste_data_images:!1,statusbar:!1,default_link_target:"_blank"};return(e,a)=>{const l=c,p=f,m=b,V=_,j=t,z=g,O=v,w=y;return o(),s(w,{"model-value":k.visible,"z-index":30,title:"add"==u(U)?"添加常用问题":"编辑常用问题","close-on-click-modal":!1,"destroy-on-close":!0,onClose:a[6]||(a[6]=e=>J(!1)),top:"20vh",width:"800px"},{footer:i((()=>[n(O,{size:"small",type:"default",onClick:a[4]||(a[4]=e=>J(!1))},{default:i((()=>[r("取消")])),_:1}),n(O,{type:"primary",size:"small",onClick:a[5]||(a[5]=e=>J(!0))},{default:i((()=>[r("保存")])),_:1})])),default:i((()=>[d("div",x,[n(z,{model:u(C),ref_key:"ruleFormRef",ref:q,"label-width":"70px"},{default:i((()=>[n(m,{label:"问题类型",prop:"type",rules:[{required:!0,message:"请选择问题类型",trigger:"change"}]},{default:i((()=>[n(p,{modelValue:u(C).type,"onUpdate:modelValue":a[0]||(a[0]=e=>u(C).type=e),placeholder:"请选择问题类型"},{default:i((()=>[n(l,{label:"注册",value:1}),n(l,{label:"充值",value:2}),n(l,{label:"套餐购买",value:3}),n(l,{label:"图文",value:4}),n(l,{label:"播放",value:5})])),_:1},8,["modelValue"])])),_:1}),n(m,{label:"标题"},{default:i((()=>[n(V,{modelValue:u(C).title,"onUpdate:modelValue":a[1]||(a[1]=e=>u(C).title=e),placeholder:"请输入标题"},null,8,["modelValue"])])),_:1}),n(m,{label:"序号"},{default:i((()=>[n(j,{modelValue:u(C).sort,"onUpdate:modelValue":a[2]||(a[2]=e=>u(C).sort=e),min:1,step:1,"step-strictly":"","controls-position":"right"},null,8,["modelValue"])])),_:1}),n(m,{label:"回复内容"},{default:i((()=>[n(h,{modelValue:u(C).content,"onUpdate:modelValue":a[3]||(a[3]=e=>u(C).content=e),setting:N},null,8,["modelValue"])])),_:1})])),_:1},8,["model"])])])),_:1},8,["model-value","title"])}}};export{k as _};
