import{A as a,h as e,x as t,D as l,R as s,aj as n,ak as r,ar as o,ai as i,a7 as d,al as u,am as c,an as p,ag as m,ah as v,ad as h,ao as f,o as g,b,d as y,a as w,w as _,S as x,T as I,u as C,a3 as z,af as S,c as k,Q as L,e as W,t as V,L as j,q as U,B as $,H as P,f as A,I as D,O as T,P as F}from"./.pnpm-9c274078.js";import{_ as E,p as M,a as N}from"./index-e716b57f.js";import{_ as H}from"./empty-6f66e897.js";import{_ as q}from"./pie-ea325c1c.js";import{l as B}from"./line2-83ec5b8b.js";import{M as R}from"./mesList-6e63e858.js";import{U as K}from"./userinfo-2d757c21.js";/* empty css                                                 */const O=a=>(T("data-v-1c4e641f"),a=a(),F(),a),Q={class:"exam-box"},G={class:"exam-header"},J={class:"exam-title"},X=O((()=>y("p",null,"提现数据走势",-1))),Y={class:"exam-searh-box"},Z={class:"search-item"},aa=O((()=>y("span",null,"推广渠道",-1))),ea={style:{display:"flex",gap:"16px"},class:"panel"},ta={class:"exam-content",style:{width:"350px"}},la=O((()=>y("div",{class:"exam-title"},"提现概况",-1))),sa={class:"content-table"},na={class:"container",style:{padding:"0"}},ra={class:"chart-box"},oa={class:"pieBox"},ia=O((()=>y("span",{class:"circle"},"?",-1))),da={class:"number",style:{"font-size":"36px"}},ua={class:"pieInfo"},ca={class:"infoItem"},pa=O((()=>y("div",{class:"infoStatus"},[y("span",{style:{background:"#6c9eff"},class:"tag"}),y("span",null,"已完成")],-1))),ma={class:"countSpend"},va={class:"infoItem"},ha=O((()=>y("div",{class:"infoStatus"},[y("span",{style:{background:"#fdc343"},class:"tag"}),y("span",null,"待处理")],-1))),fa={class:"countSpend"},ga={class:"infoItem"},ba=O((()=>y("div",{class:"infoStatus"},[y("span",{style:{background:"#ec6836"},class:"tag"}),y("span",null,"已关闭")],-1))),ya={class:"countSpend"},wa={class:"pagination",style:{"font-size":"12px",padding:"0 46px 0 60px","line-height":"5vh"}},_a={class:"filter",style:{margin:"0"}},xa={class:"right"},Ia={class:"search-item"},Ca=O((()=>y("span",null,"时间范围",-1))),za={class:"exam-content"},Sa=O((()=>y("div",{class:"exam-title"},"提现详情",-1))),ka={class:"content-table"},La={class:"container",style:{padding:"0"}},Wa={class:"filter"},Va=O((()=>y("div",{class:"right"},[y("div",{class:"search-item"})],-1))),ja={class:"right"},Ua={class:"custom-input"},$a={class:"chart-box"},Pa=O((()=>y("div",{class:"table-empty"},[y("img",{src:H,alt:"空状态"}),y("p",null,"暂无数据")],-1))),Aa={class:"statusMap"},Da={key:1},Ta={class:"pagination"},Fa=["innerHTML"],Ea=E({__name:"index",setup(T){const F=$(),{$http:E}=F.appContext.config.globalProperties,H=a(),O=e({tx:{},search:"",options:[],agentLevelId:"",value_time:[],channelId:"",refresh:!0}),Ea=t(),Ma=e({visible:!1,data:[],loading:!1,client:{},chatList:[],get:async a=>{var e;a.consultId=a.memberId,(null==(e=Ea.value)?void 0:e.page)&&(Ea.value.page=1),a.mesList=[],a.queryRole=1,Ma.client=a,Ma.visible=!0}}),Na=(a,e=!1)=>{switch(a){case 100:return e?"待受理":"#FDC343";case 200:return e?"处理中":"#FDC343";case 300:return e?"已完成":"#6C9EFF";case 400:return e?"已关闭":"#EC6836"}},Ha=()=>{var a;O.refresh=!1;let e={};(null==(a=O.value_time)?void 0:a.length)>0&&(e={timeStart:O.value_time[0]/1e3,timeEnd:Number(O.value_time[1]/1e3+86399)}),E.get("/api/v1/customer/censor/agent_member/withdraw/statistics",{params:{...e,channelId:"number"==typeof Ya.value?Ya.value:void 0}}).then((({data:a})=>{O.tx=a})).finally((()=>{O.refresh=!0}))},qa=e({data:[]});l((()=>{Ba(),Ha(),E.get("/api/v1/customer/filter/agent_level/id_name").then((({data:a})=>{O.options=a})),E.get("/api/v1/customer/filter/member_channel").then((a=>{qa.data=a.data})).finally((()=>{}))}));const Ba=async()=>{var a,e,t;Ra.loading=!0;let l={limit:Ra.pageSize,page:Ra.currentPage};if(""!=O.search&&(l.keyword=O.search),O.agentLevelId&&(l.agentLevelId=O.agentLevelId),Ra.order){let a=Ra.order.split(",");l.orderName=a[0],l.orderSerial=a[1]}(null==(a=O.value_time)?void 0:a.length)>0&&(l.timeStart=O.value_time[0]/1e3,l.timeEnd=Number(O.value_time[1]/1e3+86399)),O.rechargeType&&(l.rechargeType=O.rechargeType),""!==O.channelId&&(l.channelId=O.channelId);var{data:s}=await E.get("/api/v1/customer/censor/agent_member/withdraw",{params:l});Ra.tableData=null!=(t=null==(e=s.list)?void 0:e.data)?t:[],Ra.total=(null==s?void 0:s.total)||0,Ra.loading=!1},Ra=e({tableData:[{id:1,username:" 问哈尬酒逛哈看"}],currentPage:1,pageSize:20,total:0,order:"",loading:!1,current(a){Ra.currentPage=a,Ba()},size(a){Ra.pageSize=a,Ra.currentPage=1,Ba()},sort(a){const{prop:e,order:t}=a;Ra.order=e&&t?`${e},${"descending"==t?"desc":"asc"}`:"",Ba()}}),Ka=e({loading:!1,data:{},load:()=>(Ka.loading=!0,E.get("/api/v1/customer/censor/agent_member/withdraw/statistics",{params:{channelId:"number"==typeof O.channelId?O.channelId:void 0}}).then((({data:a})=>{Ka.data=a})).finally((()=>{Ka.loading=!1})))});Ka.load();const{tx:Oa,search:Qa,options:Ga,agentLevelId:Ja,value_time:Xa,channelId:Ya,refresh:Za}=s(O),{total:ae,currentPage:ee,pageSize:te,tableData:le,loading:se}=s(Ra);return(a,e)=>{var t,l,s,$,T,F,E,O,Ga,Ja,ne,re,oe,ie,de,ue,ce;const pe=n,me=r,ve=o,he=P,fe=A,ge=i,be=d,ye=N,we=D,_e=u,xe=c,Ie=p,Ce=m,ze=v,Se=h,ke=f;return g(),b("div",Q,[y("div",G,[y("div",J,[X,y("div",Y,[y("div",Z,[aa,w(me,{modelValue:C(Ya),"onUpdate:modelValue":e[0]||(e[0]=a=>z(Ya)?Ya.value=a:null),onChange:e[1]||(e[1]=a=>{Ba(),Ka.load(),Ha()}),clearable:"",filterable:"",placeholder:"所有渠道"},{default:_((()=>[w(pe,{label:"默认渠道",value:0}),(g(!0),b(x,null,I(qa.data,(a=>(g(),k(pe,{label:a.name,value:a.id},null,8,["label","value"])))),256))])),_:1},8,["modelValue"])])])]),Ka.data.totalWithdrawContinued?S((g(),k(B,{key:0,type:2,load:Ka.load,list:Ka.data.totalWithdrawContinued},null,8,["load","list"])),[[ke,Ka.loading]]):L("",!0)]),y("div",ea,[y("div",ta,[la,y("div",sa,[y("div",na,[y("div",ra,[S((g(),b("div",oa,[y("p",null,[W(" 累计提现（元） "),w(ve,{effect:"light",content:"累计申请提现总金额",placement:"top-start","popper-class":"auto"},{default:_((()=>[ia])),_:1})]),y("p",null,[y("span",da,V((null==(l=null==(t=C(Oa).totalWithdraw)?void 0:t.whole)?void 0:l.total)||0),1)]),(null==(s=C(Oa).totalWithdraw)?void 0:s.status)&&C(Za)?(g(),k(q,{key:0,type:2,list:null==($=C(Oa).totalWithdraw)?void 0:$.status},null,8,["list"])):L("",!0),y("div",ua,[y("div",ca,[pa,y("div",ma,[y("span",null,"¥"+V(null==(F=null==(T=C(Oa).totalWithdraw)?void 0:T.status)?void 0:F.status300.total),1),y("span",null,V(null==(E=C(Oa).totalWithdraw)?void 0:E.status.status300.count)+"笔",1)])]),y("div",va,[ha,y("div",fa,[y("span",null,"¥"+V((null==(Ga=null==(O=C(Oa).totalWithdraw)?void 0:O.status)?void 0:Ga.status100.total)+(null==(ne=null==(Ja=C(Oa).totalWithdraw)?void 0:Ja.status)?void 0:ne.status200.total)),1),y("span",null,V((null==(re=C(Oa).totalWithdraw)?void 0:re.status.status100.count)+(null==(oe=C(Oa).totalWithdraw)?void 0:oe.status.status200.count))+"笔",1)])]),y("div",ga,[ba,y("div",ya,[y("span",null,"¥"+V(null==(de=null==(ie=C(Oa).totalWithdraw)?void 0:ie.status)?void 0:de.status400.total),1),y("span",null,V(null==(ue=C(Oa).totalWithdraw)?void 0:ue.status.status400.count)+"笔",1)])])])])),[[ke,!C(Za)]])]),y("div",wa,[W(V(C(Xa)&&C(Xa)[0]?C(M)(C(Xa)[0],"{y}-{m}-{d}")+"~":"")+" "+V(C(Xa)&&C(Xa)[1]?C(M)(C(Xa)[1],"{y}-{m}-{d}")+"":"")+" ",1),w(be,{placement:"bottom",width:350,trigger:"click",teleported:!1},{reference:_((()=>[w(fe,{class:"m-2",type:"primary",style:{"margin-left":"auto"},link:""},{default:_((()=>[w(he,null,{default:_((()=>[W("筛选")])),_:1})])),_:1})])),default:_((()=>[y("div",_a,[y("div",xa,[y("div",Ia,[Ca,w(ge,{class:"item",placement:"top",modelValue:C(Xa),"onUpdate:modelValue":e[2]||(e[2]=a=>z(Xa)?Xa.value=a:null),"value-format":"x",onChange:e[3]||(e[3]=a=>{Ha(),Ba()}),style:{width:"240px","--el-font-size-base":"12px"},type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期",teleported:!1,size:"default"},null,8,["modelValue"])])])])])),_:1})])])])]),y("div",za,[Sa,y("div",ka,[y("div",La,[y("div",Wa,[Va,y("div",ja,[y("div",Ua,[w(ye,{color:"#999",size:"14px",onClick:e[4]||(e[4]=a=>Ba()),name:"search"}),w(we,{class:"seachInput",onKeyup:e[5]||(e[5]=j((a=>Ba()),["enter","native"])),placeholder:"搜索关键字",modelValue:C(Qa),"onUpdate:modelValue":e[6]||(e[6]=a=>z(Qa)?Qa.value=a:null)},null,8,["modelValue"])])])]),y("div",$a,[S((g(),k(xe,{onSortChange:Ra.sort,"tooltip-effect":"light",height:"36vh",data:C(le)},{empty:_((()=>[Pa])),default:_((()=>[w(_e,{label:"用户名",prop:"memberUsername","min-width":"100",align:"left"},{default:_((({row:a})=>[w(K,{name:a.memberUsername,id:a.memberId},null,8,["name","id"])])),_:1}),w(_e,{label:"推广渠道"},{default:_((({row:a})=>[y("span",null,V(a.channel?a.channel:a.channelId?a.channelId:"默认渠道"),1)])),_:1}),w(_e,{label:"代理等级",prop:"memberLevelName",formatter:a.$formatter},null,8,["formatter"]),w(_e,{label:"提现金额",prop:"amount2",formatter:a.$formatter},null,8,["formatter"]),w(_e,{label:"提现地址",prop:"withdrawAddress","show-overflow-tooltip":!0,formatter:a.$formatter},null,8,["formatter"]),w(_e,{label:"手续费",prop:"withdrawFees",formatter:a.$formatter},null,8,["formatter"]),w(_e,{label:"实际提现金额",prop:"withdrawAmount",formatter:a.$formatter},null,8,["formatter"]),w(_e,{label:"提现状态"},{default:_((({row:a})=>[y("div",Aa,[y("span",{class:"tags",style:U({"background-color":Na(a.status)})},null,4),y("span",{style:U({color:(a.status,"#606266")})},V(Na(a.status,!0)),5)])])),_:1}),w(_e,{label:"提现IP",prop:"ip",formatter:a.$formatter,width:"110"},null,8,["formatter"]),w(_e,{label:"操作人"},{default:_((({row:a})=>[a.customerUsername||a.customerId?(g(),k(fe,{key:0,type:"primary",onClick:e=>Ma.get(a),link:""},{default:_((()=>[W(V(a.customerUsername||a.customerId),1)])),_:2},1032,["onClick"])):(g(),b("span",Da,"-"))])),_:1}),w(_e,{label:"IP所在地",prop:"ipAddress","show-overflow-tooltip":!0,formatter:a.$formatter},null,8,["formatter"]),w(_e,{label:"提现时间",width:"130",prop:"placeAt",sortable:""},{default:_((({row:a})=>[y("span",null,V(C(M)(a.withdrawAt)||"-"),1)])),_:1})])),_:1},8,["onSortChange","data"])),[[ke,C(se)]])]),y("div",Ta,[w(Ie,{onSizeChange:Ra.size,small:"",onCurrentChange:Ra.current,"current-page":C(ee),"page-sizes":C(H).state.pageSizes,"page-size":C(te),layout:"total, prev, pager, next, sizes, jumper",total:C(ae)},null,8,["onSizeChange","onCurrentChange","current-page","page-sizes","page-size","total"])])])])])]),w(Se,{modelValue:Ma.visible,"onUpdate:modelValue":e[7]||(e[7]=a=>Ma.visible=a),title:(null==(ce=Ma.client)?void 0:ce.memberUsername)+"的聊天记录","destroy-on-close":"",width:"880px","close-on-click-modal":!1},{default:_((()=>[w(ze,{type:"border-card",class:"demo-tabs"},{default:_((()=>[w(Ce,{label:"聊天记录"},{default:_((()=>[S(w(R,{ref_key:"messageList",ref:Ea,style:{height:"45vh"},class:"dis-list",client:Ma.client,chatList:Ma.chatList,slaveId:!1},null,8,["client","chatList"]),[[ke,Ma.loading]])])),_:1}),w(Ce,{label:"订单备注"},{default:_((()=>[y("div",{style:{height:"45vh"},innerHTML:Ma.client.attach},null,8,Fa)])),_:1})])),_:1})])),_:1},8,["modelValue","title"])])}}},[["__scopeId","data-v-1c4e641f"]]);export{Ea as default};
