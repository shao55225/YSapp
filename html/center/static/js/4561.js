"use strict";(self.webpackChunkxxxxx=self.webpackChunkxxxxx||[]).push([[4561],{7182:(e,t,n)=>{function d(e){return e||0===e}function o(e){return Array.isArray(e)&&e.length}function a(e){return Array.isArray(e)?e:d(e)?[e]:[]}function l(e,t,n,d,a){for(let c=0;c<e.length;c++){const s=e[c];if(t(s,c,e,a))return d?d(s,c,e,a):s;{const e=n(s);if(o(e)){const o=l(e,t,n,d,s);if(o)return o}}}}function c(e,t,n,d){for(let a=0;a<e.length;a++){const l=e[a];t(l,a,e,d);const s=n(l);o(s)&&c(s,t,n,l)}}n.d(t,{Ql:()=>l,YI:()=>d,bu:()=>c,qt:()=>o,tm:()=>a})},56451:(e,t,n)=>{n.d(t,{a:()=>Y});var d=n(26440),o=n(81040),a=n(92811),l=n(50885),c=n(40258),s=n(44864);const i=Symbol(),r={key:-1,level:-1,data:{}};var u=(e=>(e.KEY="id",e.LABEL="label",e.CHILDREN="children",e.DISABLED="disabled",e))(u||{}),h=(e=>(e.ADD="add",e.DELETE="delete",e))(h||{});const f={type:Number,default:26},k=(0,l.o8)({data:{type:(0,l.Cq)(Array),default:()=>(0,c.N)([])},emptyText:{type:String},height:{type:Number,default:200},props:{type:(0,l.Cq)(Object),default:()=>(0,c.N)({children:"children",label:"label",disabled:"disabled",value:"id"})},highlightCurrent:{type:Boolean,default:!1},showCheckbox:{type:Boolean,default:!1},defaultCheckedKeys:{type:(0,l.Cq)(Array),default:()=>(0,c.N)([])},checkStrictly:{type:Boolean,default:!1},defaultExpandedKeys:{type:(0,l.Cq)(Array),default:()=>(0,c.N)([])},indent:{type:Number,default:16},itemSize:f,icon:{type:s.AA},expandOnClickNode:{type:Boolean,default:!0},checkOnClickNode:{type:Boolean,default:!1},currentNodeKey:{type:(0,l.Cq)([String,Number])},accordion:{type:Boolean,default:!1},filterMethod:{type:(0,l.Cq)(Function)},perfMode:{type:Boolean,default:!0}}),p=(0,l.o8)({node:{type:(0,l.Cq)(Object),default:()=>(0,c.N)(r)},expanded:{type:Boolean,default:!1},checked:{type:Boolean,default:!1},indeterminate:{type:Boolean,default:!1},showCheckbox:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},current:{type:Boolean,default:!1},hiddenExpandIcon:{type:Boolean,default:!1},itemSize:f}),y=(0,l.o8)({node:{type:(0,l.Cq)(Object),required:!0}}),v="node-click",C="node-expand",g="node-collapse",x="current-change",N="check",b="check-change",m="node-contextmenu",S={[v]:(e,t,n)=>e&&t&&n,[C]:(e,t)=>e&&t,[g]:(e,t)=>e&&t,[x]:(e,t)=>e&&t,[N]:(e,t)=>e&&t,[b]:(e,t)=>e&&"boolean"==typeof t,[m]:(e,t,n)=>e&&t&&n};function K(e,t){const n=(0,a.iH)(new Set(e.defaultExpandedKeys)),l=(0,a.iH)(),c=(0,a.XI)();(0,d.YP)((()=>e.currentNodeKey),(e=>{l.value=e}),{immediate:!0}),(0,d.YP)((()=>e.data),(e=>{Z(e)}),{immediate:!0});const{isIndeterminate:s,isChecked:i,toggleCheckbox:r,getCheckedKeys:f,getCheckedNodes:k,getHalfCheckedKeys:p,getHalfCheckedNodes:y,setChecked:m,setCheckedKeys:S}=function(e,t){const n=(0,a.iH)(new Set),o=(0,a.iH)(new Set),{emit:l}=(0,d.FN)();(0,d.YP)([()=>t.value,()=>e.defaultCheckedKeys],(()=>(0,d.Y3)((()=>{k(e.defaultCheckedKeys)}))),{immediate:!0});const c=()=>{if(!t.value||!e.showCheckbox||e.checkStrictly)return;const{levelTreeNodeMap:d,maxLevel:a}=t.value,l=n.value,c=new Set;for(let e=a-1;e>=1;--e){const t=d.get(e);t&&t.forEach((e=>{const t=e.children;if(t){let n=!0,d=!1;for(const e of t){const t=e.key;if(l.has(t))d=!0;else{if(c.has(t)){n=!1,d=!0;break}n=!1}}n?l.add(e.key):d?(c.add(e.key),l.delete(e.key)):(l.delete(e.key),c.delete(e.key))}}))}o.value=c},s=e=>n.value.has(e.key),i=(t,d,o=!0)=>{const a=n.value,l=(t,n)=>{a[n?h.ADD:h.DELETE](t.key);const d=t.children;!e.checkStrictly&&d&&d.forEach((e=>{e.disabled||l(e,n)}))};l(t,d),c(),o&&r(t,d)},r=(e,t)=>{const{checkedNodes:n,checkedKeys:d}=u(),{halfCheckedNodes:o,halfCheckedKeys:a}=f();l(N,e.data,{checkedKeys:d,checkedNodes:n,halfCheckedKeys:a,halfCheckedNodes:o}),l(b,e.data,t)};function u(d=!1){const o=[],a=[];if((null==t?void 0:t.value)&&e.showCheckbox){const{treeNodeMap:e}=t.value;n.value.forEach((t=>{const n=e.get(t);n&&(!d||d&&n.isLeaf)&&(a.push(t),o.push(n.data))}))}return{checkedKeys:a,checkedNodes:o}}function f(){const n=[],d=[];if((null==t?void 0:t.value)&&e.showCheckbox){const{treeNodeMap:e}=t.value;o.value.forEach((t=>{const o=e.get(t);o&&(d.push(t),n.push(o.data))}))}return{halfCheckedNodes:n,halfCheckedKeys:d}}function k(n){if(null==t?void 0:t.value){const{treeNodeMap:d}=t.value;if(e.showCheckbox&&d&&n)for(const e of n){const t=d.get(e);t&&!s(t)&&i(t,!0,!1)}}}return{updateCheckedKeys:c,toggleCheckbox:i,isChecked:s,isIndeterminate:e=>o.value.has(e.key),getCheckedKeys:function(e=!1){return u(e).checkedKeys},getCheckedNodes:function(e=!1){return u(e).checkedNodes},getHalfCheckedKeys:function(){return f().halfCheckedKeys},getHalfCheckedNodes:function(){return f().halfCheckedNodes},setChecked:function(n,d){if((null==t?void 0:t.value)&&e.showCheckbox){const e=t.value.treeNodeMap.get(n);e&&i(e,d,!1)}},setCheckedKeys:function(e){n.value.clear(),o.value.clear(),k(e)}}}(e,c),{doFilter:K,hiddenNodeKeySet:E,isForceHiddenExpandIcon:w}=function(e,t){const n=(0,a.iH)(new Set([])),l=(0,a.iH)(new Set([])),c=(0,d.Fl)((()=>(0,o.mf)(e.filterMethod)));return{hiddenExpandIconKeySet:l,hiddenNodeKeySet:n,doFilter:function(d){var o;if(!c.value)return;const a=new Set,s=l.value,i=n.value,r=[],u=(null==(o=t.value)?void 0:o.treeNodes)||[],h=e.filterMethod;return i.clear(),function e(t){t.forEach((t=>{r.push(t),(null==h?void 0:h(d,t.data))?r.forEach((e=>{a.add(e.key)})):t.isLeaf&&i.add(t.key);const n=t.children;if(n&&e(n),!t.isLeaf)if(a.has(t.key)){if(n){let e=!0;for(const t of n)if(!i.has(t.key)){e=!1;break}e?s.add(t.key):s.delete(t.key)}}else i.add(t.key);r.pop()}))}(u),a},isForceHiddenExpandIcon:function(e){return l.value.has(e.key)}}}(e,c),U=(0,d.Fl)((()=>{var t;return(null==(t=e.props)?void 0:t.value)||u.KEY})),H=(0,d.Fl)((()=>{var t;return(null==(t=e.props)?void 0:t.children)||u.CHILDREN})),D=(0,d.Fl)((()=>{var t;return(null==(t=e.props)?void 0:t.disabled)||u.DISABLED})),L=(0,d.Fl)((()=>{var t;return(null==(t=e.props)?void 0:t.label)||u.LABEL})),M=(0,d.Fl)((()=>{const e=n.value,t=E.value,d=[],o=c.value&&c.value.treeNodes||[];return function(){const n=[];for(let e=o.length-1;e>=0;--e)n.push(o[e]);for(;n.length;){const o=n.pop();if(o&&(t.has(o.key)||d.push(o),e.has(o.key))){const e=o.children;if(e){for(let t=e.length-1;t>=0;--t)n.push(e[t])}}}}(),d})),F=(0,d.Fl)((()=>M.value.length>0));function B(e){return e[H.value]}function I(e){return e?e[U.value]:""}function A(e){return e[D.value]}function T(e){return e[L.value]}function _(e){n.value.has(e.key)?j(e):q(e)}function q(d){const o=n.value;if(c.value&&e.accordion){const{treeNodeMap:e}=c.value;o.forEach((t=>{const n=e.get(t);d&&d.level===(null==n?void 0:n.level)&&o.delete(t)}))}o.add(d.key),t(C,d.data,d)}function j(e){n.value.delete(e.key),t(g,e.data,e)}function z(e){const t=l.value;return!!t&&t===e.key}function Z(e){(0,d.Y3)((()=>c.value=function(e){const t=new Map,n=new Map;let d=1;const o=function e(o,a=1,l){var c;const s=[];for(const d of o){const o=I(d),i={level:a,key:o,data:d};i.label=T(d),i.parent=l;const r=B(d);i.disabled=A(d),i.isLeaf=!r||0===r.length,r&&r.length&&(i.children=e(r,a+1,i)),s.push(i),t.set(o,i),n.has(a)||n.set(a,[]),null==(c=n.get(a))||c.push(i)}return a>d&&(d=a),s}(e);return{treeNodeMap:t,levelTreeNodeMap:n,maxLevel:d,treeNodes:o}}(e)))}return{tree:c,flattenTree:M,isNotEmpty:F,getKey:I,getChildren:B,toggleExpand:_,toggleCheckbox:r,isExpanded:function(e){return n.value.has(e.key)},isChecked:i,isIndeterminate:s,isDisabled:function(e){return!!e.disabled},isCurrent:z,isForceHiddenExpandIcon:w,handleNodeClick:function(n,d){t(v,n.data,n,d),function(e){z(e)||(l.value=e.key,t(x,e.data,e))}(n),e.expandOnClickNode&&_(n),e.showCheckbox&&e.checkOnClickNode&&!n.disabled&&r(n,!i(n),!0)},handleNodeCheck:function(e,t){r(e,t)},getCurrentNode:function(){var e,t;if(l.value)return null==(t=null==(e=c.value)?void 0:e.treeNodeMap.get(l.value))?void 0:t.data},getCurrentKey:function(){return l.value},setCurrentKey:function(e){l.value=e},getCheckedKeys:f,getCheckedNodes:k,getHalfCheckedKeys:p,getHalfCheckedNodes:y,setChecked:m,setCheckedKeys:S,filter:function(e){const t=K(e);t&&(n.value=t)},setData:Z,getNode:function(e){var t;const n=(0,o.Kn)(e)?I(e):e;return null==(t=c.value)?void 0:t.treeNodeMap.get(n)},expandNode:q,collapseNode:j,setExpandedKeys:function(e){n.value=new Set(e)}}}var E=n(71254),w=n(89888),U=n(48127),H=n(50240),D=n(58533),L=(0,d.aZ)({name:"ElTreeNodeContent",props:y,setup(e){const t=(0,d.f3)(i),n=(0,D.s3)("tree");return()=>{const o=e.node,{data:a}=o;return(null==t?void 0:t.ctx.slots.default)?t.ctx.slots.default({node:o,data:a}):(0,d.h)("span",{class:n.be("node","label")},[null==o?void 0:o.label])}}}),M=n(63582);const F=["aria-expanded","aria-disabled","aria-checked","data-key","onClick"],B=(0,d.aZ)({name:"ElTreeNode"}),I=(0,d.aZ)({...B,props:p,emits:{click:(e,t)=>!(!e||!t),toggle:e=>!!e,check:(e,t)=>e&&"boolean"==typeof t},setup(e,{emit:t}){const n=e,l=(0,d.f3)(i),c=(0,D.s3)("tree"),s=(0,d.Fl)((()=>{var e;return null!=(e=null==l?void 0:l.props.indent)?e:16})),r=(0,d.Fl)((()=>{var e;return null!=(e=null==l?void 0:l.props.icon)?e:U.TZ})),u=e=>{t("click",n.node,e)},h=()=>{t("toggle",n.node)},f=e=>{t("check",n.node,e)},k=e=>{var t,d,o,a;(null==(o=null==(d=null==(t=null==l?void 0:l.instance)?void 0:t.vnode)?void 0:d.props)?void 0:o.onNodeContextmenu)&&(e.stopPropagation(),e.preventDefault()),null==l||l.ctx.emit(m,e,null==(a=n.node)?void 0:a.data,n.node)};return(e,t)=>{var n,l,i;return(0,d.wg)(),(0,d.iD)("div",{ref:"node$",class:(0,o.C_)([(0,a.SU)(c).b("node"),(0,a.SU)(c).is("expanded",e.expanded),(0,a.SU)(c).is("current",e.current),(0,a.SU)(c).is("focusable",!e.disabled),(0,a.SU)(c).is("checked",!e.disabled&&e.checked)]),role:"treeitem",tabindex:"-1","aria-expanded":e.expanded,"aria-disabled":e.disabled,"aria-checked":e.checked,"data-key":null==(n=e.node)?void 0:n.key,onClick:(0,E.iM)(u,["stop"]),onContextmenu:k},[(0,d._)("div",{class:(0,o.C_)((0,a.SU)(c).be("node","content")),style:(0,o.j5)({paddingLeft:(e.node.level-1)*(0,a.SU)(s)+"px",height:e.itemSize+"px"})},[(0,a.SU)(r)?((0,d.wg)(),(0,d.j4)((0,a.SU)(w.gn),{key:0,class:(0,o.C_)([(0,a.SU)(c).is("leaf",!!(null==(l=e.node)?void 0:l.isLeaf)),(0,a.SU)(c).is("hidden",e.hiddenExpandIcon),{expanded:!(null==(i=e.node)?void 0:i.isLeaf)&&e.expanded},(0,a.SU)(c).be("node","expand-icon")]),onClick:(0,E.iM)(h,["stop"])},{default:(0,d.w5)((()=>[((0,d.wg)(),(0,d.j4)((0,d.LL)((0,a.SU)(r))))])),_:1},8,["class","onClick"])):(0,d.kq)("v-if",!0),e.showCheckbox?((0,d.wg)(),(0,d.j4)((0,a.SU)(H.ElCheckbox),{key:1,"model-value":e.checked,indeterminate:e.indeterminate,disabled:e.disabled,onChange:f,onClick:t[0]||(t[0]=(0,E.iM)((()=>{}),["stop"]))},null,8,["model-value","indeterminate","disabled"])):(0,d.kq)("v-if",!0),(0,d.Wm)((0,a.SU)(L),{node:e.node},null,8,["node"])],6)],42,F)}}});var A=(0,M.Z)(I,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tree-v2/src/tree-node.vue"]]),T=n(77234),_=n(80135),q=n(28640);const j=(0,d.aZ)({name:"ElTreeV2"}),z=(0,d.aZ)({...j,props:k,emits:S,setup(e,{expose:t,emit:n}){const l=e,c=(0,d.Rr)(),s=(0,d.Fl)((()=>l.itemSize));(0,d.JJ)(i,{ctx:{emit:n,slots:c},props:l,instance:(0,d.FN)()}),(0,d.JJ)(T.K,void 0);const{t:r}=(0,_.bU)(),u=(0,D.s3)("tree"),{flattenTree:h,isNotEmpty:f,toggleExpand:k,isExpanded:p,isIndeterminate:y,isChecked:v,isDisabled:C,isCurrent:g,isForceHiddenExpandIcon:x,handleNodeClick:N,handleNodeCheck:b,toggleCheckbox:m,getCurrentNode:S,getCurrentKey:E,setCurrentKey:w,getCheckedKeys:U,getCheckedNodes:H,getHalfCheckedKeys:L,getHalfCheckedNodes:M,setChecked:F,setCheckedKeys:B,filter:I,setData:j,getNode:z,expandNode:Z,collapseNode:Y,setExpandedKeys:O}=K(l,n);return t({toggleCheckbox:m,getCurrentNode:S,getCurrentKey:E,setCurrentKey:w,getCheckedKeys:U,getCheckedNodes:H,getHalfCheckedKeys:L,getHalfCheckedNodes:M,setChecked:F,setCheckedKeys:B,filter:I,setData:j,getNode:z,expandNode:Z,collapseNode:Y,setExpandedKeys:O}),(e,t)=>{var n;return(0,d.wg)(),(0,d.iD)("div",{class:(0,o.C_)([(0,a.SU)(u).b(),{[(0,a.SU)(u).m("highlight-current")]:e.highlightCurrent}]),role:"tree"},[(0,a.SU)(f)?((0,d.wg)(),(0,d.j4)((0,a.SU)(q.Z),{key:0,"class-name":(0,a.SU)(u).b("virtual-list"),data:(0,a.SU)(h),total:(0,a.SU)(h).length,height:e.height,"item-size":(0,a.SU)(s),"perf-mode":e.perfMode},{default:(0,d.w5)((({data:t,index:n,style:l})=>[((0,d.wg)(),(0,d.j4)(A,{key:t[n].key,style:(0,o.j5)(l),node:t[n],expanded:(0,a.SU)(p)(t[n]),"show-checkbox":e.showCheckbox,checked:(0,a.SU)(v)(t[n]),indeterminate:(0,a.SU)(y)(t[n]),"item-size":(0,a.SU)(s),disabled:(0,a.SU)(C)(t[n]),current:(0,a.SU)(g)(t[n]),"hidden-expand-icon":(0,a.SU)(x)(t[n]),onClick:(0,a.SU)(N),onToggle:(0,a.SU)(k),onCheck:(0,a.SU)(b)},null,8,["style","node","expanded","show-checkbox","checked","indeterminate","item-size","disabled","current","hidden-expand-icon","onClick","onToggle","onCheck"]))])),_:1},8,["class-name","data","total","height","item-size","perf-mode"])):((0,d.wg)(),(0,d.iD)("div",{key:1,class:(0,o.C_)((0,a.SU)(u).e("empty-block"))},[(0,d._)("span",{class:(0,o.C_)((0,a.SU)(u).e("empty-text"))},(0,o.zw)(null!=(n=e.emptyText)?n:(0,a.SU)(r)("el.tree.emptyText")),3)],2))],2)}}});var Z=(0,M.Z)(z,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tree-v2/src/tree.vue"]]);const Y=(0,n(18569).nz)(Z)}}]);
//# sourceMappingURL=4561.js.map