"use strict";(self.webpackChunkxxxxx=self.webpackChunkxxxxx||[]).push([[5006],{25006:(n,e,t)=>{t.d(e,{Z:()=>Vn});var a=t(44511),l=(t(47465),t(76),t(45086)),o=(t(46348),t(74366)),i=(t(80036),t(49663),t(70670)),r=(t(74763),t(84365)),p=(t(23078),t(17075)),u=(t(11595),t(97796)),s=(t(17153),t(86605)),c=(t(80173),t(38819)),d=(t(87838),t(18938),t(991)),f=(t(93785),t(89888)),m=(t(31581),t(64117)),v=(t(1610),t(91387),t(99539)),w=t.n(v),g=t(52780),b=t.n(g),h=t(961),k=t.n(h),y=t(52122),A=t.n(y),E=t(11549),S=t.n(E),I=t(66802),x=t.n(I),D=t(82831),_=t.n(D),C=t(83256),W=t.n(C),U=t(34629),L=t(18362),P=t.n(L),N=t(93167),q=t.n(N),R=t(37e3),j=t.n(R),V=t(33657),O=t.n(V),K=(t(18554),t(84485),t(53394),t(49717),t(15165),t(24641),t(17391),t(10175),t(57629),t(26440)),z=t(71254),F=t(92811),Z=t(81040),T=t(18230),B=t(38691),G=t(24253),H=t(83025),M=t(31270),Y=t(7142),$=t(51715),X=t(48127),J=t(93349),Q=t(22585),nn=t(61911),en=t(35405),tn=t(25080),an=t(20115);t(41386);function ln(n,e){var t=w()(n);if(b()){var a=b()(n);e&&(a=k()(a).call(a,(function(e){return A()(n,e).enumerable}))),t.push.apply(t,a)}return t}function on(n){for(var e=1;e<arguments.length;e++){var t,a,l=null!=arguments[e]?arguments[e]:{};e%2?S()(t=ln(Object(l),!0)).call(t,(function(e){(0,U.Z)(n,e,l[e])})):x()?_()(n,x()(l)):S()(a=ln(Object(l))).call(a,(function(e){W()(n,e,A()(l,e))}))}return n}var rn=function(n){return(0,K.dD)("data-v-5e6b1c62"),n=n(),(0,K.Cn)(),n},pn={class:"box"},un={class:"search"},sn=rn((function(){return(0,K._)("span",{class:"label"},"状态",-1)})),cn=rn((function(){return(0,K._)("span",{class:"label"},"渠道",-1)})),dn={key:1,style:{display:"flex","align-items":"center",gap:"6px","line-height":"1"}},fn=rn((function(){return(0,K._)("span",{class:"radio",style:{width:"5px",height:"5px","background-color":"#666666"}},null,-1)})),mn=rn((function(){return(0,K._)("span",null,"未统计数据",-1)})),vn=rn((function(){return(0,K._)("img",{src:T,alt:""},null,-1)})),wn={class:"verinfo"},gn=rn((function(){return(0,K._)("span",{class:"label"},"APP名称：",-1)})),bn=rn((function(){return(0,K._)("span",{class:"label"},"所属账号：",-1)})),hn=rn((function(){return(0,K._)("p",null,[(0,K._)("span",{class:"label"},"绑定类型："),(0,K.Uk)("APP")],-1)})),kn={style:{display:"flex","align-items":"center",gap:"6px"}},yn={key:0},An={key:1},En={key:2},Sn={key:3},In={key:4,style:{width:"200px",display:"flex","align-items":"center"}},xn=rn((function(){return(0,K._)("span",null,"打包中",-1)})),Dn=rn((function(){return(0,K._)("img",{style:{width:"32px",height:"32px"},src:B,alt:""},null,-1)})),_n={key:5},Cn=["src"],Wn={key:6},Un={key:7},Ln={key:8},Pn=["src"],Nn={key:9,style:{width:"200px",display:"flex",gap:"8px","align-items":"center"}},qn=rn((function(){return(0,K._)("span",null,"下载中",-1)})),Rn={key:10},jn=["src"];const Vn={__name:"ios",setup:function(n){var e=(0,K.f3)("realodSurvey"),t=(0,K.FN)().appContext.config.globalProperties.$ajax,v=((0,en.tv)(),JSON.parse((0,tn.PR)())),w=(0,F.iH)(!1),g=(0,F.iH)(!0),b=(0,F.iH)(),h=(0,F.qj)({visible:!1,loading:!1,select:[],form:{appid:"",tjId:""},open:function(n){h.visible=!0,h.form={appid:n.appId,tjId:""},k(n.siteId)},submit:function(){var n;h.loading=!0,t.put(P()(n="/api/v1/supt/app/IOS/bind/".concat(h.form.appid,"/statistic/")).call(n,h.form.tjId)).then((function(n){(0,an.bM)({position:"bottom-right",type:"success",message:"绑定成功"}),E.load(),h.visible=!1})).finally((function(){h.loading=!1}))}}),k=function(n){t.get("/api/v1/supt/statistics/app",{params:{limit:999999,page:1,siteId:n}}).then((function(n){var e=n.data.data.list;h.select=e}))};t.get("/api/v1/system/plugin").then((function(n){var e,t=n.data;w.value=1===(null===(e=q()(t).call(t,(function(n){return"53753F2A7D834F08918B0BB24AE28B84"===n.hash})))||void 0===e?void 0:e.status)})).finally((function(){g.value=!1}));var y=function(){(0,M.Z)({message:"确定要开启统计吗?",okEms:"开启成功"},(function(){return g.value=!0,t.put("/api/v1/system/plugin",{hash:"53753F2A7D834F08918B0BB24AE28B84",status:1}).then((function(n){n.data;w.value=!0})).catch((function(n){w.value=!1})).finally((function(n){g.value=!1}))}))},A=(0,F.iH)({pageIndex:1,pageSize:20,total:0}),E=(0,F.qj)({search:{},data:[],loading:!1,load:function(n){var e,a;A.value=n||A.value,I.load(),E.loading=!0,t.get("/api/v1/supt/app/IOS",{params:on(on({},E.search),{},{channelId:0===(null===(e=E.search)||void 0===e?void 0:e.channelId)?"0":(null===(a=E.search)||void 0===a?void 0:a.channelId)||void 0,limit:A.value.pageSize,page:A.value.pageIndex})}).then((function(n){var e=n.data.data;E.data=e.list,A.value.total=e.total})).finally((function(){E.loading=!1}))}}),S=(0,F.iH)(),I=(0,F.qj)({data:[],load:function(){t.get("/api/v3/channels",{params:{limit:999,page:1}}).then((function(n){var e=n.data;e.list.unshift({id:0,name:"默认渠道",channelCode:"",state:1,domains:[],memberCount:0}),I.data=e.list}))}});E.load();(0,F.iH)("");var x=(0,F.qj)({visible:!1,form:{channelId:[]},loading:!1,row:void 0,open:function(n){var e;x.visible=!0,x.row=n,x.form.appId=n.unitUid,x.form.channelId=(null===(e=n.useChannels)||void 0===e?void 0:j()(e).call(e,(function(n){return n.id})))||[]},close:function(){x.form={channelId:[]},x.row={},x.visible=!1},submit:function(n){var e,a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],l=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];x.loading=!0,(l?a?t.post("/api/v1/supt/app/channel/IOS",x.form):t.put("/api/v1/supt/app/channel/IOS",x.form):t.delete(P()(e="/api/v3/channel/".concat(x.row.id,"/unbind/")).call(e,n))).then((function(n){n.data;E.load(),x.loading=!1,x.close(),(0,an.bM)({position:"bottom-right",type:"success",message:"绑定成功"})}))}}),D=null,_=function(){clearInterval(D),D=null},C=function n(){var e,a;A.value=A.value,t.get("/api/v1/supt/app/IOS",{params:on(on({},E.search),{},{channelId:0===(null===(e=E.search)||void 0===e?void 0:e.channelId)?"0":(null===(a=E.search)||void 0===a?void 0:a.channelId)||void 0,limit:A.value.pageSize,page:A.value.pageIndex})}).then((function(n){var e=n.data.data;E.data=e.list})).finally((function(){D&&_(),D=O()((function(){n()}),3e3)}))};return(0,K.bv)((function(){C()})),(0,K.Ah)((function(){_()})),function(n,g){var k=m.BT,x=m.ElSelect,D=f.gn,_=d.EZ,C=i.$Y,W=c.OX,U=s.ElButton,L=u.$t,P=p.Q0,N=r.Xh,q=i.eI,R=o.nH,j=o.ly,V=l.d0,O=a.t;return(0,K.wg)(),(0,K.iD)("div",pn,[(0,K._)("div",un,[sn,(0,K.Wm)(x,{modelValue:E.search.state,"onUpdate:modelValue":g[0]||(g[0]=function(n){return E.search.state=n}),placeholder:"不限状态",class:"part",clearable:"",onChange:g[1]||(g[1]=function(n){A.value.pageIndex=1,E.load()})},{default:(0,K.w5)((function(){return[(0,K.Wm)(k,{label:"未打包",value:"UNPACKED"}),(0,K.Wm)(k,{label:"待打包",value:"WAIT-PACKED"}),(0,K.Wm)(k,{label:"打包中",value:"PACKING"}),(0,K.Wm)(k,{label:"打包失败",value:"PACK-FAILED"}),(0,K.Wm)(k,{label:"待发布",value:"DOWNLOAD-SUCCESS"}),(0,K.Wm)(k,{label:"已发布",value:"RELEASED"}),(0,K.Wm)(k,{label:"发布失败",value:"RELEASE-FAILED"})]})),_:1},8,["modelValue"]),cn,(0,K.Wm)(x,{modelValue:E.search.channelId,"onUpdate:modelValue":g[2]||(g[2]=function(n){return E.search.channelId=n}),placeholder:"不限渠道",class:"part",clearable:"",onChange:g[3]||(g[3]=function(n){A.value.pageIndex=1,E.load()})},{default:(0,K.w5)((function(){return[((0,K.wg)(!0),(0,K.iD)(K.HY,null,(0,K.Ko)(I.data,(function(n){return(0,K.wg)(),(0,K.j4)(k,{key:n.id,label:n.name,value:n.id},null,8,["label","value"])})),128))]})),_:1},8,["modelValue"]),(0,K.Wm)(_,{modelValue:E.search.keywords,"onUpdate:modelValue":g[4]||(g[4]=function(n){return E.search.keywords=n}),class:"part",clearable:"",placeholder:"搜索关键字",onKeyup:g[5]||(g[5]=(0,z.D2)((function(n){A.value.pageIndex=1,E.load()}),["enter"])),onBlur:g[6]||(g[6]=function(n){A.value.pageIndex=1,E.load()})},{prefix:(0,K.w5)((function(){return[(0,K.Wm)(D,{class:"el-input__icon"},{default:(0,K.w5)((function(){return[(0,K.Wm)((0,F.SU)(X.olm))]})),_:1})]})),_:1},8,["modelValue"]),(0,K.kq)(' <el-input\n        v-model="table.search.keywords"\n        class="part"\n        clearable\n        placeholder="搜索关键字"\n@keyup.enter="\n          pageinfo.pageIndex = 1;\n          table.load();\n        "\n        @blur="\n          pageinfo.pageIndex = 1;\n          table.load();\n        "\n      >\n        <template #prefix>\n          <el-icon class="el-input__icon"><search /></el-icon>\n        </template>\n      </el-input> ')]),(0,K.wy)(((0,K.wg)(),(0,K.j4)(q,{class:"auto",data:E.data,stripe:!0,height:"calc(100vh - 250px)"},{default:(0,K.w5)((function(){return[(0,K.Wm)(C,{prop:"appName",label:"应用名称","show-overflow-tooltip":!0},{default:(0,K.w5)((function(){return[(0,K.kq)(' <template #default="{ row }">\n          <el-button\n            :disabled="!row.channelCode"\n            type="primary"\n            link\n            @click="copyUrl(row.channelCode)"\n          >\n            {{ row.channelCode || "-" }}\n          </el-button>\n        </template> ')]})),_:1}),(0,K.Wm)(C,{prop:"Icon",label:"应用图标",width:"80","show-overflow-tooltip":!0},{default:(0,K.w5)((function(n){var e=n.row;return[(0,K.Wm)(H.Z,{src:e.Icon,style:{width:"30px",height:"30px"}},null,8,["src"])]})),_:1}),(0,K.kq)(' <el-table-column\n        prop="Version"\n        label="当前版本"\n        :show-overflow-tooltip="true"\n      >\n      </el-table-column> '),(0,K.Wm)(C,{label:"内置渠道"},{default:(0,K.w5)((function(n){var e=n.row;return[(0,K.kq)(' {{ channe.data?.find((v) => v.id === row.channelId)?.name || "-" }} '),(0,K.Uk)(" "+(0,Z.zw)(e.channelName),1)]})),_:1}),(0,K.kq)(' <el-table-column label="绑定渠道" :show-overflow-tooltip="true">\n        <template #default="{ row }">\n          <el-button\n            :type="\n              !row.useChannels || row.useChannels.length === 0\n                ? \'danger\'\n                : \'primary\'\n            "\n            link\n            @click="bindDia.open(row)"\n          >\n            {{\n              !row.useChannels || row.useChannels.length === 0\n                ? "未统计"\n                : row.useChannels?.map((v) => v.channelName).join("，")\n            }}\n          </el-button>\n        </template>\n      </el-table-column> '),(0,K.Wm)(C,{label:"数据统计","show-overflow-tooltip":!0},{default:(0,K.w5)((function(n){var e=n.row;return[!1===w.value?((0,K.wg)(),(0,K.j4)(W,{key:0,"model-value":w.value,"onUpdate:modelValue":y,"active-value":!0,"inactive-value":!1},null,8,["model-value"])):e.statisticId?((0,K.wg)(),(0,K.j4)(L,{key:2,placement:"right",width:"380px",disabled:!0,trigger:"hover"},{reference:(0,K.w5)((function(){return[(0,K.Wm)(U,{type:"primary",link:"",onClick:function(n){return a=e.appId,void(0,M.Z)({message:"确定要解除绑定吗?",okEms:"解除绑定成功"},(function(){return E.loading=!0,t.put("/api/v1/supt/app/IOS/bind/".concat(a,"/statistic/0")).then((function(n){E.load()})).catch((function(){E.loading=!1}))}));var a}},{default:(0,K.w5)((function(){return[(0,K.Uk)((0,Z.zw)(e.statisticAppName),1)]})),_:2},1032,["onClick"])]})),default:(0,K.w5)((function(){var n;return[(0,K._)("div",wn,[(0,K._)("div",null,[(0,K._)("p",null,[gn,(0,K.Uk)((0,Z.zw)(e.statisticAppName),1)]),(0,K._)("p",null,[bn,(0,K.Uk)((0,Z.zw)(null===(n=(0,F.SU)(v))||void 0===n?void 0:n.username),1)]),hn])])]})),_:2},1024)):((0,K.wg)(),(0,K.iD)("p",dn,[fn,mn,(0,K.Wm)(U,{type:"primary",link:"",onClick:function(n){return h.open(e)}},{default:(0,K.w5)((function(){return[vn]})),_:2},1032,["onClick"])]))]})),_:1}),(0,K.kq)(' <el-table-column\n        prop="name"\n        label="所属渠道"\n        :show-overflow-tooltip="true"\n      >\n        <template #default="{ row }">\n          {{ channe.data?.find((v) => v.id === row.channelId)?.name || "-" }}\n        </template>\n      </el-table-column> '),(0,K.Wm)(C,{prop:"Domain",label:"内置域名","show-overflow-tooltip":!0},{default:(0,K.w5)((function(n){var e=n.row;return[(0,K.Uk)((0,Z.zw)(e.Domain||"-"),1)]})),_:1}),(0,K.Wm)(C,{label:"当前版本信息",prop:"version"},{default:(0,K.w5)((function(n){var e=n.row;return[(0,K.Uk)((0,Z.zw)(e.version||"-"),1)]})),_:1}),(0,K.Wm)(C,{label:"最新版本信息",prop:"version"},{default:(0,K.w5)((function(n){var e=n.row;return[(0,K.Uk)((0,Z.zw)(e.latestAppVersion||"-")+" ",1),(0,K.kq)(' <el-popover placement="right" width="380px" trigger="hover" :disabled="!row.version">\n            <template #reference>\n              <el-button type="primary" link v-if="row.version"> {{ row.version }}</el-button><span v-else>-</span>\n            </template>\n            <div class="verinfo">\n              <div>\n                <p><span class="label">当前版本：</span>{{ row.version }}<span v-if="row.latestAppVersion === row.version" class="version_hint">（当前已是最新版本）</span></p>\n                <p>\n                  <span class="label">打包状态：</span>\n                  <span v-if="row.State === \'UNPACKED\'">未打包</span>\n                  <span v-else-if="row.State === \'WAIT-PACKED\'">待打包</span>\n                  <span v-else-if="row.State === \'PACKING\'">打包中</span>\n                  <span v-else-if="row.State === \'PACK-FAILED\'">打包失败</span>\n                  <span v-else-if="row.PackAt">已打包 &nbsp;&nbsp;{{\n                    row.PackAt ? format(row.PackAt) : "-"\n                  }}</span>\n                </p>\n                <p>\n                  <span class="label">发布状态：</span>\n                  <span v-if="row.State === \'WAIT-RELEASE\'">待发布</span>\n                  <span v-else-if="row.State === \'RELEASED\'">已发布 &nbsp;&nbsp;{{\n                    row.publishAt ? format(row.publishAt) : "-"\n                  }}</span>\n                  <span v-else-if="row.State === \'RELEASE-FAILED\'">发布失败</span>\n                  <span v-else>-</span>\n                </p>\n                <p style="display: flex;flex-wrap: wrap;">\n                  <span class="label">版本摘要：</span>\n                <div v-html="row.updateContent"></div>\n                </p>\n              </div>\n              <span style="\n                  display: block;\n                  height: 1px;\n                  background-color: #e4e4e4;\n                  margin: 24px 0;\n                " v-if="row.latestAppVersion !== row.version"></span>\n              <div v-if="row.latestAppVersion !== row.version">\n                <p>\n                  <span class="label">最新版本：</span>{{ row.latestAppVersion || "-" }}\n                </p>\n                <div style="display: flex;flex-wrap: wrap;">\n                  <span class="label">版本摘要：</span>\n                <div v-html="row.latestAppUpdateContent"></div>\n                </div>\n                <el-button type="primary" style="margin-left: auto;font-size: 12px;" link :disabled="row.State === \'PACKING\'"\n                      @click="createPack(row, row.latestAppVersionId)">\n                      打包最新版本\n                </el-button>\n              </div>\n            </div>\n          </el-popover> ')]})),_:1}),(0,K.Wm)(C,{label:"当前版本状态",prop:"status"},{default:(0,K.w5)((function(n){var e=n.row;return[(0,K._)("div",kn,[(0,K._)("span",{style:{display:"inline-block",height:"5px",width:"5px","border-radius":"50%"},class:(0,Z.C_)(e.State)},null,2),"UNPACKED"===e.State?((0,K.wg)(),(0,K.iD)("span",yn,"未打包")):"WAIT-PACKED"===e.State?((0,K.wg)(),(0,K.iD)("span",An,"待打包")):"DOWNLOAD-SUCCESS"===e.State?((0,K.wg)(),(0,K.iD)("span",En,"待发布")):"DOWNLOAD-WAIT"===e.State?((0,K.wg)(),(0,K.iD)("span",Sn,"打包完成")):"PACKING"===e.State?((0,K.wg)(),(0,K.iD)("div",In,[xn,Dn,(0,K.kq)(" <el-progress style=\"flex: 1\" v-if=\"Number(row.packInfo.replace('%', '')) >= 0\"\n                :percentage=\"Number(row.packInfo.replace('%', ''))\" /> ")])):"PACK-FAILED"===e.State?((0,K.wg)(),(0,K.iD)("span",_n,[(0,K.Uk)(" 打包失败 "),e.packInfo?((0,K.wg)(),(0,K.j4)(P,{key:0,class:"box-item",effect:"light",content:e.packInfo,placement:"top"},{default:(0,K.w5)((function(){return[(0,K._)("img",{src:(0,F.SU)(G),style:{width:"11px"},alt:""},null,8,Cn)]})),_:2},1032,["content"])):(0,K.kq)("v-if",!0)])):"WAIT-RELEASE"===e.State||"WAIT-RELEASE"===e.State?((0,K.wg)(),(0,K.iD)("span",Wn,"打包完成")):"RELEASED"===e.State?((0,K.wg)(),(0,K.iD)("span",Un,"已发布")):"RELEASE-FAILED"===e.State?((0,K.wg)(),(0,K.iD)("span",Ln,[(0,K.Uk)("发布失败 "),e.packInfo?((0,K.wg)(),(0,K.j4)(P,{key:0,class:"box-item",effect:"light",content:e.packInfo,placement:"top"},{default:(0,K.w5)((function(){return[(0,K._)("img",{src:(0,F.SU)(G),style:{width:"11px"},alt:""},null,8,Pn)]})),_:2},1032,["content"])):(0,K.kq)("v-if",!0)])):"DOWNLOADING"===e.State?((0,K.wg)(),(0,K.iD)("div",Nn,[qn,Number(e.downProcess.replace("%",""))>=0?((0,K.wg)(),(0,K.j4)(N,{key:0,style:{flex:"1"},percentage:Number(e.downProcess.replace("%",""))},null,8,["percentage"])):(0,K.kq)("v-if",!0)])):"DOWNLOAD-FAIL"===e.State?((0,K.wg)(),(0,K.iD)("span",Rn,[(0,K.Uk)(" 下载失败 "),e.downloadMessage?((0,K.wg)(),(0,K.j4)(P,{key:0,class:"box-item",effect:"light",content:e.downloadMessage,placement:"top"},{default:(0,K.w5)((function(){return[(0,K._)("img",{src:(0,F.SU)(G),style:{width:"11px"},alt:""},null,8,jn)]})),_:2},1032,["content"])):(0,K.kq)("v-if",!0)])):(0,K.kq)("v-if",!0)])]})),_:1}),(0,K.Wm)(C,{label:"更新时间",prop:"createAt"},{default:(0,K.w5)((function(n){var e=n.row;return[(0,K.Uk)((0,Z.zw)(e.createAt?(0,F.SU)($.Z)(e.createAt):"-"),1)]})),_:1}),(0,K.Wm)(C,{fixed:"right",label:"操作",align:"right",width:"250"},{default:(0,K.w5)((function(n){var a=n.row;return[(0,K.kq)(' <el-popover placement="left" width="auto" trigger="click" @before-enter="downloadApp(row, false)">\n            <template #reference>\n\n            </template>\n            <div v-loading="row.downLoading"  class="qrcodemodal"  style="width: 200px">\n              <qrcode-vue v-if="downUrl" :value="downUrl" :size="200" level="H" />\n              <el-icon v-else size="200px" color="#e1e2e3"><icon-picture /></el-icon>\n              <el-button type="primary" style="margin-top: 16px;" link  @click="downloadApp(row)">\n                下载到本地\n              </el-button>\n            </div>\n          </el-popover> '),(0,K.wy)(((0,K.wg)(),(0,K.j4)(U,{type:"primary",link:"",onClick:function(n){return function(n){b.value.open(n)}(a)},disabled:!("WAIT-RELEASE"===a.State||"RELEASED"===a.State||"RELEASE-FAILED"===a.State)},{default:(0,K.w5)((function(){return[(0,K.Uk)(" 下载 ")]})),_:2},1032,["onClick","disabled"])),[[O,a.downLoading]]),(0,K.kq)(' <el-button type="primary" :disabled="row.State === \'PACKING\'" link\n            @click="createPack(row)">\n            {{ row.State === \'WAIT-RELEASE\' ||\n                row.State === \'RELEASED\' ||\n                row.State === \'RELEASE-FAILED\' ? "重新打包" : "打包" }}\n          </el-button> '),(0,K.Wm)(U,{type:"primary",link:"",disabled:"PACKING"===a.State,onClick:function(n){return function(n,e){var a={};e&&(a.appVersionId=e),(0,M.Z)({message:"确定要".concat("WAIT-RELEASE"===n.State||"RELEASED"===n.State||"RELEASE-FAILED"===n.State?"重新打包":"打包","吗？确认后应用将提交到打包列队"),okEms:"提交".concat("WAIT-RELEASE"===n.State||"RELEASED"===n.State||"RELEASE-FAILED"===n.State?"重新打包":"打包","成功")},(function(){return t.put("/api/v1/supt/app/IOS/pack/"+n.appId,a).then((function(n){n.data,E.load()}))}))}(a,a.latestAppVersionId)}},{default:(0,K.w5)((function(){return[(0,K.Uk)(" 打包 ")]})),_:2},1032,["disabled","onClick"]),(0,K.kq)(' <el-dropdown :disabled="row.State === \'PACKING\'">\n            <el-link type="primary" :disabled="row.State === \'PACKING\'" style="margin: 6px 8px 0;" :underline="false">打包</el-link>\n            <template #dropdown>\n              <el-dropdown-menu>\n                <el-dropdown-item @click="createPack(row)">打包当前版本</el-dropdown-item>\n                <el-dropdown-item @click="createPack(row, row.latestAppVersionId)">打包最新版本</el-dropdown-item>\n              </el-dropdown-menu>\n            </template>\n          </el-dropdown> '),"RELEASED"!==a.State?((0,K.wg)(),(0,K.j4)(U,{key:0,type:"primary",link:"",style:{width:"42px"},disabled:"DOWNLOAD-SUCCESS"!=a.State,onClick:function(n){return function(n,e){return(0,M.Z)({message:"确定要发布吗",okEms:"提交发布成功"},(function(){return t.put("/api/v1/supt/app/IOS/publish/"+(e||n.appId)).then((function(n){n.data,E.load()}))}))}(a)}},{default:(0,K.w5)((function(){return[(0,K.Uk)(" 发布 ")]})),_:2},1032,["disabled","onClick"])):((0,K.wg)(),(0,K.j4)(U,{key:1,disabled:!0,type:"primary",link:""},{default:(0,K.w5)((function(){return[(0,K.Uk)(" 已发布 ")]})),_:1})),(0,K.kq)(' <el-button type="primary" link @click="cancleApp(row)" v-else="row.State !== \'RELEASED\'">\n            取消发布\n          </el-button> '),(0,K.Wm)(U,{type:"primary",disabled:"PACKING"===a.State,link:"",onClick:function(n){var e;return null===(e=S.value)||void 0===e?void 0:e.open(a)}},{default:(0,K.w5)((function(){return[(0,K.Uk)(" 编辑 ")]})),_:2},1032,["disabled","onClick"]),(0,K.Wm)(U,{type:"danger",disabled:"PACKING"===a.State,link:"",onClick:function(n){return function(n){return(0,M.Z)({message:"确定要删除这个应用吗",okEms:"删除成功"},(function(){return t.delete("/api/v1/supt/app/IOS/"+n.appId).then((function(n){n.data,E.load(),e()}))}))}(a)}},{default:(0,K.w5)((function(){return[(0,K.Uk)(" 删除 ")]})),_:2},1032,["disabled","onClick"])]})),_:1})]})),_:1},8,["data"])),[[O,E.loading]]),(0,K.kq)(' :channe-list="channe.data" '),(0,K.Wm)(nn.Z,{ref_key:"editorRef",ref:S,onLoad:E.load},null,8,["onLoad"]),(0,K.Wm)(Q.Z),(0,K.Wm)(Y.Z,{pageinfo:A.value,onChange:E.load},null,8,["pageinfo","onChange"]),(0,K.kq)(' <el-dialog v-model="bindDia.visible" title="绑定渠道" width="460px">\n      <el-checkbox-group\n        v-model="bindDia.form.channelId"\n        style="display: flex; flex-wrap: wrap; gap: 8px 0; padding: 0 12px"\n        v-loading="bindDia.loading"\n      >\n        <el-checkbox\n          v-for="item of channe.data"\n          :label="item.id"\n          style="\n            flex: 0 0 33%;\n            margin: 0;\n            text-overflow: ellipsis;\n            overflow: hidden;\n            white-space: nowrap;\n          "\n        >\n          {{ item.name }}\n        </el-checkbox>\n      </el-checkbox-group>\n      <template #footer>\n        <el-button\n          class="ml-auto"\n          size="small"\n          :loading="bindDia.loading"\n          @click="bindDia.close"\n        >\n          取消\n        </el-button>\n        <el-button\n          size="small"\n          :loading="bindDia.loading"\n          type="primary"\n          class=""\n          @click="bindDia.submit()"\n        >\n          保存\n        </el-button>\n      </template>\n    </el-dialog> '),(0,K.Wm)(V,{modelValue:h.visible,"onUpdate:modelValue":g[12]||(g[12]=function(n){return h.visible=n}),title:"绑定统计数据",width:"460px"},{footer:(0,K.w5)((function(){return[(0,K.Wm)(U,{class:"ml-auto",size:"small",type:"primary",plain:"",style:{float:"left"},onClick:g[9]||(g[9]=function(n){return e="/center/#/statistics-web",void window.open(e);var e})},{default:(0,K.w5)((function(){return[(0,K.Uk)(" 去统计系统 ")]})),_:1}),(0,K.Wm)(U,{class:"ml-auto",size:"small",loading:h.loading,onClick:g[10]||(g[10]=function(n){return h.visible=!1})},{default:(0,K.w5)((function(){return[(0,K.Uk)(" 取消 ")]})),_:1},8,["loading"]),(0,K.Wm)(U,{size:"small",loading:h.loading,type:"primary",class:"",onClick:g[11]||(g[11]=function(n){return h.submit()})},{default:(0,K.w5)((function(){return[(0,K.Uk)(" 保存 ")]})),_:1},8,["loading"])]})),default:(0,K.w5)((function(){return[(0,K.Wm)(j,{onSubmit:g[8]||(g[8]=(0,z.iM)((function(){}),["prevent"])),ref:"ruleFormRef","label-width":"80px",model:h.form,"hide-required-asterisk":!1},{default:(0,K.w5)((function(){return[(0,K.Wm)(R,{label:"统计名称",prop:"tjId",style:{"margin-bottom":"0"},rules:{required:!0,message:"请选择统计名称",trigger:"blur"}},{default:(0,K.w5)((function(){return[(0,K.Wm)(x,{modelValue:h.form.tjId,"onUpdate:modelValue":g[7]||(g[7]=function(n){return h.form.tjId=n}),clearable:"",placeholder:"请选择统计名称",style:{width:"100%"}},{default:(0,K.w5)((function(){return[((0,K.wg)(!0),(0,K.iD)(K.HY,null,(0,K.Ko)(h.select,(function(n){return(0,K.wg)(),(0,K.j4)(k,{key:n.id,label:n.appName,value:n.id},null,8,["label","value"])})),128))]})),_:1},8,["modelValue"])]})),_:1})]})),_:1},8,["model"])]})),_:1},8,["modelValue"]),(0,K.Wm)(J.Z,{type:2,onUpdata:E.load,ref_key:"apkDownModalRef",ref:b},null,8,["onUpdata"])])}}}}}]);
//# sourceMappingURL=5006.js.map