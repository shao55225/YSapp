"use strict";(self.webpackChunkxxxxx=self.webpackChunkxxxxx||[]).push([[3900],{33900:(e,t,l)=>{l.d(t,{Q8:()=>G,E_:()=>U,EQ:()=>K,F8:()=>X});var n=l(26440),o=l(92811),a=l(7187),s=l(63193),u=l(89888),r=l(48127),i=l(84484),p=l(69567);class d{constructor(e,t){this.parent=e,this.domNode=t,this.subIndex=0,this.subIndex=0,this.init()}init(){this.subMenuItems=this.domNode.querySelectorAll("li"),this.addListeners()}gotoSubIndex(e){e===this.subMenuItems.length?e=0:e<0&&(e=this.subMenuItems.length-1),this.subMenuItems[e].focus(),this.subIndex=e}addListeners(){const e=this.parent.domNode;Array.prototype.forEach.call(this.subMenuItems,(t=>{t.addEventListener("keydown",(t=>{let l=!1;switch(t.code){case i.EVENT_CODE.down:this.gotoSubIndex(this.subIndex+1),l=!0;break;case i.EVENT_CODE.up:this.gotoSubIndex(this.subIndex-1),l=!0;break;case i.EVENT_CODE.tab:(0,p.qe)(e,"mouseleave");break;case i.EVENT_CODE.enter:case i.EVENT_CODE.space:l=!0,t.currentTarget.click()}return l&&(t.preventDefault(),t.stopPropagation()),!1}))}))}}class c{constructor(e,t){this.domNode=e,this.submenu=null,this.submenu=null,this.init(t)}init(e){this.domNode.setAttribute("tabindex","0");const t=this.domNode.querySelector(`.${e}-menu`);t&&(this.submenu=new d(this,t)),this.addListeners()}addListeners(){this.domNode.addEventListener("keydown",(e=>{let t=!1;switch(e.code){case i.EVENT_CODE.down:(0,p.qe)(e.currentTarget,"mouseenter"),this.submenu&&this.submenu.gotoSubIndex(0),t=!0;break;case i.EVENT_CODE.up:(0,p.qe)(e.currentTarget,"mouseenter"),this.submenu&&this.submenu.gotoSubIndex(this.submenu.subMenuItems.length-1),t=!0;break;case i.EVENT_CODE.tab:(0,p.qe)(e.currentTarget,"mouseleave");break;case i.EVENT_CODE.enter:case i.EVENT_CODE.space:t=!0,e.currentTarget.click()}t&&e.preventDefault()}))}}class v{constructor(e,t){this.domNode=e,this.init(t)}init(e){const t=this.domNode.childNodes;Array.from(t).forEach((t=>{1===t.nodeType&&new c(t,e)}))}}var m=l(71254),h=l(63582),f=l(58533),b=l(39240);const x=(0,n.aZ)({name:"ElMenuCollapseTransition",setup(){const e=(0,f.s3)("menu");return{listeners:{onBeforeEnter:e=>e.style.opacity="0.2",onEnter(t,l){(0,b.cn)(t,`${e.namespace.value}-opacity-transition`),t.style.opacity="1",l()},onAfterEnter(t){(0,b.IV)(t,`${e.namespace.value}-opacity-transition`),t.style.opacity=""},onBeforeLeave(t){t.dataset||(t.dataset={}),(0,b.pv)(t,e.m("collapse"))?((0,b.IV)(t,e.m("collapse")),t.dataset.oldOverflow=t.style.overflow,t.dataset.scrollWidth=t.clientWidth.toString(),(0,b.cn)(t,e.m("collapse"))):((0,b.cn)(t,e.m("collapse")),t.dataset.oldOverflow=t.style.overflow,t.dataset.scrollWidth=t.clientWidth.toString(),(0,b.IV)(t,e.m("collapse"))),t.style.width=`${t.scrollWidth}px`,t.style.overflow="hidden"},onLeave(e){(0,b.cn)(e,"horizontal-collapse-transition"),e.style.width=`${e.dataset.scrollWidth}px`}}}}});var g=(0,h.Z)(x,[["render",function(e,t,l,o,a,s){return(0,n.wg)(),(0,n.j4)(m.uT,(0,n.dG)({mode:"out-in"},e.listeners),{default:(0,n.w5)((()=>[(0,n.WI)(e.$slots,"default")])),_:3},16)}],["__file","/home/runner/work/element-plus/element-plus/packages/components/menu/src/menu-collapse-transition.vue"]]),M=l(20743),y=l(84979),C=l(17075);function I(e,t){const l=(0,n.Fl)((()=>{let l=e.parent;const n=[t.value];for(;"ElMenu"!==l.type.name;)l.props.index&&n.unshift(l.props.index),l=l.parent;return n}));return{parentMenu:(0,n.Fl)((()=>{let t=e.parent;for(;t&&!["ElMenu","ElSubMenu"].includes(t.type.name);)t=t.parent;return t})),indexPath:l}}var E=l(74012);function k(e){return(0,n.Fl)((()=>{const t=e.backgroundColor;return t?new E.C(t).shade(20).toString():""}))}const S=(e,t)=>{const l=(0,f.s3)("menu");return(0,n.Fl)((()=>l.cssVarBlock({"text-color":e.textColor||"","hover-text-color":e.textColor||"","bg-color":e.backgroundColor||"","hover-bg-color":k(e).value||"","active-color":e.activeTextColor||"",level:`${t}`})))};var w=l(50885),T=l(44864),N=l(57416),O=l(22820),_=l(81040);const A=(0,w.o8)({index:{type:String,required:!0},showTimeout:{type:Number,default:300},hideTimeout:{type:Number,default:300},popperClass:String,disabled:Boolean,popperAppendToBody:{type:Boolean,default:void 0},teleported:{type:Boolean,default:void 0},popperOffset:{type:Number,default:6},expandCloseIcon:{type:T.AA},expandOpenIcon:{type:T.AA},collapseCloseIcon:{type:T.AA},collapseOpenIcon:{type:T.AA}}),F="ElSubMenu";var P=(0,n.aZ)({name:F,props:A,setup(e,{slots:t,expose:l}){(0,N.A)({from:"popper-append-to-body",replacement:"teleported",scope:F,version:"2.3.0",ref:"https://element-plus.org/en-US/component/menu.html#submenu-attributes"},(0,n.Fl)((()=>void 0!==e.popperAppendToBody)));const a=(0,n.FN)(),{indexPath:s,parentMenu:i}=I(a,(0,n.Fl)((()=>e.index))),p=(0,f.s3)("menu"),d=(0,f.s3)("sub-menu"),c=(0,n.f3)("rootMenu");c||(0,O._)(F,"can not inject root menu");const v=(0,n.f3)(`subMenu:${i.value.uid}`);v||(0,O._)(F,"can not inject sub menu");const h=(0,o.iH)({}),b=(0,o.iH)({});let x;const g=(0,o.iH)(!1),E=(0,o.iH)(),k=(0,o.iH)(null),w=(0,n.Fl)((()=>"horizontal"===W.value&&A.value?"bottom-start":"right-start")),T=(0,n.Fl)((()=>"horizontal"===W.value&&A.value||"vertical"===W.value&&!c.props.collapse?e.expandCloseIcon&&e.expandOpenIcon?H.value?e.expandOpenIcon:e.expandCloseIcon:r.K5e:e.collapseCloseIcon&&e.collapseOpenIcon?H.value?e.collapseOpenIcon:e.collapseCloseIcon:r.olP)),A=(0,n.Fl)((()=>0===v.level)),P=(0,n.Fl)((()=>{var t;const l=null!=(t=e.teleported)?t:e.popperAppendToBody;return void 0===l?A.value:l})),$=(0,n.Fl)((()=>c.props.collapse?`${p.namespace.value}-zoom-in-left`:`${p.namespace.value}-zoom-in-top`)),D=(0,n.Fl)((()=>"horizontal"===W.value&&A.value?["bottom-start","bottom-end","top-start","top-end","right-start","left-start"]:["right-start","left-start","bottom-start","bottom-end","top-start","top-end"])),H=(0,n.Fl)((()=>c.openedMenus.includes(e.index))),z=(0,n.Fl)((()=>{let e=!1;return Object.values(h.value).forEach((t=>{t.active&&(e=!0)})),Object.values(b.value).forEach((t=>{t.active&&(e=!0)})),e})),B=(0,n.Fl)((()=>c.props.backgroundColor||"")),V=(0,n.Fl)((()=>c.props.activeTextColor||"")),q=(0,n.Fl)((()=>c.props.textColor||"")),W=(0,n.Fl)((()=>c.props.mode)),j=(0,o.qj)({index:e.index,indexPath:s,active:z}),Z=S(c.props,v.level+1),L=(0,n.Fl)((()=>"horizontal"!==W.value?{color:q.value}:{borderBottomColor:z.value?c.props.activeTextColor?V.value:"":"transparent",color:z.value?V.value:q.value})),J=e=>{var t,l,n;e||null==(n=null==(l=null==(t=k.value)?void 0:t.popperRef)?void 0:l.popperInstanceRef)||n.destroy()},Y=()=>{"hover"===c.props.menuTrigger&&"horizontal"===c.props.mode||c.props.collapse&&"vertical"===c.props.mode||e.disabled||c.handleSubMenuClick({index:e.index,indexPath:s.value,active:z.value})},Q=(t,l=e.showTimeout)=>{var n;"focus"!==t.type&&("click"===c.props.menuTrigger&&"horizontal"===c.props.mode||!c.props.collapse&&"vertical"===c.props.mode||e.disabled||(v.mouseInChild.value=!0,null==x||x(),({stop:x}=(0,M.eM)((()=>{c.openMenu(e.index,s.value)}),l)),P.value&&(null==(n=i.value.vnode.el)||n.dispatchEvent(new MouseEvent("mouseenter")))))},R=(t=!1)=>{var l,n;"click"===c.props.menuTrigger&&"horizontal"===c.props.mode||!c.props.collapse&&"vertical"===c.props.mode||(null==x||x(),v.mouseInChild.value=!1,({stop:x}=(0,M.eM)((()=>!g.value&&c.closeMenu(e.index,s.value)),e.hideTimeout)),P.value&&t&&"ElSubMenu"===(null==(l=a.parent)?void 0:l.type.name)&&(null==(n=v.handleMouseleave)||n.call(v,!0)))};(0,n.YP)((()=>c.props.collapse),(e=>J(Boolean(e))));{const e=e=>{b.value[e.index]=e},t=e=>{delete b.value[e.index]};(0,n.JJ)(`subMenu:${a.uid}`,{addSubMenu:e,removeSubMenu:t,handleMouseleave:R,mouseInChild:g,level:v.level+1})}return l({opened:H}),(0,n.bv)((()=>{c.addSubMenu(j),v.addSubMenu(j)})),(0,n.Jd)((()=>{v.removeSubMenu(j),c.removeSubMenu(j)})),()=>{var l;const o=[null==(l=t.title)?void 0:l.call(t),(0,n.h)(u.gn,{class:d.e("icon-arrow"),style:{transform:H.value?e.expandCloseIcon&&e.expandOpenIcon||e.collapseCloseIcon&&e.collapseOpenIcon&&c.props.collapse?"none":"rotateZ(180deg)":"none"}},{default:()=>(0,_.HD)(T.value)?(0,n.h)(a.appContext.components[T.value]):(0,n.h)(T.value)})],s=c.isMenuPopup?(0,n.h)(C.Q0,{ref:k,visible:H.value,effect:"light",pure:!0,offset:e.popperOffset,showArrow:!1,persistent:!0,popperClass:e.popperClass,placement:w.value,teleported:P.value,fallbackPlacements:D.value,transition:$.value,gpuAcceleration:!1},{content:()=>{var l;return(0,n.h)("div",{class:[p.m(W.value),p.m("popup-container"),e.popperClass],onMouseenter:e=>Q(e,100),onMouseleave:()=>R(!0),onFocus:e=>Q(e,100)},[(0,n.h)("ul",{class:[p.b(),p.m("popup"),p.m(`popup-${w.value}`)],style:Z.value},[null==(l=t.default)?void 0:l.call(t)])])},default:()=>(0,n.h)("div",{class:d.e("title"),style:[L.value,{backgroundColor:B.value}],onClick:Y},o)}):(0,n.h)(n.HY,{},[(0,n.h)("div",{class:d.e("title"),style:[L.value,{backgroundColor:B.value}],ref:E,onClick:Y},o),(0,n.h)(y.Z,{},{default:()=>{var e;return(0,n.wy)((0,n.h)("ul",{role:"menu",class:[p.b(),p.m("inline")],style:Z.value},[null==(e=t.default)?void 0:e.call(t)]),[[m.F8,H.value]])}})]);return(0,n.h)("li",{class:[d.b(),d.is("active",z.value),d.is("opened",H.value),d.is("disabled",e.disabled)],role:"menuitem",ariaHaspopup:!0,ariaExpanded:H.value,onMouseenter:Q,onMouseleave:()=>R(!0),onFocus:Q},[s])}}}),$=l(40258),D=l(77705);const H=(0,w.o8)({mode:{type:String,values:["horizontal","vertical"],default:"vertical"},defaultActive:{type:String,default:""},defaultOpeneds:{type:(0,w.Cq)(Array),default:()=>(0,$.N)([])},uniqueOpened:Boolean,router:Boolean,menuTrigger:{type:String,values:["hover","click"],default:"hover"},collapse:Boolean,backgroundColor:String,textColor:String,activeTextColor:String,collapseTransition:{type:Boolean,default:!0},ellipsis:{type:Boolean,default:!0},popperEffect:{type:String,values:["dark","light"],default:"dark"}}),z=e=>Array.isArray(e)&&e.every((e=>(0,_.HD)(e))),B={close:(e,t)=>(0,_.HD)(e)&&z(t),open:(e,t)=>(0,_.HD)(e)&&z(t),select:(e,t,l,n)=>(0,_.HD)(e)&&z(t)&&(0,_.Kn)(l)&&(void 0===n||n instanceof Promise)};var V=(0,n.aZ)({name:"ElMenu",props:H,emits:B,setup(e,{emit:t,slots:l,expose:i}){const p=(0,n.FN)(),d=p.appContext.config.globalProperties.$router,c=(0,o.iH)(),m=(0,f.s3)("menu"),h=(0,f.s3)("sub-menu"),b=(0,o.iH)(-1),x=(0,o.iH)(e.defaultOpeneds&&!e.collapse?e.defaultOpeneds.slice(0):[]),M=(0,o.iH)(e.defaultActive),y=(0,o.iH)({}),C=(0,o.iH)({}),I=(0,n.Fl)((()=>"horizontal"===e.mode||"vertical"===e.mode&&e.collapse)),E=(l,n)=>{x.value.includes(l)||(e.uniqueOpened&&(x.value=x.value.filter((e=>n.includes(e)))),x.value.push(l),t("open",l,n))},k=e=>{const t=x.value.indexOf(e);-1!==t&&x.value.splice(t,1)},w=(e,l)=>{k(e),t("close",e,l)},T=({index:e,indexPath:t})=>{x.value.includes(e)?w(e,t):E(e,t)},N=l=>{("horizontal"===e.mode||e.collapse)&&(x.value=[]);const{index:n,indexPath:o}=l;if(!(0,s.Z)(n)&&!(0,s.Z)(o))if(e.router&&d){const e=l.route||n,a=d.push(e).then((e=>(e||(M.value=n),e)));t("select",n,o,{index:n,indexPath:o,route:e},a)}else M.value=n,t("select",n,o,{index:n,indexPath:o})};let O=!0;const _=()=>{const e=()=>{b.value=-1,(0,n.Y3)((()=>{b.value=(()=>{var e,t;if(!c.value)return-1;const l=Array.from(null!=(t=null==(e=c.value)?void 0:e.childNodes)?t:[]).filter((e=>"#comment"!==e.nodeName&&("#text"!==e.nodeName||e.nodeValue))),n=Number.parseInt(getComputedStyle(c.value).paddingLeft,10),o=Number.parseInt(getComputedStyle(c.value).paddingRight,10),a=c.value.clientWidth-n-o;let s=0,u=0;return l.forEach(((e,t)=>{s+=e.offsetWidth||0,s<=a-64&&(u=t+1)})),u===l.length?-1:u})()}))};O?e():((e,t=33.34)=>{let l;return()=>{l&&clearTimeout(l),l=setTimeout((()=>{e()}),t)}})(e)(),O=!1};let A;(0,n.YP)((()=>e.defaultActive),(t=>{y.value[t]||(M.value=""),(t=>{const l=y.value,n=l[t]||M.value&&l[M.value]||l[e.defaultActive];M.value=n?n.index:t})(t)})),(0,n.YP)((()=>e.collapse),(e=>{e&&(x.value=[])})),(0,n.YP)(y.value,(()=>{const t=M.value&&y.value[M.value];if(!t||"horizontal"===e.mode||e.collapse)return;t.indexPath.forEach((e=>{const t=C.value[e];t&&E(e,t.indexPath)}))})),(0,n.m0)((()=>{"horizontal"===e.mode&&e.ellipsis?A=(0,a.yU7)(c,_).stop:null==A||A()}));{const t=e=>{C.value[e.index]=e},l=e=>{delete C.value[e.index]},a=e=>{y.value[e.index]=e},s=e=>{delete y.value[e.index]};(0,n.JJ)("rootMenu",(0,o.qj)({props:e,openedMenus:x,items:y,subMenus:C,activeIndex:M,isMenuPopup:I,addMenuItem:a,removeMenuItem:s,addSubMenu:t,removeSubMenu:l,openMenu:E,closeMenu:w,handleMenuItemClick:N,handleSubMenuClick:T})),(0,n.JJ)(`subMenu:${p.uid}`,{addSubMenu:t,removeSubMenu:l,mouseInChild:(0,o.iH)(!1),level:0})}(0,n.bv)((()=>{"horizontal"===e.mode&&new v(p.vnode.el,m.namespace.value)}));i({open:e=>{const{indexPath:t}=C.value[e];t.forEach((e=>E(e,t)))},close:k,handleResize:_});return()=>{var t,o;let a=null!=(o=null==(t=l.default)?void 0:t.call(l))?o:[];const s=[];if("horizontal"===e.mode&&c.value){const t=(0,D.M3)(a),l=-1===b.value?t:t.slice(0,b.value),o=-1===b.value?[]:t.slice(b.value);(null==o?void 0:o.length)&&e.ellipsis&&(a=l,s.push((0,n.h)(P,{index:"sub-menu-more",class:h.e("hide-arrow")},{title:()=>(0,n.h)(u.gn,{class:h.e("icon-more")},{default:()=>(0,n.h)(r.Tkc)}),default:()=>o})))}const i=S(e,0),p=(0,n.h)("ul",{key:String(e.collapse),role:"menubar",ref:c,style:i.value,class:{[m.b()]:!0,[m.m(e.mode)]:!0,[m.m("collapse")]:e.collapse}},[...a,...s]);return e.collapseTransition&&"vertical"===e.mode?(0,n.h)(g,(()=>p)):p}}});const q=(0,w.o8)({index:{type:(0,w.Cq)([String,null]),default:null},route:{type:(0,w.Cq)([String,Object])},disabled:Boolean}),W={click:e=>(0,_.HD)(e.index)&&Array.isArray(e.indexPath)},j="ElMenuItem",Z=(0,n.aZ)({name:j,components:{ElTooltip:C.Q0},props:q,emits:W,setup(e,{emit:t}){const l=(0,n.FN)(),a=(0,n.f3)("rootMenu"),s=(0,f.s3)("menu"),u=(0,f.s3)("menu-item");a||(0,O._)(j,"can not inject root menu");const{parentMenu:r,indexPath:i}=I(l,(0,o.Vh)(e,"index")),p=(0,n.f3)(`subMenu:${r.value.uid}`);p||(0,O._)(j,"can not inject sub menu");const d=(0,n.Fl)((()=>e.index===a.activeIndex)),c=(0,o.qj)({index:e.index,indexPath:i,active:d});return(0,n.bv)((()=>{p.addSubMenu(c),a.addMenuItem(c)})),(0,n.Jd)((()=>{p.removeSubMenu(c),a.removeMenuItem(c)})),{parentMenu:r,rootMenu:a,active:d,nsMenu:s,nsMenuItem:u,handleClick:()=>{e.disabled||(a.handleMenuItemClick({index:e.index,indexPath:i.value,route:e.route}),t("click",c))}}}});var L=(0,h.Z)(Z,[["render",function(e,t,l,o,a,s){const u=(0,n.up)("el-tooltip");return(0,n.wg)(),(0,n.iD)("li",{class:(0,_.C_)([e.nsMenuItem.b(),e.nsMenuItem.is("active",e.active),e.nsMenuItem.is("disabled",e.disabled)]),role:"menuitem",tabindex:"-1",onClick:t[0]||(t[0]=(...t)=>e.handleClick&&e.handleClick(...t))},["ElMenu"===e.parentMenu.type.name&&e.rootMenu.props.collapse&&e.$slots.title?((0,n.wg)(),(0,n.j4)(u,{key:0,effect:e.rootMenu.props.popperEffect,placement:"right","fallback-placements":["left"],persistent:""},{content:(0,n.w5)((()=>[(0,n.WI)(e.$slots,"title")])),default:(0,n.w5)((()=>[(0,n._)("div",{class:(0,_.C_)(e.nsMenu.be("tooltip","trigger"))},[(0,n.WI)(e.$slots,"default")],2)])),_:3},8,["effect"])):((0,n.wg)(),(0,n.iD)(n.HY,{key:1},[(0,n.WI)(e.$slots,"default"),(0,n.WI)(e.$slots,"title")],64))],2)}],["__file","/home/runner/work/element-plus/element-plus/packages/components/menu/src/menu-item.vue"]]);const J={title:String},Y=(0,n.aZ)({name:"ElMenuItemGroup",props:J,setup:()=>({ns:(0,f.s3)("menu-item-group")})});var Q=(0,h.Z)(Y,[["render",function(e,t,l,o,a,s){return(0,n.wg)(),(0,n.iD)("li",{class:(0,_.C_)(e.ns.b())},[(0,n._)("div",{class:(0,_.C_)(e.ns.e("title"))},[e.$slots.title?(0,n.WI)(e.$slots,"title",{key:1}):((0,n.wg)(),(0,n.iD)(n.HY,{key:0},[(0,n.Uk)((0,_.zw)(e.title),1)],64))],2),(0,n._)("ul",null,[(0,n.WI)(e.$slots,"default")])],2)}],["__file","/home/runner/work/element-plus/element-plus/packages/components/menu/src/menu-item-group.vue"]]),R=l(18569);const G=(0,R.nz)(V,{MenuItem:L,MenuItemGroup:Q,SubMenu:P}),U=(0,R.dp)(L),K=(0,R.dp)(Q),X=(0,R.dp)(P)}}]);
//# sourceMappingURL=3900.js.map