import{_ as a}from"./empty-ec21309c.js";import{_ as e}from"./HeaderH5-49d0ad48.js";import{a4 as t,T as o,a6 as s,_ as i}from"./index-886f43d3.js";import{d,o as l,r as n,a6 as r,ba as p,bh as m,l as u,bf as c,F as v,bm as f,bk as g,bj as y,u as b,bb as h,bc as j,a4 as x,h as I,bd as _,be as k}from"./vendor-others-96825896.js";import{B as M}from"./vendor-ant-design-vue-7dd2b151.js";import"./index-b0450432.js";import"./vendor-vue-router-5605f985.js";import"./vendor-vuex-61b6ee10.js";import"./vendor-axios-a0dbaeda.js";const z=a=>(_("data-v-11087536"),a=a(),k(),a),P={class:"content"},w={class:"h-items"},C=["onClick"],S={class:"img-box"},q=["src"],H={key:0,style:{"background-color":"#feaf79"},class:"tags"},U={key:1,class:"tags"},B={class:"item-info"},F={style:{color:"#999999","font-size":"12px"}},L={key:0,style:{padding:"80px 0",width:"100%"},class:"query-empty"},T=[z((()=>c("img",{src:a,alt:"空状态"},null,-1))),z((()=>c("p",null,"暂无点播记录",-1)))],V=i(d({__name:"demandPlay",setup(a){const i=I(),{$http:d}=i.appContext.config.globalProperties,_=(a=!1)=>{if(o("query"))return!1;let e={limit:6,offset:a?0:6*(z.pageSize-1)};a&&(z.pageSize=1,z.demandMap=[],e.chargingMode=z.filter),d.get("/openapi/video_on_demand/mobile/page",{params:e}).then((a=>{let{data:e}=a;z.total=e.total,z.demandMap.push(...e.list)}))},k=()=>{z.pageSize+=1,_()};l((()=>{document.title="观看历史",_()}));const z=n({pageSize:1,total:0,filter:0,demandMap:[]}),{filter:V,demandMap:$,total:A}=r(z);return(a,o)=>{const i=M;return p(),m("div",null,[u(e,{title:"点播记录"}),c("div",P,[c("div",w,[(p(!0),m(v,null,f(b($),((a,e)=>{var o,i,d;return p(),m("div",{class:"item-box",onClick:e=>((a,e=!1)=>{var t;if(!a)return!1;let o={id:a.videoInfo.id,cateId:a.videoInfo.categoryPid};e&&(o.playId=null==(t=a.playLine)?void 0:t.id),a.jumpUrl?window.open(a.jumpUrl,"_self"):s.push({path:e?"/play":"/details",query:o})})(a,!0),key:e},[c("div",S,[c("img",{src:null==(o=a.videoInfo)?void 0:o.surfacePlot},null,8,q),2==(null==(i=a.videoInfo)?void 0:i.chargingMode)?(p(),m("div",H," VIP ")):g("",!0),3==(null==(d=a.videoInfo)?void 0:d.chargingMode)?(p(),m("div",U," 金币点播 ")):g("",!0)]),c("div",B,[c("span",null,y(a.videoInfo.title),1),c("span",F,y(b(t)(a.videoInfo.duration)),1)])],8,C)})),128)),0==b($).length?(p(),m("div",L,T)):g("",!0),b(A)>b($).length?(p(),h(i,{key:1,style:{width:"120px",margin:"0 auto"},onClick:k,type:"primary"},{default:j((()=>[x(" 查看更多")])),_:1})):g("",!0)])])])}}}),[["__scopeId","data-v-11087536"]]);export{V as default};
