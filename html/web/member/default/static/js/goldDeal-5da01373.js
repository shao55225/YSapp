import{_ as e}from"./index-b0450432.js";import{_ as a}from"./empty-ec21309c.js";import{_ as t}from"./HeaderH5-49d0ad48.js";import{p as s,T as o,_ as l}from"./index-886f43d3.js";import{u as i}from"./vendor-vuex-61b6ee10.js";import{d as n,o as r,r as d,k as p,a6 as u,ba as m,bh as f,l as c,bf as v,bj as b,u as g,bc as y,a4 as x,a5 as _,F as h,bm as j,bn as k,bk as C,bb as z,h as F,bd as I,be as L}from"./vendor-others-96825896.js";import{b as S,c as q,B as w}from"./vendor-ant-design-vue-7dd2b151.js";import"./vendor-vue-router-5605f985.js";import"./vendor-axios-a0dbaeda.js";const H=e=>(I("data-v-604dfa4d"),e=e(),L(),e),A={class:"content"},B={class:"box-surplus"},D=H((()=>v("div",{class:"text"}," 金币余额 ",-1))),P={class:"number"},T={class:"box-filter"},U={style:{color:"#666666","margin-bottom":"1rem"}},$={style:{color:"#FF865C"}},E={class:"h-items"},G={class:"item-info"},J={style:{color:"#999999","font-size":"12px"}},K={key:0,style:{padding:"80px 0",width:"100%"},class:"query-empty"},M=[H((()=>v("img",{src:a,alt:"空状态"},null,-1))),H((()=>v("p",null,"暂无交易",-1)))],N=l(n({__name:"goldDeal",setup(a){const l=i(),n=F(),{$http:I}=n.appContext.config.globalProperties,L=(e=!1)=>{if(o("query"))return!1;let a={limit:6,offset:e?0:6*(N.pageSize-1)};e&&(N.pageSize=1,N.dealList=[],a.type=N.filter),I.get("/openapi/gold/page",{params:a}).then((e=>{let{data:a}=e;N.total=a.total,N.dealList.push(...a.list)}))},H=()=>{N.pageSize+=1,L()};r((()=>{document.title="金币交易明细",L(),I.get("/openapi/gold/info").then((e=>{N.consumption=e.data.consumption||0}))}));const N=d({pageSize:1,total:0,filter:0,userInfo:p((()=>l.getters.userInfo))||{},dealList:[],consumption:0}),{filter:O,dealList:Q,total:R,userInfo:V,consumption:W}=u(N);return(a,o)=>{const l=e,i=S,n=q,r=w;return m(),f("div",null,[c(t,{title:"金币交易明细"}),v("div",A,[v("div",B,[D,v("div",P,[v("span",null,b(g(V).goldCoin),1),c(l,{style:{"margin-top":"-4px"},size:"20px",name:"gold"})])]),v("div",T,[c(n,{value:g(O),"onUpdate:value":o[0]||(o[0]=e=>_(O)?O.value=e:null),onChange:o[1]||(o[1]=e=>L(!0)),"button-style":"solid"},{default:y((()=>[c(i,{value:0},{default:y((()=>[x("全部")])),_:1}),c(i,{value:1},{default:y((()=>[x("充值")])),_:1}),c(i,{value:2},{default:y((()=>[x("赠送")])),_:1}),c(i,{value:3},{default:y((()=>[x("消费")])),_:1})])),_:1},8,["value"])]),v("div",U,[x("总共已获取金币 "),v("span",$,b(g(W)+g(V).goldCoin),1),x("，已消耗"+b(g(W)),1)]),v("div",E,[(m(!0),f(h,null,j(g(Q),((e,a)=>(m(),f("div",{class:"item-box",key:a},[v("div",G,[v("span",null,b(e.remark),1),v("span",J,b(g(s)(e.createAt)),1)]),v("div",{style:k({color:3!=e.type?"#FF865C":"#999"})},b(3==e.type?"-":"+")+b(e.number),5)])))),128)),0==g(Q).length?(m(),f("div",K,M)):C("",!0),g(R)>g(Q).length?(m(),z(r,{key:1,style:{width:"120px",margin:"1rem auto"},onClick:H,type:"primary"},{default:y((()=>[x(" 查看更多")])),_:1})):C("",!0)])])])}}}),[["__scopeId","data-v-604dfa4d"]]);export{N as default};
