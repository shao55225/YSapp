import{t as q,F as te,b as ce,Y as de,i as E,d as me,h as pe,Z as fe,o as h,c as z,K as j,u as a,P as K,ah as S,T as O,R as H,Q as C,M as Q,U as R,j as be}from"./vue-e9f47459.js";import{m as ve,n as Ne,o as N,C as ne,I as k,p as _,U as w,q as he,r as ge,s as ye,t as P,w as Ie,x as Ve,k as Ee,y as we,f as W,z as _e,A as Be,a as Te,B as Ae,D as Z,F as Se,G as y,E as Ce,h as J}from"./entry-8561ffba.js";const Pe=100,ke=600,X={beforeMount(n,u){const s=u.value,{interval:r=Pe,delay:g=ke}=q(s)?{}:s;let c,m;const o=()=>q(s)?s():s.handler(),f=()=>{m&&(clearTimeout(m),m=void 0),c&&(clearInterval(c),c=void 0)};n.addEventListener("mousedown",b=>{b.button===0&&(f(),o(),document.addEventListener("mouseup",()=>f(),{once:!0}),m=setTimeout(()=>{c=setInterval(()=>{o()},r)},g))})}},xe=ve({id:{type:String,default:void 0},step:{type:Number,default:1},stepStrictly:Boolean,max:{type:Number,default:Number.POSITIVE_INFINITY},min:{type:Number,default:Number.NEGATIVE_INFINITY},modelValue:Number,readonly:Boolean,disabled:Boolean,size:Ne,controls:{type:Boolean,default:!0},controlsPosition:{type:String,default:"",values:["","right"]},valueOnClear:{type:[String,Number,null],validator:n=>n===null||N(n)||["min","max"].includes(n),default:null},name:String,label:String,placeholder:String,precision:{type:Number,validator:n=>n>=0&&n===Number.parseInt(`${n}`,10)},validateEvent:{type:Boolean,default:!0}}),Fe={[ne]:(n,u)=>n!==u,blur:n=>n instanceof FocusEvent,focus:n=>n instanceof FocusEvent,[k]:n=>N(n)||_(n),[w]:n=>N(n)||_(n)},De=["aria-label","onKeydown"],Le=["aria-label","onKeydown"],Me=te({name:"ElInputNumber"}),$e=te({...Me,props:xe,emits:Fe,setup(n,{expose:u,emit:s}){const r=n,{t:g}=he(),c=ge("input-number"),m=ce(),o=de({currentValue:r.modelValue,userInput:null}),{formItem:f}=ye(),b=E(()=>N(r.modelValue)&&r.modelValue<=r.min),I=E(()=>N(r.modelValue)&&r.modelValue>=r.max),ae=E(()=>{const e=Y(r.step);return P(r.precision)?Math.max(Y(r.modelValue),e):(e>r.precision,r.precision)}),x=E(()=>r.controls&&r.controlsPosition==="right"),U=Ie(),V=Ve(),F=E(()=>{if(o.userInput!==null)return o.userInput;let e=o.currentValue;if(_(e))return"";if(N(e)){if(Number.isNaN(e))return"";P(r.precision)||(e=e.toFixed(r.precision))}return e}),D=(e,t)=>{if(P(t)&&(t=ae.value),t===0)return Math.round(e);let l=String(e);const d=l.indexOf(".");if(d===-1||!l.replace(".","").split("")[d+t])return e;const T=l.length;return l.charAt(T-1)==="5"&&(l=`${l.slice(0,Math.max(0,T-1))}6`),Number.parseFloat(Number(l).toFixed(t))},Y=e=>{if(_(e))return 0;const t=e.toString(),l=t.indexOf(".");let d=0;return l!==-1&&(d=t.length-l-1),d},G=(e,t=1)=>N(e)?D(e+r.step*t):o.currentValue,L=()=>{if(r.readonly||V.value||I.value)return;const e=Number(F.value)||0,t=G(e);B(t),s(k,o.currentValue)},M=()=>{if(r.readonly||V.value||b.value)return;const e=Number(F.value)||0,t=G(e,-1);B(t),s(k,o.currentValue)},$=(e,t)=>{const{max:l,min:d,step:i,precision:v,stepStrictly:T,valueOnClear:A}=r;let p=Number(e);if(_(e)||Number.isNaN(p))return null;if(e===""){if(A===null)return null;p=be(A)?{min:d,max:l}[A]:A}return T&&(p=D(Math.round(p/i)*i,v)),P(v)||(p=D(p,v)),(p>l||p<d)&&(p=p>l?l:d,t&&s(w,p)),p},B=(e,t=!0)=>{var l;const d=o.currentValue,i=$(e);if(d!==i){if(!t){s(w,i);return}o.userInput=null,s(w,i),s(ne,i,d),r.validateEvent&&((l=f==null?void 0:f.validate)==null||l.call(f,"change").catch(v=>Z())),o.currentValue=i}},re=e=>{o.userInput=e;const t=e===""?null:Number(e);s(k,t),B(t,!1)},le=e=>{const t=e!==""?Number(e):"";(N(t)&&!Number.isNaN(t)||e==="")&&B(t),o.userInput=null},oe=()=>{var e,t;(t=(e=m.value)==null?void 0:e.focus)==null||t.call(e)},se=()=>{var e,t;(t=(e=m.value)==null?void 0:e.blur)==null||t.call(e)},ue=e=>{s("focus",e)},ie=e=>{var t;s("blur",e),r.validateEvent&&((t=f==null?void 0:f.validate)==null||t.call(f,"blur").catch(l=>Z()))};return me(()=>r.modelValue,e=>{const t=$(o.userInput),l=$(e,!0);(!t||t!==l)&&(o.currentValue=l,o.userInput=null)},{immediate:!0}),pe(()=>{var e;const{min:t,max:l,modelValue:d}=r,i=(e=m.value)==null?void 0:e.input;if(i.setAttribute("role","spinbutton"),Number.isFinite(l)?i.setAttribute("aria-valuemax",String(l)):i.removeAttribute("aria-valuemax"),Number.isFinite(t)?i.setAttribute("aria-valuemin",String(t)):i.removeAttribute("aria-valuemin"),i.setAttribute("aria-valuenow",String(o.currentValue)),i.setAttribute("aria-disabled",String(V.value)),!N(d)&&d!=null){let v=Number(d);Number.isNaN(v)&&(v=null),s(w,v)}}),fe(()=>{var e;const t=(e=m.value)==null?void 0:e.input;t==null||t.setAttribute("aria-valuenow",`${o.currentValue}`)}),u({focus:oe,blur:se}),(e,t)=>(h(),z("div",{class:K([a(c).b(),a(c).m(a(U)),a(c).is("disabled",a(V)),a(c).is("without-controls",!e.controls),a(c).is("controls-right",a(x))]),onDragstart:t[0]||(t[0]=R(()=>{},["prevent"]))},[e.controls?j((h(),z("span",{key:0,role:"button","aria-label":a(g)("el.inputNumber.decrease"),class:K([a(c).e("decrease"),a(c).is("disabled",a(b))]),onKeydown:S(M,["enter"])},[O(a(W),null,{default:H(()=>[a(x)?(h(),C(a(Ee),{key:0})):(h(),C(a(we),{key:1}))]),_:1})],42,De)),[[a(X),M]]):Q("v-if",!0),e.controls?j((h(),z("span",{key:1,role:"button","aria-label":a(g)("el.inputNumber.increase"),class:K([a(c).e("increase"),a(c).is("disabled",a(I))]),onKeydown:S(L,["enter"])},[O(a(W),null,{default:H(()=>[a(x)?(h(),C(a(_e),{key:0})):(h(),C(a(Be),{key:1}))]),_:1})],42,Le)),[[a(X),L]]):Q("v-if",!0),O(a(Te),{id:e.id,ref_key:"input",ref:m,type:"number",step:e.step,"model-value":a(F),placeholder:e.placeholder,readonly:e.readonly,disabled:a(V),size:a(U),max:e.max,min:e.min,name:e.name,label:e.label,"validate-event":!1,onKeydown:[S(R(L,["prevent"]),["up"]),S(R(M,["prevent"]),["down"])],onBlur:ie,onFocus:ue,onInput:re,onChange:le},null,8,["id","step","model-value","placeholder","readonly","disabled","size","max","min","name","label","onKeydown"])],34))}});var ze=Ae($e,[["__file","/home/runner/work/element-plus/element-plus/packages/components/input-number/src/input-number.vue"]]);const Re=Se(ze);const Ue=(n,u)=>y({url:`/category/${n}/all`,method:"get",params:{parentId:u}}),Ye=n=>y({url:"/category/all/"+n,method:"get"}),Ge=(n,u)=>y({url:`/category/${n}/${u}`,method:"delete"}),qe=(n,u)=>y({url:`/category/${n}/${u.id}`,method:"put",data:u}),je=(n,u)=>y({url:`/category/${n}/batchAdd`,method:"post",data:u}),He=(n,u)=>y({url:`/category/${n}/batchDelete`,method:"delete",data:u});let ee;const Qe=({title:n="\u786E\u8BA4",message:u,okEms:s,errMes:r,okText:g,cancleText:c,size:m="small"},o)=>{Ce({title:n,message:u,showCancelButton:!0,closeOnClickModal:!1,confirmButtonText:g||"\u786E\u5B9A",cancelButtonText:c||"\u53D6\u6D88",showClose:!1,icon:"",buttonSize:m,beforeClose:(f,b,I)=>{f==="confirm"?(b.confirmButtonLoading=!0,b.cancelButtonLoading=!0,clearTimeout(ee),ee=setTimeout(()=>{o().then(()=>{setTimeout(()=>{b.confirmButtonLoading=!1,b.cancelButtonLoading=!1},100)}).then(()=>{s&&J({position:"bottom-right",type:"success",message:s})}).catch(()=>{r&&J({position:"bottom-right",type:"error",message:r})}).finally(()=>{I()})},300)):I()}})};export{Re as E,je as a,Ge as b,Ue as c,He as d,qe as e,Ye as g,Qe as m,X as v};
