import{m as ge,r as _e,o as ue,B as ye,F as Ue,aV as Le,an as Fe,aW as ct,aa as ie,a5 as Te,q as ut,ay as pt,f as de,c as oe,a1 as je,af as mt,X as He,aX as Se,av as ft,a8 as gt,aY as _t,aZ as yt,Z as vt,a_ as Ee,a$ as ht,b0 as kt,b1 as bt,_ as ce,b as xt,i as Ct,d as wt,aC as ve,aU as Be,h as pe,a as It,O as Vt,S as $t,aR as Lt,v as qe,k as Me,E as De,l as Tt,j as St}from"./entry-8561ffba.js";import{f as Et,h as Bt,g as Mt,d as Dt,c as zt,s as Rt,E as Nt}from"./videoAlbum-3de0ee4f.js";/* empty css                   */import{E as Pt,a as Ot,P as At,e as Ut}from"./pagination-6c424080.js";import{g as Ft,E as jt,m as ze}from"./message-48c984f7.js";import{g as Ht,e as qt,v as Gt,_ as Zt,c as Xt,d as Wt,f as Yt,h as Kt,i as Qt,j as Jt,E as el,a as tl,b as ll}from"./setFees-834c95c1.js";import{m as Ge,g as Re,s as Ne,d as Pe,t as ol,e as al,f as nl,h as sl}from"./detection-2f333505.js";/* empty css                       */import{F as Q,i as H,o as k,c as B,G as he,T as l,R as a,K as te,a as r,P as U,u as i,V as I,L as Ze,X as Xe,b as w,Q as P,W as We,S as Ye,M as Z,a5 as h,H as il,aE as dl,h as ke,d as rl,O as re,U as cl,j as Oe,v as Ke,t as me,ai as Ae,Y as G,ac as fe,am as be,an as xe,ad as ul}from"./vue-e9f47459.js";/* empty css                          */import"./el-tab-pane-ea2b2b56.js";import"./el-date-picker-2f2b4ad1.js";const pl=ge({value:{type:[String,Number],default:""},max:{type:Number,default:99},isDot:Boolean,hidden:Boolean,type:{type:String,values:["primary","success","warning","info","danger"],default:"danger"}}),ml=["textContent"],fl=Q({name:"ElBadge"}),gl=Q({...fl,props:pl,setup(p,{expose:t}){const s=p,e=_e("badge"),d=H(()=>s.isDot?"":ue(s.value)&&ue(s.max)?s.max<s.value?`${s.max}+`:`${s.value}`:`${s.value}`);return t({content:d}),(b,o)=>(k(),B("div",{class:U(i(e).b())},[he(b.$slots,"default"),l(Xe,{name:`${i(e).namespace.value}-zoom-in-center`,persisted:""},{default:a(()=>[te(r("sup",{class:U([i(e).e("content"),i(e).em("content",b.type),i(e).is("fixed",!!b.$slots.default),i(e).is("dot",b.isDot)]),textContent:I(i(d))},null,10,ml),[[Ze,!b.hidden&&(i(d)||b.isDot)]])]),_:1},8,["name"])],2))}});var _l=ye(gl,[["__file","/home/runner/work/element-plus/element-plus/packages/components/badge/src/badge.vue"]]);const yl=Ue(_l),vl=ge({title:String,confirmButtonText:String,cancelButtonText:String,confirmButtonType:{type:String,values:Le,default:"primary"},cancelButtonType:{type:String,values:Le,default:"text"},icon:{type:Fe,default:()=>ct},iconColor:{type:String,default:"#f90"},hideIcon:{type:Boolean,default:!1},hideAfter:{type:Number,default:200},onConfirm:{type:ie(Function)},onCancel:{type:ie(Function)},teleported:Te.teleported,persistent:Te.persistent,width:{type:[String,Number],default:150}}),hl=Q({name:"ElPopconfirm"}),kl=Q({...hl,props:vl,setup(p){const t=p,{t:s}=ut(),e=_e("popconfirm"),d=w(),b=()=>{var f,c;(c=(f=d.value)==null?void 0:f.onClose)==null||c.call(f)},o=H(()=>({width:pt(t.width)})),E=f=>{var c;(c=t.onConfirm)==null||c.call(t,f),b()},$=f=>{var c;(c=t.onCancel)==null||c.call(t,f),b()},D=H(()=>t.confirmButtonText||s("el.popconfirm.confirmButtonText")),q=H(()=>t.cancelButtonText||s("el.popconfirm.cancelButtonText"));return(f,c)=>(k(),P(i(je),il({ref_key:"tooltipRef",ref:d,trigger:"click",effect:"light"},f.$attrs,{"popper-class":`${i(e).namespace.value}-popover`,"popper-style":i(o),teleported:f.teleported,"fallback-placements":["bottom","top","right","left"],"hide-after":f.hideAfter,persistent:f.persistent}),{content:a(()=>[r("div",{class:U(i(e).b())},[r("div",{class:U(i(e).e("main"))},[!f.hideIcon&&f.icon?(k(),P(i(de),{key:0,class:U(i(e).e("icon")),style:We({color:f.iconColor})},{default:a(()=>[(k(),P(Ye(f.icon)))]),_:1},8,["class","style"])):Z("v-if",!0),h(" "+I(f.title),1)],2),r("div",{class:U(i(e).e("action"))},[l(i(oe),{size:"small",type:f.cancelButtonType==="text"?"":f.cancelButtonType,text:f.cancelButtonType==="text",onClick:$},{default:a(()=>[h(I(i(q)),1)]),_:1},8,["type","text"]),l(i(oe),{size:"small",type:f.confirmButtonType==="text"?"":f.confirmButtonType,text:f.confirmButtonType==="text",onClick:E},{default:a(()=>[h(I(i(D)),1)]),_:1},8,["type","text"])],2)],2)]),default:a(()=>[f.$slots.reference?he(f.$slots,"reference",{key:0}):Z("v-if",!0)]),_:3},16,["popper-class","popper-style","teleported","hide-after","persistent"]))}});var bl=ye(kl,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popconfirm/src/popconfirm.vue"]]);const xl=Ue(bl),Qe=["success","info","warning","error"],N=mt({customClass:"",center:!1,dangerouslyUseHTMLString:!1,duration:3e3,icon:void 0,id:"",message:"",onClose:void 0,showClose:!1,type:"info",offset:16,zIndex:0,grouping:!1,repeatNum:1,appendTo:He?document.body:void 0}),Cl=ge({customClass:{type:String,default:N.customClass},center:{type:Boolean,default:N.center},dangerouslyUseHTMLString:{type:Boolean,default:N.dangerouslyUseHTMLString},duration:{type:Number,default:N.duration},icon:{type:Fe,default:N.icon},id:{type:String,default:N.id},message:{type:ie([String,Object,Function]),default:N.message},onClose:{type:ie(Function),required:!1},showClose:{type:Boolean,default:N.showClose},type:{type:String,values:Qe,default:N.type},offset:{type:Number,default:N.offset},zIndex:{type:Number,default:N.zIndex},grouping:{type:Boolean,default:N.grouping},repeatNum:{type:Number,default:N.repeatNum}}),wl={destroy:()=>!0},X=dl([]),Il=p=>{const t=X.findIndex(d=>d.id===p),s=X[t];let e;return t>0&&(e=X[t-1]),{current:s,prev:e}},Vl=p=>{const{prev:t}=Il(p);return t?t.vm.exposed.bottom.value:0},$l=["id"],Ll=["innerHTML"],Tl=Q({name:"ElMessage"}),Sl=Q({...Tl,props:Cl,emits:wl,setup(p,{expose:t}){const s=p,{Close:e}=_t,d=_e("message"),b=w(),o=w(!1),E=w(0);let $;const D=H(()=>s.type?s.type==="error"?"danger":s.type:"info"),q=H(()=>{const y=s.type;return{[d.bm("icon",y)]:y&&Se[y]}}),f=H(()=>s.icon||Se[s.type]||""),c=H(()=>Vl(s.id)),m=H(()=>s.offset+c.value),z=H(()=>E.value+m.value),R=H(()=>({top:`${m.value}px`,zIndex:s.zIndex}));function L(){s.duration!==0&&({stop:$}=yt(()=>{F()},s.duration))}function W(){$==null||$()}function F(){o.value=!1}function K({code:y}){y===vt.esc&&F()}return ke(()=>{L(),o.value=!0}),rl(()=>s.repeatNum,()=>{W(),L()}),ft(document,"keydown",K),gt(b,()=>{E.value=b.value.getBoundingClientRect().height}),t({visible:o,bottom:z,close:F}),(y,_)=>(k(),P(Xe,{name:i(d).b("fade"),onBeforeLeave:y.onClose,onAfterLeave:_[0]||(_[0]=ne=>y.$emit("destroy")),persisted:""},{default:a(()=>[te(r("div",{id:y.id,ref_key:"messageRef",ref:b,class:U([i(d).b(),{[i(d).m(y.type)]:y.type&&!y.icon},i(d).is("center",y.center),i(d).is("closable",y.showClose),y.customClass]),style:We(i(R)),role:"alert",onMouseenter:W,onMouseleave:L},[y.repeatNum>1?(k(),P(i(yl),{key:0,value:y.repeatNum,type:i(D),class:U(i(d).e("badge"))},null,8,["value","type","class"])):Z("v-if",!0),i(f)?(k(),P(i(de),{key:1,class:U([i(d).e("icon"),i(q)])},{default:a(()=>[(k(),P(Ye(i(f))))]),_:1},8,["class"])):Z("v-if",!0),he(y.$slots,"default",{},()=>[y.dangerouslyUseHTMLString?(k(),B(re,{key:1},[Z(" Caution here, message could've been compromised, never use user's input as message "),r("p",{class:U(i(d).e("content")),innerHTML:y.message},null,10,Ll)],2112)):(k(),B("p",{key:0,class:U(i(d).e("content"))},I(y.message),3))]),y.showClose?(k(),P(i(de),{key:2,class:U(i(d).e("closeBtn")),onClick:cl(F,["stop"])},{default:a(()=>[l(i(e))]),_:1},8,["class","onClick"])):Z("v-if",!0)],46,$l),[[Ze,o.value]])]),_:3},8,["name","onBeforeLeave"]))}});var El=ye(Sl,[["__file","/home/runner/work/element-plus/element-plus/packages/components/message/src/message.vue"]]);let Bl=1;const Je=p=>{const t=!p||Oe(p)||Ke(p)||me(p)?{message:p}:p,s={...N,...t};if(!s.appendTo)s.appendTo=document.body;else if(Oe(s.appendTo)){let e=document.querySelector(s.appendTo);kt(e)||(e=document.body),s.appendTo=e}return s},Ml=p=>{const t=X.indexOf(p);if(t===-1)return;X.splice(t,1);const{handler:s}=p;s.close()},Dl=({appendTo:p,...t},s)=>{const{nextZIndex:e}=ht(),d=`message_${Bl++}`,b=t.onClose,o=document.createElement("div"),E={...t,zIndex:e()+t.zIndex,id:d,onClose:()=>{b==null||b(),Ml(f)},onDestroy:()=>{Ae(null,o)}},$=l(El,E,me(E.message)||Ke(E.message)?{default:me(E.message)?E.message:()=>E.message}:null);$.appContext=s||le._context,Ae($,o),p.appendChild(o.firstElementChild);const D=$.component,f={id:d,vnode:$,vm:D,handler:{close:()=>{D.exposed.visible.value=!1}},props:$.component.props};return f},le=(p={},t)=>{if(!He)return{close:()=>{}};if(ue(Ee.max)&&X.length>=Ee.max)return{close:()=>{}};const s=Je(p);if(s.grouping&&X.length){const d=X.find(({vnode:b})=>{var o;return((o=b.props)==null?void 0:o.message)===s.message});if(d)return d.props.repeatNum+=1,d.props.type=s.type,d.handler}const e=Dl(s,t);return X.push(e),e.handler};Qe.forEach(p=>{le[p]=(t={},s)=>{const e=Je(t);return le({...e,type:p},s)}});function zl(p){for(const t of X)(!p||p===t.props.type)&&t.handler.close()}le.closeAll=zl;le._context=null;const se=bt(le,"$message");const ae=p=>(be("data-v-2064550c"),p=p(),xe(),p),Rl={key:0},Nl=ae(()=>r("div",{class:"tips"},[r("h4",null,"\u529F\u80FD\u8BF4\u660E\uFF1A"),r("p",null,"1.\u67E5\u627E\u540C\u540D\u89C6\u9891,\u5373\u5B8C\u5168\u76F8\u540C\u7684\u89C6\u9891\u540D\u79F0"),r("p",null,"2.\u89C6\u9891\u5206\u7C7B\u7B5B\u9009\u6761\u4EF6\u53EF\u591A\u9009\uFF0C\u4E0D\u9009\u62E9\u5219\u9ED8\u8BA4\u6240\u6709\u5206\u7C7B"),r("p",null,"3.\u5F53\u5F71\u7247\u7C7B\u578B\u5206\u7EC4\u5F00\u542F\u540E\uFF0C\u76F8\u540C\u7C7B\u578B\u7684\u5F71\u7247\u5728\u540C\u4E00\u5206\u7EC4")],-1)),Pl=[Nl],Ol={key:1},Al=ae(()=>r("div",{class:"tips"},[r("h4",null,"\u529F\u80FD\u8BF4\u660E\uFF1A"),r("p",null,"1.\u67E5\u627E\u5305\u542B\u5173\u952E\u5B57\u7684\u6240\u6709\u89C6\u9891"),r("p",null,"2.\u89C6\u9891\u5206\u7C7B\u7B5B\u9009\u6761\u4EF6\u53EF\u591A\u9009\uFF0C\u4E0D\u9009\u62E9\u5219\u9ED8\u8BA4\u6240\u6709\u5206\u7C7B"),r("p",null,"3.\u5F53\u5F71\u7247\u7C7B\u578B\u5206\u7EC4\u5F00\u542F\u540E\uFF0C\u76F8\u540C\u7C7B\u578B\u7684\u5F71\u7247\u5728\u540C\u4E00\u5206\u7EC4")],-1)),Ul=[Al],Fl={key:2},jl={class:"fli_box"},Hl={class:"che_len"},ql=ae(()=>r("span",null,"\u8D77\u59CB\u5B57\u7B26\u4F4D\u7F6E\uFF1A",-1)),Gl={class:"che_len"},Zl=ae(()=>r("span",null,"\u7ED3\u675F\u5B57\u7B26\u4F4D\u7F6E\uFF1A",-1)),Xl=ae(()=>r("div",{class:"tips"},[r("h4",null,"\u529F\u80FD\u8BF4\u660E\uFF1A"),r("p",null,"1.\u67E5\u627E\u8D77\u59CB\u5B57\u7B26\u4F4D\u7F6E\u5230\u7ED3\u675F\u5B57\u7B26\u4F4D\u7F6E\u7684\u540D\u79F0\u91CD\u590D\u7684\u89C6\u9891"),r("p",null,"2.\u8D77\u59CB\u5B57\u7B26\u4F4D\u7F6E\u9ED8\u8BA4\u4E3A0,\u5373\u7B2C\u4E00\u4E2A\u5B57\u7B26"),r("p",null," 3.\u8D77\u59CB\u5B57\u7B26\u4F4D\u7F6E\u548C\u7ED3\u675F\u5B57\u7B26\u4F4D\u7F6E\u5FC5\u586B,\u5E76\u4E14\u7ED3\u675F\u5B57\u7B26\u4F4D\u7F6E\u5FC5\u987B\u5927\u4E8E\u8D77\u59CB\u5B57\u7B26\u4F4D\u7F6E "),r("p",null,"4.\u5F53\u5F71\u7247\u7C7B\u578B\u5206\u7EC4\u5F00\u542F\u540E\uFF0C\u76F8\u540C\u7C7B\u578B\u7684\u5F71\u7247\u5728\u540C\u4E00\u5206\u7EC4")],-1)),Wl={__name:"samename",emits:["getCheckList"],setup(p,{expose:t,emit:s}){const e=G({dialogVisible:!0,loading:!1}),d=G({type:1,from:0,to:1,categoryId:[],keyword:"",group:0}),b=w([]),o=w([]),E=()=>Ft("1"),$=()=>{},D=()=>{e.dialogVisible=!1},q=()=>{b.value.length>0&&b.value.forEach((f,c)=>{let m={parentId:f,childId:0};d.categoryId.push(m)}),e.loading=!0,d.type==3?d.to!=null&&d.from!=null?d.to>d.from?s("getCheckList",d):(se.error("\u7ED3\u675F\u5B57\u7B26\u4F4D\u7F6E\u5FC5\u987B\u5927\u4E8E\u8D77\u59CB\u5B57\u7B26\u4F4D\u7F6E"),e.loading=!1):(se.error("\u8D77\u59CB\u5B57\u7B26\u4F4D\u7F6E\u548C\u7ED3\u675F\u5B57\u7B26\u4F4D\u7F6E\u5FC5\u586B"),e.loading=!1):d.type==2?d.keyword!=""?s("getCheckList",d):(se.error("\u5173\u952E\u5B57\u7B5B\u9009\u5FC5\u987B\u586B\u5199\u5173\u952E\u5B57"),e.loading=!1):d.type==1&&s("getCheckList",d)};return t({open:()=>{e.dialogVisible=!0},close:f=>{f?(e.loading=!1,e.dialogVisible=!1):e.loading=!1}}),ke(()=>{E().then(f=>{f.forEach(c=>{c.parentId===0&&o.value.push({value:c.id,label:c.name})}),f.forEach(c=>{if(c.parentId!==0){const m=o.value.find(z=>z.value===c.parentId);m&&(m.children||(m.children=[]),m.children.push({value:c.id,label:c.name,leaf:!0}))}})})}),(f,c)=>{const m=Et,z=Bt,R=xt,L=Pt,W=Ot,F=Ct,K=wt,y=jt,_=oe,ne=ve;return k(),B("div",null,[l(ne,{modelValue:e.dialogVisible,"onUpdate:modelValue":c[7]||(c[7]=V=>e.dialogVisible=V),"show-close":!e.loading,title:"\u7B5B\u9009\u914D\u7F6E",width:"565","before-close":D,onOpened:$,"close-on-click-modal":!1},{footer:a(()=>[l(_,{class:"ml-auto",size:"small",loading:e.loading,onClick:D},{default:a(()=>[h(" \u53D6\u6D88 ")]),_:1},8,["loading"]),l(_,{class:"ml-auto",size:"small",type:"primary",loading:e.loading,onClick:c[6]||(c[6]=V=>q())},{default:a(()=>[h(" \u4FDD\u5B58 ")]),_:1},8,["loading"])]),default:a(()=>[l(K,{"label-position":"left","label-width":"auto",model:d},{default:a(()=>[l(R,{label:"\u7B5B\u9009\u7C7B\u578B"},{default:a(()=>[l(z,{modelValue:d.type,"onUpdate:modelValue":c[0]||(c[0]=V=>d.type=V),style:{"justify-content":"start !important",gap:"32px"}},{default:a(()=>[l(m,{label:1},{default:a(()=>[h("\u5B8C\u5168\u540C\u540D\u7B5B\u9009")]),_:1}),l(m,{label:2},{default:a(()=>[h("\u5173\u952E\u5B57\u7B5B\u9009")]),_:1}),l(m,{label:3},{default:a(()=>[h("\u90E8\u5206\u540C\u540D\u7B5B\u9009")]),_:1})]),_:1},8,["modelValue"])]),_:1}),l(R,{label:"\u89C6\u9891\u5206\u7C7B"},{default:a(()=>[l(W,{class:"SearchInput",modelValue:b.value,"onUpdate:modelValue":c[1]||(c[1]=V=>b.value=V),multiple:"",placeholder:"\u8BF7\u9009\u62E9\u89C6\u9891\u5206\u7C7B\uFF0C\u4E0D\u9009\u62E9\u5219\u9ED8\u8BA4\u6240\u6709\u5206\u7C7B",style:{width:"280px"},"collapse-tags":"","collapse-tags-tooltip":"","max-collapse-tags":3},{default:a(()=>[(k(!0),B(re,null,fe(o.value,V=>(k(),P(L,{key:V.value,label:V.label,value:V.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),l(R,{label:"\u5173\u952E\u5B57"},{default:a(()=>[l(F,{class:"SearchInput",modelValue:d.keyword,"onUpdate:modelValue":c[2]||(c[2]=V=>d.keyword=V),style:{width:"280px"}},null,8,["modelValue"])]),_:1}),l(R,{label:"\u5206\u7EC4\u65B9\u5F0F"},{default:a(()=>[l(z,{modelValue:d.group,"onUpdate:modelValue":c[3]||(c[3]=V=>d.group=V),style:{"justify-content":"start !important",gap:"34px"}},{default:a(()=>[l(m,{label:0},{default:a(()=>[h("\u4E0D\u6309\u5206\u7C7B\u5206\u7EC4")]),_:1}),l(m,{label:1},{default:a(()=>[h("\u6309\u5206\u7C7B\u5206\u7EC4")]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model"]),d.type==1?(k(),B("div",Rl,Pl)):Z("",!0),d.type==2?(k(),B("div",Ol,Ul)):Z("",!0),d.type==3?(k(),B("div",Fl,[r("div",jl,[r("div",Hl,[ql,l(y,{controls:!1,modelValue:d.from,"onUpdate:modelValue":c[4]||(c[4]=V=>d.from=V)},null,8,["modelValue"])]),r("div",Gl,[Zl,l(y,{min:d.from+1,controls:!1,modelValue:d.to,"onUpdate:modelValue":c[5]||(c[5]=V=>d.to=V)},null,8,["min","modelValue"])])]),Xl])):Z("",!0)]),_:1},8,["modelValue","show-close"])])}}},Yl=ce(Wl,[["__scopeId","data-v-2064550c"]]);const et=p=>(be("data-v-76043fb9"),p=p(),xe(),p),Kl={class:"merge-dialog-content"},Ql={class:"merge-dialog-content-header"},Jl=et(()=>r("div",null,"\u4E3B\u5F71\u7247\uFF08\u5355\u9009\uFF09",-1)),eo={class:"merge-dialog-content-body"},to={class:"merge-dialog-content-right"},lo={class:"merge-dialog-content-header"},oo=et(()=>r("div",null," \u5408\u5E76\u5F71\u7247\uFF08\u591A\u9009\uFF09 ",-1)),ao={class:"merge-dialog-content-body"},no={class:"dialog-footer"},so={__name:"merge",emits:["load"],setup(p,{expose:t,emit:s}){const e=G({data:[],dialogVisible:!1,loading:!1,mainloading:!1,mergeloading:!1,mainkeyword:"",mergekeyword:"",checkAll:!1,isIndeterminate:!1,maincheckList:[],mergecheckList:[],mainfilmlist:[],mergemovies:[],maintotal:0,mergetotal:0,typevalue:{type:""},row:{}}),d=()=>{e.maincheckList.length>1&&e.maincheckList.splice(0,1)},b=(c="all")=>{e.mainfilmlist=e.data,e.mergemovies=e.data,e.maintotal=e.data.length,e.mergetotal=e.data.length};function o(c,m){let z;return function(){const R=this,L=arguments;clearTimeout(z),z=setTimeout(()=>{c.apply(R,L)},m)}}const $=o(c=>{c=="main"?e.mainfilmlist=e.data.filter(m=>m.title.includes(e.mainkeyword)):e.mergemovies=e.data.filter(m=>m.title.includes(e.mergekeyword))},300),D=()=>{e.maincheckList=[],e.mergecheckList=[],e.checkAll=!1,e.isIndeterminate=!1,e.mainkeyword="",e.mergekeyword="",e.mainfilmlist=[],e.mergemovies=[],e.loading=!1,e.mainloading=!1,e.mergeloading=!1,e.dialogVisible=!1},q=()=>{e.mergecheckList.length>0?e.isIndeterminate=!0:e.isIndeterminate=!1,e.mergecheckList.length===e.mergemovies.length?e.checkAll=!0:e.checkAll=!1},f=()=>{var m;if(e.mergecheckList.length<=0||e.maincheckList.length<=0){pe({position:"bottom-right",type:"error",message:"\u8BF7\u9009\u62E9\u9700\u8981\u5408\u5E76\u7684\u5F71\u7247"});return}e.loading=!0;let c=[{mergeToMaxId:!1,key:(m=e.row)==null?void 0:m.key,mergeIds:[...e.mergecheckList],forceId:e.maincheckList[0]}];Ge(c).then(z=>{pe({position:"bottom-right",type:"success",message:"\u63D0\u4EA4\u5408\u5E76\u6210\u529F"}),s("load"),D()}).finally(()=>{e.loading=!1})};return t({open:(c,m)=>{e.data=c,e.row=m,e.dialogVisible=!0}}),(c,m)=>{const z=It,R=Vt,L=$t,W=Lt,F=oe,K=ve,y=qe;return k(),B("div",null,[l(K,{modelValue:i(e).dialogVisible,"onUpdate:modelValue":m[6]||(m[6]=_=>i(e).dialogVisible=_),title:"\u5408\u5E76",width:"609","before-close":D,onOpen:b},{footer:a(()=>[r("div",no,[l(F,{onClick:D,loading:i(e).loading,size:"small"},{default:a(()=>[h("\u53D6\u6D88")]),_:1},8,["loading"]),l(F,{type:"primary",onClick:f,loading:i(e).loading,size:"small"},{default:a(()=>[h(" \u786E\u8BA4 ")]),_:1},8,["loading"])])]),default:a(()=>[te((k(),B("div",Kl,[te((k(),B("div",null,[r("div",Ql,[Jl,r("div",null,I(i(e).maincheckList.length)+"/"+I(i(e).maintotal),1)]),r("div",eo,[l(z,{modelValue:i(e).mainkeyword,"onUpdate:modelValue":m[0]||(m[0]=_=>i(e).mainkeyword=_),class:"w-240 m-02",style:{height:"32px",width:"240px","background-image":"none"},placeholder:"\u641C\u7D22\u5173\u952E\u5B57",onInput:m[1]||(m[1]=_=>i($)("main")),"prefix-icon":i(Be)},null,8,["modelValue","prefix-icon"]),l(W,{modelValue:i(e).maincheckList,"onUpdate:modelValue":m[2]||(m[2]=_=>i(e).maincheckList=_),onChange:d},{default:a(()=>[l(L,{height:"400px"},{default:a(()=>[(k(!0),B(re,null,fe(i(e).mainfilmlist,_=>(k(),P(R,{label:_.id,disabled:i(e).mergecheckList.includes(_.id)},{default:a(()=>[h(I(_.title),1)]),_:2},1032,["label","disabled"]))),256))]),_:1})]),_:1},8,["modelValue"])])])),[[y,i(e).mainloading]]),te((k(),B("div",to,[r("div",lo,[oo,r("div",null,I(i(e).mergecheckList.length)+"/"+I(i(e).mergetotal),1)]),r("div",ao,[l(z,{modelValue:i(e).mergekeyword,"onUpdate:modelValue":m[3]||(m[3]=_=>i(e).mergekeyword=_),class:"w-240 m-02",style:{height:"32px",width:"240px","background-image":"none"},placeholder:"\u641C\u7D22\u5173\u952E\u5B57","prefix-icon":i(Be),onInput:m[4]||(m[4]=_=>i($)("merge"))},null,8,["modelValue","prefix-icon"]),l(W,{modelValue:i(e).mergecheckList,"onUpdate:modelValue":m[5]||(m[5]=_=>i(e).mergecheckList=_)},{default:a(()=>[l(L,{height:"400px"},{default:a(()=>[(k(!0),B(re,null,fe(i(e).mergemovies,_=>(k(),P(R,{onChange:q,label:_.id,disabled:_.id==i(e).maincheckList[0]},{default:a(()=>[h(I(_.title),1)]),_:2},1032,["label","disabled"]))),256))]),_:1})]),_:1},8,["modelValue"])])])),[[y,i(e).mergeloading]])])),[[y,i(e).loading]])]),_:1},8,["modelValue"])])}}},io=ce(so,[["__scopeId","data-v-76043fb9"]]);const Ce=p=>(be("data-v-40376570"),p=p(),xe(),p),ro={class:"flex-y box cont bigBox",style:{width:"100%"}},co={class:"flex-x-between"},uo={style:{display:"flex"}},po=Ce(()=>r("i",{style:{"font-size":"14px","margin-right":"6px"},class:"iconfont icon-shaixuan"},null,-1)),mo=Ce(()=>r("div",{class:"flex-x-center",style:{"align-items":"center",gap:"8px","font-size":"12px"}},null,-1)),fo={m:"4"},go=["onClick"],_o={key:1},yo={class:"my-header",style:{display:"flex","justify-content":"space-between","align-items":"center",width:"500px"}},vo=Ce(()=>r("h5",null,"\u4EFB\u52A1\u63D0\u4EA4\u6210\u529F",-1)),ho={style:{display:"flex","justify-content":"space-between","flex-direction":"row","margin-top":"16px"},class:"taskProgressBoxText"},ko={__name:"sameVideo",setup(p){const t=w({pageIndex:1,pageSize:20,total:0,cid:"",pid:"",from:0,to:1,keyword:"",group:1,type:1}),s=w({page:1,limit:10,key:"",total:0}),e=G({value:[],get(){Mt().then(n=>{e.value=n})}});let d=w(0);e.get();const b=w([]);Ht({limit:998}).then(n=>{b.value=n.list}),G([[1,"\u662F"],[2,"\u5426"]]),G([[1,"\u662F"],[2,"\u5426"]]),G([[1,"\u514D\u8D39"],[2,"VIP\u514D\u8D39"],[3,"\u91D1\u5E01\u70B9\u64AD"]]);const o=G({categoryId:[],loading:!1,data:[],searchVal:{keywords:"",type:"duplication"},selectList:[],load(n){var g,T;t.value.pageIndex=(n==null?void 0:n.pageIndex)||((g=t.value)==null?void 0:g.pageIndex),t.value.pageSize=(n==null?void 0:n.pageSize)||((T=t.value)==null?void 0:T.pageSize),o.loading=!0;const u={page:t.value.pageIndex,limit:t.value.pageSize,to:t.value.to,from:t.value.from,pid:t.value.pid,cid:t.value.cid,keyword:t.value.keyword,group:t.value.group};console.log(t.value.type),t.value.type==3?Re(u).then(x=>{o.data=x.list,t.value.total=x.total,ee(x.list)}).finally(()=>{o.loading=!1}):t.value.type==1?Ne(u).then(x=>{o.data=x.list,t.value.total=x.total,ee(x.list)}).finally(()=>{o.loading=!1}):t.value.type==2&&Pe(u).then(x=>{o.data=x.list,t.value.total=x.total,ee(x.list)}).finally(()=>{o.loading=!1})},load1(n){s.value.page=n||s.value,o.loading=!0;const u={page:s.value.page,limit:s.value.limit,key:s.value.key};ol(u).then(g=>{o.data[d.value].list.list=g.list,console.log(o.data,12312132),s.value.total=g.total}).finally(()=>{o.loading=!1})},handleSelectionChange(n){o.selectList=n},sortChnage({column:n,prop:u,order:g}){g?o.searchVal.order=`${u} ${g==="ascending"?"asc":"desc"}`:o.searchVal.order="",o.load()}}),E=w(),$=w();w();const D=w(),q=w(),f=w();w();const c=w(),m=w(),z=w(),R=w(),L=w(),W={del:n=>ze({message:"\u786E\u5B9A\u8981\u5220\u9664\u5417\uFF1F",okEms:"\u5F71\u89C6\u5220\u9664\u6210\u529F"},()=>Dt(n).then(u=>(o.load(),u))),search(){t.value.pageIndex=1,o.load(),s.value.page=1},batch:(n,u,g,T)=>ze({message:`\u786E\u5B9A\u8981${T}\u5417\uFF1F`,okEms:`\u5F71\u89C6${T}\u6210\u529F`},()=>zt(n,u,g).then(x=>(o.load(),x))),syncImg:n=>{Rt({ids:n}).then(u=>{pe({position:"bottom-right",type:"success",message:u||"\u540C\u6B65\u6210\u529F"})})},checkVod:n=>{o.searchVal.type=n,delete o.searchVal.duplicationType,delete o.searchVal.duplicationLen,o.load()}},F=n=>{o.loading=!0,n&&(t.value.to=n.to,t.value.from=n.from,t.value.type=n.type,t.value.group=n.group,(n==null?void 0:n.categoryId)!=[]&&tt(n==null?void 0:n.categoryId),(n==null?void 0:n.keyword)!=""&&(t.value.keyword=n.keyword));const u={page:t.value.pageIndex,limit:t.value.pageSize,to:t.value.to,from:t.value.from,pid:t.value.pid,cid:t.value.cid,keyword:t.value.keyword,group:t.value.group};(n==null?void 0:n.type)==3?Re(u).then(g=>{o.data=g.list,t.value.total=g.total,L.value.close(!0),t.value.keyword="",ee(g.list)}).finally(()=>{o.loading=!1,L.value.close(),t.value.keyword=""}):(n==null?void 0:n.type)==1?Ne(u).then(g=>{o.data=g.list,t.value.total=g.total,t.value.keyword="",L.value.close(!0),ee(g.list)}).finally(()=>{o.loading=!1,t.value.keyword="",L.value.close()}):(n==null?void 0:n.type)==2&&Pe(u).then(g=>{o.data=g.list,t.value.total=g.total,t.value.keyword="",L.value.close(!0),ee(g.list)}).finally(()=>{o.loading=!1,t.value.keyword="",L.value.close()})},K=n=>{s.value.key=n.key,console.log(n),d.value=o.data.findIndex(u=>u===n)};let y={},_={};const ne=n=>{_[s.value.key]?_[s.value.key].indexOf(n.id)==-1?_[s.value.key]=[..._[s.value.key],n.id]:_[s.value.key].splice(_[s.value.key].indexOf(n.id),1):_[s.value.key]=[n.id]},V=(n,u)=>{De({title:"\u786E\u8BA4",message:` <div
            style="margin-bottom: 8px; height: 24px;"
            class="flex-y-center"
          >
            <i
              class="icon iconfont icon-tishi2"
              style="color: #ff4d4f; margin: 0 12px 2px 0"
            ></i>
            <p style="font-size: 14px; font-weight: 600">
              \u786E\u8BA4\u8981\u5408\u5E76\u5F71\u7247\u5417\uFF1F
            </p>
          </div><div>\u5408\u5E76\u5F71\u7247\u540E\u5C06\u4E0D\u53EF\u6062\u590D\uFF0C\u8BF7\u8C28\u614E\u64CD\u4F5C</div>`,showCancelButton:!0,dangerouslyUseHTMLString:!0,closeOnClickModal:!1,confirmButtonText:"\u786E\u5B9A",cancelButtonText:"\u53D6\u6D88",showClose:!1,buttonSize:"small",beforeClose:(g,T,x)=>{if(g==="confirm"){o.loading=!0,Y.data={all:0,ok:0,running:0,spend_at:0,state:!1,total:0};let O=[];n=="smallID"?u.forEach((M,C)=>{O[C]={key:M.key,mergeToMaxId:!1}}):u.forEach((M,C)=>{O[C]={key:M.key,mergeToMaxId:!0}}),O.forEach((M,C)=>{M.key in y&&(M.forceId=y[M.key])}),O.forEach((M,C)=>{M.key in _&&(M.ignoreIds=_[M.key])}),console.log(O),Ge(O).then(M=>{J.value=!0,we()}).finally(()=>{o.loading=!1}),x()}else x()}})},J=w(!1),Y=G({data:{all:0,ok:0,running:0,spend_at:0,state:!1,total:0}}),we=()=>{let n=null;n=setInterval(()=>{al().then(u=>{Y.data=u,u.state==!1&&(clearInterval(n),J.value=!1,o.load())})},1e3)},tt=n=>{let u=[],g=[];n.forEach(T=>{T.parentId&&g.indexOf(T.parentId)==-1&&g.push(T.parentId),T.childId&&u.indexOf(T.childId)==-1&&u.push(T.childId)}),t.value.cid=u.join(","),t.value.pid=g.join(",")},Ie=n=>{De({title:"\u786E\u8BA4",message:` <div
            style="margin-bottom: 8px; height: 24px;"
            class="flex-y-center"
          >
            <i
              class="icon iconfont icon-tishi2"
              style="color: #ff4d4f; margin: 0 12px 2px 0"
            ></i>
            <p style="font-size: 14px; font-weight: 600">
              \u786E\u8BA4\u8981\u5408\u5E76\u5F71\u7247\u5417\uFF1F
            </p>
          </div><div>\u5408\u5E76\u5F71\u7247\u540E\u5C06\u4E0D\u53EF\u6062\u590D\uFF0C\u8BF7\u8C28\u614E\u64CD\u4F5C</div>`,showCancelButton:!0,dangerouslyUseHTMLString:!0,closeOnClickModal:!1,confirmButtonText:"\u786E\u5B9A",cancelButtonText:"\u53D6\u6D88",showClose:!1,buttonSize:"small",beforeClose:(u,g,T)=>{let x="";if(t.value.type==1?x="repeat":t.value.type==1?x="contain":t.value.type==3&&(x="same"),u==="confirm"){o.loading=!0;let O={type:x,cid:t.value.cid,pid:t.value.pid,keyword:t.value.keyword,toMaxId:!1,forceid:y,ignoreIds:_,to:t.value.to,from:t.value.from,group:t.value.group};x!=="smallID"&&(O.toMaxId=!0),nl(O).then(M=>{J.value=!0,we()}).finally(()=>{o.loading=!1}),T()}else T()}})},lt=()=>{sl(params).then(n=>{J.value=!1})},ot=n=>{s.value.key=n.key},ee=n=>{(n==null?void 0:n.length)==0&&se.error("\u672A\u627E\u5230\u7B26\u5408\u6761\u4EF6\u7684\u5F71\u89C6\uFF0C\u5C1D\u8BD5\u6362\u4E00\u4E2A\u6761\u4EF6\u8BD5\u8BD5\u5427")};return(n,u)=>{const g=oe,T=de,x=el,O=tl,M=ll,C=Tt,at=ul("MyImage"),Ve=je,$e=St,nt=Ut,st=xl,it=Nt,dt=ve,rt=qe;return k(),B("div",ro,[r("div",co,[r("div",uo,[l(g,{type:"primary",onClick:u[0]||(u[0]=S=>{var v;return(v=L.value)==null?void 0:v.open()})},{default:a(()=>[h(" \u7B5B\u9009 \xA0 "),po]),_:1}),l(M,{trigger:"click","hide-on-click":!0,style:{"margin-left":"16px"},"popper-class":"video-top-menu",disabled:o.selectList.length<=0},{dropdown:a(()=>[l(O,{style:{width:"120px"}},{default:a(()=>[l(x,{onClick:u[1]||(u[1]=S=>V("smallID",o.selectList))},{default:a(()=>[h(" \u4FDD\u7559\u5C0FID ")]),_:1}),l(x,{onClick:u[2]||(u[2]=S=>V("bigID",o.selectList))},{default:a(()=>[h(" \u4FDD\u7559\u5927ID ")]),_:1})]),_:1})]),default:a(()=>[l(g,{type:"primary",disabled:o.selectList.length<=0},{default:a(()=>[h(" \u5408\u5E76 "),l(T,{style:{"padding-left":"5px","margin-top":"-3px"}},{default:a(()=>[l(i(Me))]),_:1})]),_:1},8,["disabled"])]),_:1},8,["disabled"]),l(M,{trigger:"click","hide-on-click":!0,style:{"margin-left":"16px"},"popper-class":"video-top-menu"},{dropdown:a(()=>[l(O,{style:{width:"120px"}},{default:a(()=>[l(x,{onClick:u[3]||(u[3]=S=>Ie("smallID"))},{default:a(()=>[h(" \u4FDD\u7559\u5C0FID ")]),_:1}),l(x,{onClick:u[4]||(u[4]=S=>Ie("bigID"))},{default:a(()=>[h(" \u4FDD\u7559\u5927ID ")]),_:1})]),_:1})]),default:a(()=>[l(g,{type:"primary"},{default:a(()=>[h(" \u4E00\u952E\u5408\u5E76 "),l(T,{style:{"padding-left":"5px","margin-top":"-3px"}},{default:a(()=>[l(i(Me))]),_:1})]),_:1})]),_:1})]),mo]),te((k(),P($e,{data:o.data,class:"auto",stripe:!0,onSortChange:o.sortChnage,onSelectionChange:o.handleSelectionChange,onExpandChange:K,"row-key":S=>S.key,"expand-row-keys":[s.value.key],"empty-text":"\u6682\u65E0\u6570\u636E,\u8BF7\u5148\u914D\u7F6E\u7B5B\u9009\u6761\u4EF6\u67E5\u627E\u5F71\u7247",onRowClick:ot},{default:a(()=>[l(C,{type:"expand",width:"25"},{default:a(({row:S})=>[r("div",fo,[l($e,{data:S.list.list},{default:a(()=>[l(C,{prop:"id",label:"ID",width:"80",sortable:""},{default:a(({row:v,store:A})=>[r("div",{onClick:j=>A.toggleRowSelection(v,void 0)},I(v.id),9,go)]),_:2},1024),l(C,{label:"\u7F29\u7565\u56FE","min-width":"60"},{default:a(({row:v})=>[v.surfacePlot?(k(),P(at,{key:0,src:v.surfacePlot,style:{width:"50px",height:"30px"}},null,8,["src"])):(k(),B("span",_o,"-"))]),_:2},1024),l(C,{prop:"title",label:"\u540D\u79F0","min-width":"150","show-overflow-tooltip":!0}),l(C,{label:"\u5206\u7C7B","min-width":"120"},{default:a(({row:v})=>[h(I(v.categoryName)+I(v.childCategoryName?"/"+v.childCategoryName:""),1)]),_:2},1024),l(C,{prop:"actors",label:"\u4E3B\u6F14",width:"100","show-overflow-tooltip":!0}),l(C,{prop:"doubanScore",label:"\u8BC4\u5206","min-width":"80",sortable:""},{default:a(({row:v})=>[h(I(v.doubanScore?v.doubanScore/10:"-"),1)]),_:2},1024),l(C,{prop:"popularitySum",label:"\u4EBA\u6C14","min-width":"80",sortable:""}),l(C,{prop:"cycle",label:"\u8F6E\u64AD","min-width":"80",sortable:""},{default:a(({row:v})=>[h(I(v.cycle===1?"\u662F":"\u5426"),1)]),_:2},1024),l(C,{prop:"recommend",label:"\u63A8\u8350","min-width":"80",sortable:""},{default:a(({row:v})=>[h(I(v.recommend===1?"\u662F":"\u5426"),1)]),_:2},1024),l(C,{prop:"chargingMode",label:"\u6536\u8D39","min-width":"120",sortable:""},{default:a(({row:v})=>[h(I(v.buyMode===1?v.chargingMode===1?"\u6309\u90E8-\u514D\u8D39":v.chargingMode===2?"\u6309\u90E8-VIP\u514D\u8D39":v.chargingMode===3?"\u6309\u90E8-\u91D1\u5E01\u70B9\u64AD":"-":v.buyMode===2?"\u6309\u96C6":"-"),1)]),_:2},1024),l(C,{prop:"releaseAt",label:"\u4E0A\u6620\u65E5\u671F",type:"day",width:"150",sortable:""}),l(C,{prop:"shelfAt",label:"\u66F4\u65B0\u65F6\u95F4",type:"date",width:"150",sortable:""}),l(C,{fixed:"right",label:"\u64CD\u4F5C",align:"right","min-width":"230"},{default:a(({row:v})=>[l(Ve,{class:"box-item",effect:"dark",content:"\u5408\u5E76\u64CD\u4F5C\u5FFD\u7565\u8BE5\u9879",placement:"top"},{default:a(()=>[l(g,{type:"primary",link:"",onClick:A=>ne(v)},{default:a(()=>{var A;return[h(I((A=i(_)[s.value.key])!=null&&A.some(j=>j==v.id)?"\u53D6\u6D88\u5FFD\u7565":"\u5FFD\u7565\u5408\u5E76"),1)]}),_:2},1032,["onClick"])]),_:2},1024),l(g,{type:"primary",link:"",onClick:A=>{var j;return(j=$.value)==null?void 0:j.open(v,e.value)}},{default:a(()=>[h(" \u7EBF\u8DEF\u7BA1\u7406 ")]),_:2},1032,["onClick"]),l(g,{type:"primary",link:"",onClick:A=>{var j;return(j=E.value)==null?void 0:j.open(v,e.value)}},{default:a(()=>[h(" \u7F16\u8F91 ")]),_:2},1032,["onClick"]),l(g,{type:"danger",link:"",onClick:A=>W.del([v.id])},{default:a(()=>[h(" \u5220\u9664 ")]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1032,["data"]),S.total>10?(k(),P(nt,{key:0,layout:"prev, pager, next",total:S.total,"page-size":s.value.limit,"current-page":s.value.page,onCurrentChange:o.load1},null,8,["total","page-size","current-page","onCurrentChange"])):Z("",!0)])]),_:1}),l(C,{type:"selection",width:"55"}),l(C,{prop:"keyword",label:"\u540D\u79F0","min-width":"150","show-overflow-tooltip":!0}),l(C,{prop:"total",label:"\u5F71\u7247\u6570\u91CF"}),l(C,{fixed:"right",label:"\u64CD\u4F5C",align:"right","min-width":"180"},{default:a(({row:S})=>[l(Ve,{class:"box-item",effect:"dark",content:"\u53EA\u5408\u5E76\u8BE5\u9879",placement:"top"},{default:a(()=>[l(g,{type:"primary",link:"",onClick:v=>{var A,j;return(j=R.value)==null?void 0:j.open((A=S==null?void 0:S.list)==null?void 0:A.list,S)}},{default:a(()=>[h(" \u5408\u5E76 ")]),_:2},1032,["onClick"])]),_:2},1024)]),_:1})]),_:1},8,["data","onSortChange","onSelectionChange","row-key","expand-row-keys"])),[[rt,o.loading]]),l(At,{pageinfo:t.value,onChange:o.load},null,8,["pageinfo","onChange"]),l(qt,{ref_key:"editorRef",ref:E,onLoad:o.load},null,8,["onLoad"]),l(Gt,{ref_key:"vodLineRef",ref:$,onLoad:o.load},null,8,["onLoad"]),l(Zt,{ref_key:"replaceRef",ref:m,onLoad:o.load},null,8,["onLoad"]),l(Xt,{ref_key:"lineRef",ref:q,onLoad:o.load},null,8,["onLoad"]),l(Wt,{ref_key:"setAlbumRef",ref:f,onLoad:o.load},null,8,["onLoad"]),l(Yt,{ref:"setFeesRef",onLoad:o.load},null,8,["onLoad"]),l(Kt,{ref_key:"allDelVueRef",ref:c,onLoad:o.load},null,8,["onLoad"]),l(Qt,{ref_key:"classVueRef",ref:z,onLoad:o.load},null,8,["onLoad"]),l(Jt,{ref_key:"batchVueRef",ref:D,onLoad:o.load},null,8,["onLoad"]),l(dt,{modelValue:J.value,"onUpdate:modelValue":u[6]||(u[6]=S=>J.value=S),title:"\u4EFB\u52A1\u63D0\u4EA4\u6210\u529F",width:"500","align-center":"","append-to":"bigBox","close-on-click-modal":!1,"show-close":!1,"modal-class":"dialog_modal_box"},{header:a(({close:S,titleId:v,titleClass:A})=>[r("div",yo,[vo,l(st,{title:"\u786E\u5B9A\u7EC8\u6B62\u4EFB\u52A1\u5417?","confirm-button-text":"\u786E\u5B9A","cancel-button-text":"\u53D6\u6D88",onConfirm:lt},{reference:a(()=>[l(g,{type:"danger",onClick:u[5]||(u[5]=()=>{})},{default:a(()=>[h(" \u7EC8\u6B62\u4EFB\u52A1 ")]),_:1})]),_:1})])]),default:a(()=>[l(it,{type:"circle",percentage:(Y.data.ok/Y.data.all).toFixed(2)*100||0},null,8,["percentage"]),r("div",ho,[r("span",null,"\u5F53\u524D\u8FDB\u5EA6:"+I((Y.data.ok/Y.data.all).toFixed(2)*100||0)+"%",1),r("span",null,"\u5DF2\u5B8C\u6210\u6570\u91CF:"+I(Y.data.ok),1),r("span",null,"\u603B\u6570\u91CF:"+I(Y.data.all),1),r("span",null,"\u5F53\u524D\u8017\u65F6:"+I(Y.data.spend_at)+"\u79D2",1)])]),_:1},8,["modelValue"]),l(Yl,{ref_key:"samenameRef",ref:L,onGetCheckList:F},null,512),l(io,{ref_key:"mergeRef",ref:R,onLoad:o.load},null,8,["onLoad"])])}}},bo=ce(ko,[["__scopeId","data-v-40376570"]]),xo={class:"content"},Co={class:"boxs"},wo={class:"flex-x-between video-album"},Io=Q({__name:"index",setup(p){return G({type:1}),w(),ke(()=>{}),(t,s)=>(k(),B("div",xo,[r("div",Co,[r("div",wo,[l(bo)])])]))}});const Po=ce(Io,[["__scopeId","data-v-b6730497"]]);export{Po as default};
