import{m as sl,aa as Ge,Z,av as El,B as ve,aw as de,L as rl,c as ae,S as Tl,a1 as Ml,ax as Fl,f as Ye,k as Rl,r as Ue,q as Pl,ay as xl,w as Dl,az as dl,aA as tl,aB as Ul,F as il,N as ul,an as Al,_ as ke,h as K,l as Ae,j as ze,b as me,d as fe,aC as pe,v as Oe,G as zl,O as Ol,a as Fe,aD as Pe,e as je}from"./entry-8561ffba.js";import{c as Ll,E as Bl,d as Nl,a as pl,C as ql,b as Kl,e as Gl,f as Yl,g as jl,F as Hl,L as Wl,h as cl,i as ml}from"./el-tab-pane-ea2b2b56.js";import{F as ce,b as P,y as oe,i as Y,x as xe,r as Jl,A as Ee,u as e,d as fl,G as ie,ad as j,o as I,Q as O,R as t,T as o,aB as Xl,aC as Ql,n as Zl,f as gl,c as B,a9 as eo,H as Te,P as Me,M as G,a as D,S as vl,O as J,W as lo,ac as ue,ah as oo,Y as q,K as he,L as _l,a5 as S,V as se,C as He,am as Le,an as Be,X as $e,z as to}from"./vue-e9f47459.js";import{E as Re,m as ge}from"./message-48c984f7.js";import{E as bl}from"./el-date-picker-2f2b4ad1.js";/* empty css                       */import{m as ao,l as W,f as Ie,h as Ve,p as De,g as Ne,_ as we,i as no,j as so,k as ro,n as io,o as uo,E as po,q as co,e as mo,c as fo,r as go,t as vo,u as _o,v as bo,w as yo,x as ho,y as wo,z as ko}from"./videoAlbum-3de0ee4f.js";import{E as _e,a as be,P as We}from"./pagination-6c424080.js";const Io=sl({style:{type:Ge([String,Array,Object])},currentTabId:{type:Ge(String)},defaultCurrentTabId:String,loop:Boolean,dir:{type:String,values:["ltr","rtl"],default:"ltr"},orientation:{type:Ge(String)},onBlur:Function,onFocus:Function,onMousedown:Function}),{ElCollection:Vo,ElCollectionItem:Co,COLLECTION_INJECTION_KEY:Je,COLLECTION_ITEM_INJECTION_KEY:So}=Ll("RovingFocusGroup"),Xe=Symbol("elRovingFocusGroup"),yl=Symbol("elRovingFocusGroupItem"),$o={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"},Eo=(a,v)=>{if(v!=="rtl")return a;switch(a){case Z.right:return Z.left;case Z.left:return Z.right;default:return a}},To=(a,v,T)=>{const s=Eo(a.key,T);if(!(v==="vertical"&&[Z.left,Z.right].includes(s))&&!(v==="horizontal"&&[Z.up,Z.down].includes(s)))return $o[s]},Mo=(a,v)=>a.map((T,s)=>a[(s+v)%a.length]),Qe=a=>{const{activeElement:v}=document;for(const T of a)if(T===v||(T.focus(),v!==document.activeElement))return},al="currentTabIdChange",nl="rovingFocusGroup.entryFocus",Fo={bubbles:!1,cancelable:!0},Ro=ce({name:"ElRovingFocusGroupImpl",inheritAttrs:!1,props:Io,emits:[al,"entryFocus"],setup(a,{emit:v}){var T;const s=P((T=a.currentTabId||a.defaultCurrentTabId)!=null?T:null),h=P(!1),r=P(!1),l=P(null),{getItems:i}=oe(Je,void 0),V=Y(()=>[{outline:"none"},a.style]),f=u=>{v(al,u)},d=()=>{h.value=!0},p=de(u=>{var m;(m=a.onMousedown)==null||m.call(a,u)},()=>{r.value=!0}),M=de(u=>{var m;(m=a.onFocus)==null||m.call(a,u)},u=>{const m=!e(r),{target:w,currentTarget:R}=u;if(w===R&&m&&!e(h)){const L=new Event(nl,Fo);if(R==null||R.dispatchEvent(L),!L.defaultPrevented){const A=i().filter(n=>n.focusable),$=A.find(n=>n.active),y=A.find(n=>n.id===e(s)),_=[$,y,...A].filter(Boolean).map(n=>n.ref);Qe(_)}}r.value=!1}),b=de(u=>{var m;(m=a.onBlur)==null||m.call(a,u)},()=>{h.value=!1}),g=(...u)=>{v("entryFocus",...u)};xe(Xe,{currentTabbedId:Jl(s),loop:Ee(a,"loop"),tabIndex:Y(()=>e(h)?-1:0),rovingFocusGroupRef:l,rovingFocusGroupRootStyle:V,orientation:Ee(a,"orientation"),dir:Ee(a,"dir"),onItemFocus:f,onItemShiftTab:d,onBlur:b,onFocus:M,onMousedown:p}),fl(()=>a.currentTabId,u=>{s.value=u!=null?u:null}),El(l,nl,g)}});function Po(a,v,T,s,h,r){return ie(a.$slots,"default")}var xo=ve(Ro,[["render",Po],["__file","/home/runner/work/element-plus/element-plus/packages/components/roving-focus-group/src/roving-focus-group-impl.vue"]]);const Do=ce({name:"ElRovingFocusGroup",components:{ElFocusGroupCollection:Vo,ElRovingFocusGroupImpl:xo}});function Uo(a,v,T,s,h,r){const l=j("el-roving-focus-group-impl"),i=j("el-focus-group-collection");return I(),O(i,null,{default:t(()=>[o(l,Xl(Ql(a.$attrs)),{default:t(()=>[ie(a.$slots,"default")]),_:3},16)]),_:3})}var Ao=ve(Do,[["render",Uo],["__file","/home/runner/work/element-plus/element-plus/packages/components/roving-focus-group/src/roving-focus-group.vue"]]);const zo=ce({components:{ElRovingFocusCollectionItem:Co},props:{focusable:{type:Boolean,default:!0},active:{type:Boolean,default:!1}},emits:["mousedown","focus","keydown"],setup(a,{emit:v}){const{currentTabbedId:T,loop:s,onItemFocus:h,onItemShiftTab:r}=oe(Xe,void 0),{getItems:l}=oe(Je,void 0),i=rl(),V=P(null),f=de(b=>{v("mousedown",b)},b=>{a.focusable?h(e(i)):b.preventDefault()}),d=de(b=>{v("focus",b)},()=>{h(e(i))}),p=de(b=>{v("keydown",b)},b=>{const{key:g,shiftKey:u,target:m,currentTarget:w}=b;if(g===Z.tab&&u){r();return}if(m!==w)return;const R=To(b);if(R){b.preventDefault();let A=l().filter($=>$.focusable).map($=>$.ref);switch(R){case"last":{A.reverse();break}case"prev":case"next":{R==="prev"&&A.reverse();const $=A.indexOf(w);A=s.value?Mo(A,$+1):A.slice($+1);break}}Zl(()=>{Qe(A)})}}),M=Y(()=>T.value===e(i));return xe(yl,{rovingFocusGroupItemRef:V,tabIndex:Y(()=>e(M)?0:-1),handleMousedown:f,handleFocus:d,handleKeydown:p}),{id:i,handleKeydown:p,handleFocus:d,handleMousedown:f}}});function Oo(a,v,T,s,h,r){const l=j("el-roving-focus-collection-item");return I(),O(l,{id:a.id,focusable:a.focusable,active:a.active},{default:t(()=>[ie(a.$slots,"default")]),_:3},8,["id","focusable","active"])}var Lo=ve(zo,[["render",Oo],["__file","/home/runner/work/element-plus/element-plus/packages/components/roving-focus-group/src/roving-focus-item.vue"]]);const qe=Symbol("elDropdown"),{ButtonGroup:Bo}=ae,No=ce({name:"ElDropdown",components:{ElButton:ae,ElButtonGroup:Bo,ElScrollbar:Tl,ElDropdownCollection:Bl,ElTooltip:Ml,ElRovingFocusGroup:Ao,ElOnlyChild:Fl,ElIcon:Ye,ArrowDown:Rl},props:Nl,emits:["visible-change","click","command"],setup(a,{emit:v}){const T=gl(),s=Ue("dropdown"),{t:h}=Pl(),r=P(),l=P(),i=P(null),V=P(null),f=P(null),d=P(null),p=P(!1),M=[Z.enter,Z.space,Z.down],b=Y(()=>({maxHeight:xl(a.maxHeight)})),g=Y(()=>[s.m(A.value)]),u=rl().value,m=Y(()=>a.id||u);function w(){R()}function R(){var U;(U=i.value)==null||U.onClose()}function L(){var U;(U=i.value)==null||U.onOpen()}const A=Dl();function $(...U){v("command",...U)}function y(){}function F(){const U=e(V);U==null||U.focus(),d.value=null}function _(U){d.value=U}function n(U){p.value||(U.preventDefault(),U.stopImmediatePropagation())}function E(){v("visible-change",!0)}function z(U){(U==null?void 0:U.type)==="keydown"&&V.value.focus()}function k(){v("visible-change",!1)}return xe(qe,{contentRef:V,role:Y(()=>a.role),triggerId:m,isUsingKeyboard:p,onItemEnter:y,onItemLeave:F}),xe("elDropdown",{instance:T,dropdownSize:A,handleClick:w,commandHandler:$,trigger:Ee(a,"trigger"),hideOnClick:Ee(a,"hideOnClick")}),{t:h,ns:s,scrollbar:f,wrapStyle:b,dropdownTriggerKls:g,dropdownSize:A,triggerId:m,triggerKeys:M,currentTabId:d,handleCurrentTabIdChange:_,handlerMainButtonClick:U=>{v("click",U)},handleEntryFocus:n,handleClose:R,handleOpen:L,handleBeforeShowTooltip:E,handleShowTooltip:z,handleBeforeHideTooltip:k,onFocusAfterTrapped:U=>{var ee,te;U.preventDefault(),(te=(ee=V.value)==null?void 0:ee.focus)==null||te.call(ee,{preventScroll:!0})},popperRef:i,contentRef:V,triggeringElementRef:r,referenceElementRef:l}}});function qo(a,v,T,s,h,r){var l;const i=j("el-dropdown-collection"),V=j("el-roving-focus-group"),f=j("el-scrollbar"),d=j("el-only-child"),p=j("el-tooltip"),M=j("el-button"),b=j("arrow-down"),g=j("el-icon"),u=j("el-button-group");return I(),B("div",{class:Me([a.ns.b(),a.ns.is("disabled",a.disabled)])},[o(p,{ref:"popperRef",role:a.role,effect:a.effect,"fallback-placements":["bottom","top"],"popper-options":a.popperOptions,"gpu-acceleration":!1,"hide-after":a.trigger==="hover"?a.hideTimeout:0,"manual-mode":!0,placement:a.placement,"popper-class":[a.ns.e("popper"),a.popperClass],"reference-element":(l=a.referenceElementRef)==null?void 0:l.$el,trigger:a.trigger,"trigger-keys":a.triggerKeys,"trigger-target-el":a.contentRef,"show-after":a.trigger==="hover"?a.showTimeout:0,"stop-popper-mouse-event":!1,"virtual-ref":a.triggeringElementRef,"virtual-triggering":a.splitButton,disabled:a.disabled,transition:`${a.ns.namespace.value}-zoom-in-top`,teleported:a.teleported,pure:"",persistent:"",onBeforeShow:a.handleBeforeShowTooltip,onShow:a.handleShowTooltip,onBeforeHide:a.handleBeforeHideTooltip},eo({content:t(()=>[o(f,{ref:"scrollbar","wrap-style":a.wrapStyle,tag:"div","view-class":a.ns.e("list")},{default:t(()=>[o(V,{loop:a.loop,"current-tab-id":a.currentTabId,orientation:"horizontal",onCurrentTabIdChange:a.handleCurrentTabIdChange,onEntryFocus:a.handleEntryFocus},{default:t(()=>[o(i,null,{default:t(()=>[ie(a.$slots,"dropdown")]),_:3})]),_:3},8,["loop","current-tab-id","onCurrentTabIdChange","onEntryFocus"])]),_:3},8,["wrap-style","view-class"])]),_:2},[a.splitButton?void 0:{name:"default",fn:t(()=>[o(d,{id:a.triggerId,role:"button",tabindex:a.tabindex},{default:t(()=>[ie(a.$slots,"default")]),_:3},8,["id","tabindex"])])}]),1032,["role","effect","popper-options","hide-after","placement","popper-class","reference-element","trigger","trigger-keys","trigger-target-el","show-after","virtual-ref","virtual-triggering","disabled","transition","teleported","onBeforeShow","onShow","onBeforeHide"]),a.splitButton?(I(),O(u,{key:0},{default:t(()=>[o(M,Te({ref:"referenceElementRef"},a.buttonProps,{size:a.dropdownSize,type:a.type,disabled:a.disabled,tabindex:a.tabindex,onClick:a.handlerMainButtonClick}),{default:t(()=>[ie(a.$slots,"default")]),_:3},16,["size","type","disabled","tabindex","onClick"]),o(M,Te({id:a.triggerId,ref:"triggeringElementRef"},a.buttonProps,{role:"button",size:a.dropdownSize,type:a.type,class:a.ns.e("caret-button"),disabled:a.disabled,tabindex:a.tabindex,"aria-label":a.t("el.dropdown.toggleDropdown")}),{default:t(()=>[o(g,{class:Me(a.ns.e("icon"))},{default:t(()=>[o(b)]),_:1},8,["class"])]),_:1},16,["id","size","type","class","disabled","tabindex","aria-label"])]),_:3})):G("v-if",!0)],2)}var Ko=ve(No,[["render",qo],["__file","/home/runner/work/element-plus/element-plus/packages/components/dropdown/src/dropdown.vue"]]);const Go=ce({name:"DropdownItemImpl",components:{ElIcon:Ye},props:pl,emits:["pointermove","pointerleave","click","clickimpl"],setup(a,{emit:v}){const T=Ue("dropdown"),{role:s}=oe(qe,void 0),{collectionItemRef:h}=oe(ql,void 0),{collectionItemRef:r}=oe(So,void 0),{rovingFocusGroupItemRef:l,tabIndex:i,handleFocus:V,handleKeydown:f,handleMousedown:d}=oe(yl,void 0),p=dl(h,r,l),M=Y(()=>s.value==="menu"?"menuitem":s.value==="navigation"?"link":"button"),b=de(g=>{const{code:u}=g;if(u===Z.enter||u===Z.space)return g.preventDefault(),g.stopImmediatePropagation(),v("clickimpl",g),!0},f);return{ns:T,itemRef:p,dataset:{[Kl]:""},role:M,tabIndex:i,handleFocus:V,handleKeydown:b,handleMousedown:d}}}),Yo=["aria-disabled","tabindex","role"];function jo(a,v,T,s,h,r){const l=j("el-icon");return I(),B(J,null,[a.divided?(I(),B("li",Te({key:0,role:"separator",class:a.ns.bem("menu","item","divided")},a.$attrs),null,16)):G("v-if",!0),D("li",Te({ref:a.itemRef},{...a.dataset,...a.$attrs},{"aria-disabled":a.disabled,class:[a.ns.be("menu","item"),a.ns.is("disabled",a.disabled)],tabindex:a.tabIndex,role:a.role,onClick:v[0]||(v[0]=i=>a.$emit("clickimpl",i)),onFocus:v[1]||(v[1]=(...i)=>a.handleFocus&&a.handleFocus(...i)),onKeydown:v[2]||(v[2]=(...i)=>a.handleKeydown&&a.handleKeydown(...i)),onMousedown:v[3]||(v[3]=(...i)=>a.handleMousedown&&a.handleMousedown(...i)),onPointermove:v[4]||(v[4]=i=>a.$emit("pointermove",i)),onPointerleave:v[5]||(v[5]=i=>a.$emit("pointerleave",i))}),[a.icon?(I(),O(l,{key:0},{default:t(()=>[(I(),O(vl(a.icon)))]),_:1})):G("v-if",!0),ie(a.$slots,"default")],16,Yo)],64)}var Ho=ve(Go,[["render",jo],["__file","/home/runner/work/element-plus/element-plus/packages/components/dropdown/src/dropdown-item-impl.vue"]]);const hl=()=>{const a=oe("elDropdown",{}),v=Y(()=>a==null?void 0:a.dropdownSize);return{elDropdown:a,_elDropdownSize:v}},Wo=ce({name:"ElDropdownItem",components:{ElDropdownCollectionItem:Gl,ElRovingFocusItem:Lo,ElDropdownItemImpl:Ho},inheritAttrs:!1,props:pl,emits:["pointermove","pointerleave","click"],setup(a,{emit:v,attrs:T}){const{elDropdown:s}=hl(),h=gl(),r=P(null),l=Y(()=>{var b,g;return(g=(b=e(r))==null?void 0:b.textContent)!=null?g:""}),{onItemEnter:i,onItemLeave:V}=oe(qe,void 0),f=de(b=>(v("pointermove",b),b.defaultPrevented),tl(b=>{var g;a.disabled?V(b):(i(b),b.defaultPrevented||(g=b.currentTarget)==null||g.focus())})),d=de(b=>(v("pointerleave",b),b.defaultPrevented),tl(b=>{V(b)})),p=de(b=>{if(!a.disabled)return v("click",b),b.type!=="keydown"&&b.defaultPrevented},b=>{var g,u,m;if(a.disabled){b.stopImmediatePropagation();return}(g=s==null?void 0:s.hideOnClick)!=null&&g.value&&((u=s.handleClick)==null||u.call(s)),(m=s.commandHandler)==null||m.call(s,a.command,h,b)}),M=Y(()=>({...a,...T}));return{handleClick:p,handlePointerMove:f,handlePointerLeave:d,textContent:l,propsAndAttrs:M}}});function Jo(a,v,T,s,h,r){var l;const i=j("el-dropdown-item-impl"),V=j("el-roving-focus-item"),f=j("el-dropdown-collection-item");return I(),O(f,{disabled:a.disabled,"text-value":(l=a.textValue)!=null?l:a.textContent},{default:t(()=>[o(V,{focusable:!a.disabled},{default:t(()=>[o(i,Te(a.propsAndAttrs,{onPointerleave:a.handlePointerLeave,onPointermove:a.handlePointerMove,onClickimpl:a.handleClick}),{default:t(()=>[ie(a.$slots,"default")]),_:3},16,["onPointerleave","onPointermove","onClickimpl"])]),_:3},8,["focusable"])]),_:3},8,["disabled","text-value"])}var wl=ve(Wo,[["render",Jo],["__file","/home/runner/work/element-plus/element-plus/packages/components/dropdown/src/dropdown-item.vue"]]);const Xo=ce({name:"ElDropdownMenu",props:Yl,setup(a){const v=Ue("dropdown"),{_elDropdownSize:T}=hl(),s=T.value,{focusTrapRef:h,onKeydown:r}=oe(Ul,void 0),{contentRef:l,role:i,triggerId:V}=oe(qe,void 0),{collectionRef:f,getItems:d}=oe(jl,void 0),{rovingFocusGroupRef:p,rovingFocusGroupRootStyle:M,tabIndex:b,onBlur:g,onFocus:u,onMousedown:m}=oe(Xe,void 0),{collectionRef:w}=oe(Je,void 0),R=Y(()=>[v.b("menu"),v.bm("menu",s==null?void 0:s.value)]),L=dl(l,f,h,p,w),A=de(y=>{var F;(F=a.onKeydown)==null||F.call(a,y)},y=>{const{currentTarget:F,code:_,target:n}=y;if(F.contains(n),Z.tab===_&&y.stopImmediatePropagation(),y.preventDefault(),n!==e(l)||!Hl.includes(_))return;const z=d().filter(k=>!k.disabled).map(k=>k.ref);Wl.includes(_)&&z.reverse(),Qe(z)});return{size:s,rovingFocusGroupRootStyle:M,tabIndex:b,dropdownKls:R,role:i,triggerId:V,dropdownListWrapperRef:L,handleKeydown:y=>{A(y),r(y)},onBlur:g,onFocus:u,onMousedown:m}}}),Qo=["role","aria-labelledby"];function Zo(a,v,T,s,h,r){return I(),B("ul",{ref:a.dropdownListWrapperRef,class:Me(a.dropdownKls),style:lo(a.rovingFocusGroupRootStyle),tabindex:-1,role:a.role,"aria-labelledby":a.triggerId,onBlur:v[0]||(v[0]=(...l)=>a.onBlur&&a.onBlur(...l)),onFocus:v[1]||(v[1]=(...l)=>a.onFocus&&a.onFocus(...l)),onKeydown:v[2]||(v[2]=(...l)=>a.handleKeydown&&a.handleKeydown(...l)),onMousedown:v[3]||(v[3]=(...l)=>a.onMousedown&&a.onMousedown(...l))},[ie(a.$slots,"default")],46,Qo)}var kl=ve(Xo,[["render",Zo],["__file","/home/runner/work/element-plus/element-plus/packages/components/dropdown/src/dropdown-menu.vue"]]);const ia=il(Ko,{DropdownItem:wl,DropdownMenu:kl}),ua=ul(wl),pa=ul(kl),et=sl({type:{type:String,values:["primary","success","warning","info","danger","default"],default:"default"},underline:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1},href:{type:String,default:""},icon:{type:Al}}),lt={click:a=>a instanceof MouseEvent},ot=["href"],tt=ce({name:"ElLink"}),at=ce({...tt,props:et,emits:lt,setup(a,{emit:v}){const T=a,s=Ue("link"),h=Y(()=>[s.b(),s.m(T.type),s.is("disabled",T.disabled),s.is("underline",T.underline&&!T.disabled)]);function r(l){T.disabled||v("click",l)}return(l,i)=>(I(),B("a",{class:Me(e(h)),href:l.disabled||!l.href?void 0:l.href,onClick:r},[l.icon?(I(),O(e(Ye),{key:0},{default:t(()=>[(I(),O(vl(l.icon)))]),_:1})):G("v-if",!0),l.$slots.default?(I(),B("span",{key:1,class:Me(e(s).e("inner"))},[ie(l.$slots,"default")],2)):G("v-if",!0),l.$slots.icon?ie(l.$slots,"icon",{key:2}):G("v-if",!0)],10,ot))}});var nt=ve(at,[["__file","/home/runner/work/element-plus/element-plus/packages/components/link/src/link.vue"]]);const st=il(nt);const rt=ce({__name:"tagInput",props:{modelValue:{type:Array,required:!0}},emits:["update:model-value"],setup(a,{emit:v}){const T=a;function s(r){const l=r.target.value;r.target.value="",!(T.modelValue.includes(l)||!l)&&v("update:model-value",[...T.modelValue,l])}function h(r){v("update:model-value",r)}return(r,l)=>{const i=_e,V=be;return I(),O(V,{"model-value":a.modelValue,multiple:"",filterable:"","allow-create":"","reserve-keyword":!1,"default-first-option":!1,"popper-class":"customer-tag-input",onKeyup:oo(s,["enter"]),onBlur:s,"onUpdate:modelValue":h,placeholder:"\u8BF7\u8F93\u5165"},{default:t(()=>[(I(!0),B(J,null,ue(a.modelValue,f=>(I(),O(i,{key:f,label:f,value:f},null,8,["label","value"]))),128))]),_:1},8,["model-value","onKeyup"])}}});const Se=ke(rt,[["__scopeId","data-v-fd4427fe"]]);const dt=a=>(Le("data-v-2da1eed3"),a=a(),Be(),a),it={class:"flex-x-between",style:{"margin-bottom":"16px"}},ut={class:"flex",style:{"align-items":"center"}},pt=dt(()=>D("span",{style:{"margin-right":"12px"}},"\u7EBF\u8DEF",-1)),ct=["onClick"],mt={key:0},ft={key:1},gt={__name:"muchFeesTable",props:{form:{type:Object,required:!0},list:{type:Array,requierd:!0}},setup(a,{expose:v}){const T=a,s=P({pageIndex:1,pageSize:10,total:0}),h=P({}),r=P([]);function l(u){s.value=u||s.value,W.playline(V.value,{page:s.value.pageIndex,limit:s.value.pageSize}).then(m=>{r.value=m.list,s.value.total=m.total,console.log(m,"====")})}const i=P(),V=P(),f=P(),d=Y(()=>r.value.filter(u=>u.check)),p=P(!1);fl(()=>T.list,u=>{var m;(m=u[0])!=null&&m.id&&(V.value=u[0].id,l())},{immediate:!0});function M(u){r.value.forEach(m=>{m.check=u.includes(m)}),console.log(u)}const b=P(),g=q({visible:!1,form:{chargingMode:1,currency:void 0},success(){b.value.validate((u,m)=>{if(u){p.value=!0;let w=[];h.value.id?w=[{chargingMode:g.form.chargingMode,gold:g.form.currency,id:h.value.id}]:w=d.value.filter(R=>R.check===!0).map(R=>({chargingMode:g.form.chargingMode,gold:g.form.currency,id:R.id})),ao({buyMode:T.form.buyMode,id:T.form.id,playLines:w}).then(()=>{K({position:"bottom-right",type:"success",message:"\u6279\u91CF\u8BBE\u7F6E\u6536\u8D39\u6210\u529F"}),l(),i.value.clearSelection(),g.handleClose()}).finally(()=>{p.value=!1})}})},handleClose(){g.visible=!1,b.value.resetFields()}});return v({validate(u){f.value.validate((m,w)=>{})}}),(u,m)=>{const w=ae,R=_e,L=be,A=Ae,$=ze,y=Ie,F=Ve,_=me,n=Re,E=fe,z=pe,k=Oe;return he((I(),B("div",null,[D("div",it,[o(w,{disabled:e(d).length<=0,onClick:m[0]||(m[0]=x=>{h.value={},e(g).visible=!0}),style:{background:"#e2e8ec !important"}},{default:t(()=>[S(" \u6279\u91CF\u8BBE\u7F6E\u6536\u8D39\uFF08"+se(e(d).length)+"\uFF09 ",1)]),_:1},8,["disabled"]),D("div",ut,[pt,o(L,{teleported:!1,modelValue:e(V),"onUpdate:modelValue":m[1]||(m[1]=x=>He(V)?V.value=x:null),onChange:m[2]||(m[2]=x=>{e(s).pageIndex=1,l()}),placement:"bottom",placeholder:"\u6240\u6709\u7EBF\u8DEF"},{default:t(()=>[(I(!0),B(J,null,ue(a.list,x=>(I(),O(R,{label:x.name,value:x.id},null,8,["label","value"]))),256))]),_:1},8,["modelValue"])])]),o($,{data:e(r),ref_key:"tableRef",ref:i,style:{"margin-bottom":"14px",height:"45vh"},onSelectionChange:M,"tooltip-effect":"light",class:"table-feets"},{default:t(()=>[o(A,{type:"selection",width:"40"}),o(A,{prop:"name",width:"100",label:"\u540D\u79F0"},{default:t(({row:x,store:C})=>[D("span",{onClick:U=>C.toggleRowSelection(x,void 0)},se(x.name),9,ct)]),_:1}),o(A,{prop:"subTitle",label:"\u526F\u6807\u9898","show-overflow-tooltip":""}),o(A,{prop:"address",label:"\u6536\u8D39",width:"100px"},{default:t(({row:x,$index:C})=>[D("span",null,se(x.chargingMode==1?"\u514D\u8D39":x.chargingMode==2?"VIP\u514D\u8D39":"\u91D1\u5E01\u70B9\u64AD"),1)]),_:1}),o(A,{prop:"address",width:"100",label:"\u91D1\u5E01"},{default:t(({row:x,$index:C})=>[x.chargingMode==3?(I(),B("span",mt,se(x.currency),1)):(I(),B("span",ft,"-"))]),_:1}),o(A,{fixed:"right",label:"\u64CD\u4F5C",align:"right",width:"120"},{default:t(({$index:x,row:C})=>[o(w,{type:"primary",link:"",onClick:U=>{h.value=C,e(g).visible=!0}},{default:t(()=>[S(" \u7F16\u8F91 ")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"]),o(We,{pageinfo:e(s),onChange:l},null,8,["pageinfo"]),o(z,{"model-value":e(g).visible,"close-on-press-escape":!1,title:"\u6536\u8D39\u8BBE\u7F6E",width:450,"z-index":20,"show-close":!e(p),top:"40vh",class:"not_pb","close-on-click-modal":!1,onClose:e(g).handleClose},{footer:t(()=>[o(w,{class:"ml-auto",size:"small",loading:e(p),onClick:e(g).handleClose},{default:t(()=>[S(" \u53D6\u6D88 ")]),_:1},8,["loading","onClick"]),o(w,{class:"ml-auto",size:"small",type:"primary",loading:e(p),onClick:e(g).success},{default:t(()=>[S(" \u4FDD\u5B58 ")]),_:1},8,["loading","onClick"])]),default:t(()=>[he((I(),O(E,{ref_key:"dialogFormRef",ref:b,"label-width":"80px",model:e(g).form,rules:{buyMode:{required:!0,message:"\u8BF7\u9009\u62E9\u8BA1\u8D39\u65B9\u5F0F",trigger:"blur"}},"hide-required-asterisk":!1},{default:t(()=>[o(_,{label:"\u6536\u8D39",prop:"chargingMode"},{default:t(()=>[o(F,{modelValue:e(g).form.chargingMode,"onUpdate:modelValue":m[3]||(m[3]=x=>e(g).form.chargingMode=x)},{default:t(()=>[o(y,{label:1},{default:t(()=>[S(" \u514D\u8D39 ")]),_:1}),o(y,{label:2},{default:t(()=>[S(" VIP\u514D\u8D39 ")]),_:1}),o(y,{label:3},{default:t(()=>[S(" \u91D1\u5E01\u70B9\u64AD ")]),_:1})]),_:1},8,["modelValue"])]),_:1}),e(g).form.chargingMode===3?(I(),O(_,{key:0,label:"\u70B9\u64AD\u91D1\u5E01",prop:"currency",rules:{required:!0,message:"\u8BF7\u8F93\u5165\u70B9\u64AD\u91D1\u5E01"}},{default:t(()=>[o(n,{spellcheck:"false",modelValue:e(g).form.currency,"onUpdate:modelValue":m[4]||(m[4]=x=>e(g).form.currency=x),modelModifiers:{number:!0},style:{width:"200px"},clearable:"",precision:0,"step-strictly":"",min:1,"value-on-clear":1,"controls-position":"right",placeholder:"\u8BF7\u8F93\u5165\u70B9\u64AD\u91D1\u5E01"},null,8,["modelValue"])]),_:1})):G("",!0)]),_:1},8,["model"])),[[k,e(p)]])]),_:1},8,["model-value","show-close","onClose"])],512)),[[_l,a.form.buyMode===2]])}}},vt=ke(gt,[["__scopeId","data-v-2da1eed3"]]),ca=(a={page:0})=>zl({url:"/collection/page",method:"get",prefix:!0,params:a});const Il=a=>(Le("data-v-5207bba9"),a=a(),Be(),a),_t={style:{height:"500px"}},bt={style:{margin:"0 0 16px",display:"flex","align-items":"center"}},yt=Il(()=>D("i",{class:"icon iconfont icon-tishi2",style:{color:"#ff9f46",margin:"0 8px 0 0"}},null,-1)),ht=Il(()=>D("span",{style:{"margin-bottom":"2px"}},"\u64AD\u653E\u5730\u5740\u683C\u5F0F\uFF1A\u540D\u79F0$\u64AD\u653E\u5730\u5740",-1)),wt={__name:"lineTable",emits:["load"],setup(a,{expose:v,emit:T}){const s=q({loading:!1,visible:!1,other:void 0,data:[],total:0,liveSource:0}),h=P(),r=()=>{var V;((V=s.data)==null?void 0:V.length)<=0||(s.loading=!0,W.batchPlaylineAll(s.other.id,{data:s.data,liveSource:s.liveSource}).then(f=>{K({position:"bottom-right",type:"success",message:"\u64AD\u653E\u5730\u5740\u6DFB\u52A0\u6210\u529F"}),T("load"),l()}).finally(()=>{s.loading=!1}))},l=()=>{var V;s.visible=!1,s.data=[],s.liveSource=0,(V=h.value)==null||V.resetFields()},i=()=>{};return v({open(V,f){s.visible=!0,s.other=V,s.total=f,console.log(V,"===",f)}}),(V,f)=>{const d=Ol,p=Fe,M=ae,b=pe;return I(),O(b,{"model-value":e(s).visible,"show-close":!e(s).loading,"close-on-press-escape":!1,title:"\u6DFB\u52A0\u64AD\u653E\u5730\u5740",width:950,"z-index":20,top:"15vh","destroy-on-close":"","close-on-click-modal":!1,onClose:l,onOpened:i},{footer:t(()=>{var g;return[o(M,{class:"ml-auto",size:"small",loading:e(s).loading,onClick:l},{default:t(()=>[S(" \u53D6\u6D88 ")]),_:1},8,["loading"]),o(M,{class:"ml-auto",size:"small",type:"primary",loading:e(s).loading,disabled:((g=e(s).data)==null?void 0:g.length)<=0,onClick:f[3]||(f[3]=u=>r())},{default:t(()=>[S(" \u4FDD\u5B58 ")]),_:1},8,["loading","disabled"])]}),default:t(()=>{var g;return[D("div",_t,[D("div",bt,[yt,ht,o(d,{style:{"margin-left":"16px",height:"20px"},modelValue:e(s).liveSource,"onUpdate:modelValue":f[0]||(f[0]=u=>e(s).liveSource=u),"false-label":0,"true-label":1,label:"\u76F4\u64AD\u6E90"},null,8,["modelValue"])]),o(p,{spellcheck:"false","model-value":(g=e(s).data)==null?void 0:g.join(`
`),"onUpdate:modelValue":f[1]||(f[1]=u=>e(s).data=u.split(`
`)),clearable:"",rows:21,type:"textarea",placeholder:"\u8BF7\u8F93\u5165\u540D\u79F0$\u64AD\u653E\u5730\u5740\uFF0C\u4E00\u884C\u4E00\u4E2A",onBlur:f[2]||(f[2]=u=>e(s).data=e(s).data.filter(m=>m))},null,8,["model-value"])])]}),_:1},8,["model-value","show-close"])}}},Vl=ke(wt,[["__scopeId","data-v-5207bba9"]]);const Ze=a=>(Le("data-v-2e772acd"),a=a(),Be(),a),kt={class:"video-info"},It={class:"flex-x-between tab-view"},Vt={style:{display:"flex","align-items":"center",width:"100%",gap:"12px"}},Ct={key:0},St={class:"flex-x-between tab-view"},$t={class:"flex-y-center"},Et=Ze(()=>D("span",{style:{margin:"0 10px"}},"=",-1)),Tt={key:0},Mt={key:0},Ft={class:"line-name"},Rt={class:"orders"},Pt=Ze(()=>D("div",null,"\u7EBF\u8DEF\u540D\u79F0",-1)),xt={class:"orders"},Dt=Ze(()=>D("div",null,"\u8D44\u6E90\u6807\u8BC6",-1)),Ut={style:{display:"flex","align-items":"center"}},At={style:{"margin-top":"10px","margin-bottom":"20px"},class:"shadow1"},zt={__name:"editor",emits:["load"],setup(a,{expose:v,emit:T}){const s=P(),h=P(),r=P({pageIndex:1,pageSize:10,total:0}),l=q({actors:[],cycleImg:"",horizontalPoster:"",doubanScoreId:"",buyMode:1,imdbScoreID:"",screenshot:"",albumIds:[],categoryChildId:0,year:"",categoryPid:0,chargingMode:1,cycle:2,directors:[],doubanScore:0,id:0,imdbScore:0,introduce:"",labels:[],language:[],note:"",popularityDay:0,popularityMonth:0,popularitySum:0,popularityWeek:0,recommend:2,region:[],verticalPoster:"",theme:[],title:"",opened:!1,nowpage:0,releaseAt:0}),i=q({loading:!1,visible:!1,other:void 0}),V=P(),f=P(),d=q({data:[],form:{sort:0,liveSource:0},visible:!1,get(_){let n=p.value[w.value-4];w.value<4||!n.id||(r.value=_||r.value,W.playline(n.id,{page:r.value.pageIndex,limit:r.value.pageSize}).then(E=>{d.data=E.list.map(z=>{var k;return z.keys=((k=m.value.find(x=>x.tag==z.tag))==null?void 0:k.name)||"-",z}),r.value.total=E.total,console.log(E,"====")}))},close(){d.visible=!1,d.form={}},add(){f.value.validate((_,n)=>{var E,z;_&&((E=d.form).tag||(E.tag=""),W.playlineSave(p.value[w.value-4].id,{data:[d.form],videoId:(z=i.other)==null?void 0:z.id}).then(k=>{K({position:"bottom-right",type:"success",message:"\u7F16\u8F91\u64AD\u653E\u5730\u5740\u6210\u529F"}),d.get(),d.close()}))})}}),p=q({value:[],add(){var n,E;i.loading=!0;let _="";for(let z=1;_="\u65B0\u589E\u7EBF\u8DEF"+z,!!p.value.find(k=>k.name===_);z++);p.value.push({videoID:((n=i.other)==null?void 0:n.id)||0,sort:p.value.length==0?0:p.value.at(-1).sort+1,name:_,playerId:((E=m.value[m.value.length-1])==null?void 0:E.id)||0,playline:[],id:0,uuid:Pe()}),i.loading=!0,W.muchSave([p.value.at(-1)],i.other.id).then(z=>{let k=p.value.at(-1).sort;K({position:"bottom-right",type:"success",message:"\u65B0\u589E\u7EBF\u8DEF\u6210\u529F"}),p.get(),p.value=p.value.sort((x,C)=>x.sort-C.sort>0?0:-1),p.value.forEach((x,C)=>{x.sort==k&&(w.value=C+4)})}).finally(()=>{i.loading=!1})},del(_,n){n.id?ge({message:"\u786E\u5B9A\u8981\u5220\u9664\u5417\uFF1F",okEms:"\u5220\u9664\u7EBF\u8DEF\u6210\u529F"},()=>W.del(n.id).then(E=>(p.value.splice(_,1),w.value=1,E))):(p.value.splice(_,1),w.value=1,K({position:"bottom-right",type:"success",message:"\u5220\u9664\u7EBF\u8DEF\u6210\u529F"}))},addAddress(_){_.id?d.form=_:d.form.sort=r.value.total+1,d.visible=!0},delChild(_,n){ge({message:"\u786E\u5B9A\u8981\u5220\u9664\u5417\uFF1F",okEms:"\u5220\u9664\u6210\u529F"},()=>W.playlineDel({ids:[_.id]}).then(E=>(d.get(),E)))},save(_){if(!_.name){K({position:"bottom-right",type:"error",message:"\u7EBF\u8DEF\u540D\u79F0\u4E0D\u80FD\u4E3A\u7A7A"});return}if(new Set(p.value.map(n=>n.name)).size<p.value.length){K({position:"bottom-right",type:"error",message:"\u7EBF\u8DEF\u540D\u79F0\u4E0D\u80FD\u91CD\u590D"});return}u()},get(){var _,n;(_=i.other)!=null&&_.id&&W.get((n=i.other)==null?void 0:n.id).then(E=>{E.forEach((z,k)=>{z.uuid=Pe()}),p.value=E,d.get()}).finally(()=>{})}}),M=P(),b=_=>{let n=parseInt(_),E=0,z=0;n>60&&(E=n/60,n=n%60,E>60&&(z=E/60,E=E%60));let k=parseInt(n)>9?parseInt(n):"0"+parseInt(n),x=parseInt(E)>9?parseInt(E):"0"+parseInt(E);return(parseInt(z)>9?parseInt(z):"0"+parseInt(z))+":"+x+":"+k},g=_=>{p.del(_-4,p.value[_-4])},u=(_=!0)=>{var n;!((n=i.other)!=null&&n.id)||l.buyMode===2||W.muchSave(p.value,i.other.id).then(E=>{p.get(),_&&K({position:"bottom-right",type:"success",message:"\u4FDD\u5B58\u6210\u529F"})}).finally(()=>{})},m={value:[],get(){De.get().then(_=>{this.value=_==null?void 0:_.sort((n,E)=>n.sort-E.sort),console.log(_,"====")})}};m.get();const w=P(1),R=je((_,n)=>{!_||_.validate((E,z)=>{if(E){l.popularityDay||(l.popularityDay=0),l.popularityMonth||(l.popularityMonth=0),l.popularitySum||(l.popularitySum=0),l.popularityWeek||(l.popularityWeek=0);let k=l.releaseAt?new Date(l.releaseAt*1e3).toISOString():void 0,x=l.shelfAt?new Date(l.shelfAt*1e3).toISOString():void 0;(l.id?no({...l,releaseAt:k,shelfAt:x},l.id):so({...l,releaseAt:k,shelfAt:x})).then(()=>{var C,U,ee;K({position:"bottom-right",type:"success",message:(C=i.other)!=null&&C.id?"\u89C6\u9891\u66F4\u65B0\u6210\u529F":"\u89C6\u9891\u65B0\u589E\u6210\u529F"}),(U=i.other)!=null&&U.id&&(n&&n(),console.log((ee=i.other)==null?void 0:ee.id)),L()}).finally(()=>{i.loading=!1})}else{i.loading=!1;let k=z[Object.keys(z)[0]];K({position:"bottom-right",type:"error",message:k[0].message})}})},600),L=()=>{var _;(_=s.value)==null||_.resetFields(),i.other=void 0,i.visible=!1,l.categoryPid=0,l.categoryChildId=0,l.albumIds=[],l.actors=[],l.cycleImg="",l.horizontalPoster="",l.doubanScoreId="",l.buyMode=1,l.imdbScoreID="",l.screenshot="",l.albumIds=[],l.categoryChildId=0,l.year="",l.categoryPid=0,l.chargingMode=1,l.cycle=2,l.directors=[],l.doubanScore=0,l.id=0,l.imdbScore=0,l.introduce="",l.labels=[],l.language=[],l.note="",l.popularityDay=0,l.popularityMonth=0,l.popularitySum=0,l.popularityWeek=0,l.recommend=2,l.region=[],l.verticalPoster="",l.theme=[],l.title="",l.releaseAt=0,l.shelfAt=0,p.value=[],T("load")},A={buyMode:{required:!0,validator:(_,n,E)=>{n!==1&&n!==2&&E(new Error("\u8BF7\u9009\u62E9\u8BA1\u8D39\u6A21\u5F0F")),E()},trigger:"blur"},title:{required:!0,message:"\u8BF7\u8F93\u5165\u6807\u9898",trigger:"blur"},verticalPoster:{required:!1,message:"\u8BF7\u8F93\u5165\u5C01\u9762",trigger:"blur"},introduce:{required:!1,message:"\u8BF7\u8F93\u5165\u7B80\u4ECB",trigger:"blur"},note:{required:!1,message:"\u8BF7\u8F93\u5165\u5907\u6CE8",trigger:"blur"},categoryPid:{required:!0,validator:(_,n,E)=>{l.categoryPid&&E(),E(new Error("\u8BF7\u9009\u62E9\u5206\u7C7B"))},trigger:"blur"}};async function $(){var n,E,z;w.value=1,(n=i.other)!=null&&n.id?(i.loading=!0,await ro((E=i.other)==null?void 0:E.id).then(k=>{var x;l.cycleImg=k.cycleImg,l.albumIds=((x=k.albumList)==null?void 0:x.map(C=>C.id))||[],l.categoryChildId=k.categoryChildId,l.year=k.year,l.categoryPid=k.categoryPid,l.doubanScore=k.doubanScore,l.imdbScore=k.imdbScore,l.doubanScore&&l.doubanScore>100&&(l.doubanScore=l.doubanScore/10),l.imdbScore&&l.imdbScore>100&&(l.imdbScore=l.imdbScore/10),l.id=k.id,l.introduce=k.introduce,l.note=k.note,l.popularityDay=k.popularityDay,l.popularityMonth=k.popularityMonth,l.popularitySum=k.popularitySum,l.popularityWeek=k.popularityWeek,l.verticalPoster=k.verticalPoster,l.title=k.title,l.cycle=k.cycle||2,l.screenshot=k.screenshot,l.horizontalPoster=k.horizontalPoster,l.chargingMode=k.chargingMode||1,l.recommend=k.recommend||1,l.actors=k.actors?k.actors.split("/")||[]:[],l.directors=k.directors?k.directors.split("/")||[]:[],l.releaseAt=k.releaseAt,l.shelfAt=k.shelfAt,l.duration=k.duration,l.labels=k.labelsList?k.labelsList.map(C=>C.name)||[]:[],l.language=k.languageList?k.languageList.map(C=>C.name)||[]:[],l.region=k.regionList?k.regionList.map(C=>C.name)||[]:[],l.theme=k.themeList?k.themeList.map(C=>C.name)||[]:[],l.doubanScoreId=k.doubanScoreID,l.imdbScoreID=k.imdbScoreID,l.buyMode=k.buyMode||l.buyMode,l.gold=k.gold||l.gold,l.surfacePlot=k.surfacePlot,b()}).finally(()=>{i.loading=!1}),(z=i.other)!=null&&z.id&&p.get()):l.id=0;let _=[];m.value.forEach(k=>{_.unshift(k.name)})}const y=q({value:[],get(){Ne().then(_=>{y.value=_})}});v({open(_,n){var E;i.visible=!0,i.other=_,y.value=n,w.value=1,(E=s.value)==null||E.resetFields()}});const F=Y(()=>{var _;return(_=i.other)!=null&&_.id?"\u7F16\u8F91\u89C6\u9891":"\u65B0\u589E\u89C6\u9891"});return(_,n)=>{const E=cl,z=ml,k=j("MyImage"),x=io,C=me,U=Fe,ee=_e,te=be,re=Ie,ye=Ve,N=ae,X=bl,Q=Re,H=st,ne=Ae,Ke=ze,el=fe,ll=pe,Sl=Oe;return I(),B("div",null,[o(ll,{"model-value":e(i).visible,"show-close":!e(i).loading,"close-on-press-escape":!1,title:e(F),width:940,"z-index":20,top:"15vh","close-on-click-modal":!1,onClose:L,onOpened:$},{footer:t(()=>[e(w)==1||e(w)==2||e(w)==3?(I(),B(J,{key:0},[o(N,{class:"ml-auto",size:"small",loading:e(i).loading,onClick:n[32]||(n[32]=c=>e(i).visible=!1)},{default:t(()=>[S(" \u53D6\u6D88 ")]),_:1},8,["loading"]),o(N,{size:"small",loading:e(i).loading,type:"primary",class:"border-0 bg-orange group-hover:bg-orangeLight",onClick:n[33]||(n[33]=c=>{e(l).buyMode===2&&e(w)==3?e(V).validate(e(R)(e(s),()=>u(!1))):e(R)(e(s)),e(i).loading=!0})},{default:t(()=>[S(" \u4FDD\u5B58 ")]),_:1},8,["loading"])],64)):(I(),B(J,{key:1},[o(N,{class:"ml-auto",size:"small",loading:e(i).loading,onClick:n[34]||(n[34]=c=>e(i).visible=!1)},{default:t(()=>[S(" \u53D6\u6D88 ")]),_:1},8,["loading"]),o(N,{class:"ml-auto",size:"small",type:"primary",loading:e(i).loading,onClick:n[35]||(n[35]=c=>e(p).save(e(p).value[e(w)-4]))},{default:t(()=>[S(" \u4FDD\u5B58 ")]),_:1},8,["loading"])],64))]),default:t(()=>[he((I(),B("div",kt,[o(el,{ref_key:"ruleFormRef",ref:s,"label-width":"80px",model:e(l),rules:A,"hide-required-asterisk":!1},{default:t(()=>[o(z,{modelValue:e(w),"onUpdate:modelValue":n[0]||(n[0]=c=>He(w)?w.value=c:null),class:"demo-tabs",addable:!0,type:"card",onTabAdd:e(p).add,onTabRemove:g,onTabChange:n[1]||(n[1]=c=>{e(r).pageIndex=1,e(d).get()})},{default:t(()=>[D("div",null,[o(E,{label:"\u57FA\u672C\u4FE1\u606F",class:"flex-x-between tab-view",name:1}),o(E,{label:"\u9644\u52A0\u4FE1\u606F",class:"flex-x-between tab-view",name:2}),o(E,{label:"\u6536\u8D39\u8BBE\u7F6E",class:"flex-x-between tab-view",name:3})])]),_:1},8,["modelValue","onTabAdd"]),o($e,{name:"pages"},{default:t(()=>[he(D("div",null,[D("div",It,[D("div",null,[o(C,{label:" ",class:"forms"},{default:t(()=>[o(x,{class:"avatar-uploader mr-27",action:"/api/v1/upload",title:"\u70B9\u51FB\u4E0A\u4F20\u5C01\u9762\u56FE","show-file-list":!1,data:{exts:"jpg,jpeg,png,gif"},"auto-upload":!0,accept:"image/jpg,image/jpeg,image/png,image/gif","on-success":c=>e(l).surfacePlot=c.path,"on-error":c=>e(K)({position:"bottom-right",type:"error",message:JSON.parse(c.message).message})},{default:t(()=>{var c;return[o(k,{trigger:"hover",placement:"bottom",src:((c=e(l))==null?void 0:c.surfacePlot)||"-",style:{width:"66px",height:"50px"}},null,8,["src"])]}),_:1},8,["on-success","on-error"])]),_:1}),o(C,{label:"\u5C01\u9762\u56FE",prop:"surfacePlot"},{default:t(()=>[o(U,{spellcheck:"false",modelValue:e(l).surfacePlot,"onUpdate:modelValue":n[2]||(n[2]=c=>e(l).surfacePlot=c),modelModifiers:{trim:!0},clearable:"",placeholder:"\u8BF7\u8F93\u5165\u5C01\u9762\u56FE"},null,8,["modelValue"])]),_:1}),o(C,{label:"\u540D\u79F0",prop:"title"},{default:t(()=>[o(U,{spellcheck:"false",modelValue:e(l).title,"onUpdate:modelValue":n[3]||(n[3]=c=>e(l).title=c),modelModifiers:{trim:!0},clearable:"",placeholder:"\u8BF7\u8F93\u5165\u540D\u79F0"},null,8,["modelValue"])]),_:1}),o(C,{label:"\u4E13\u9898",prop:"albumId"},{default:t(()=>[o(te,{modelValue:e(l).albumIds,"onUpdate:modelValue":n[4]||(n[4]=c=>e(l).albumIds=c),clearable:"",class:"w-full",multiple:"",placeholder:"\u8BF7\u9009\u62E9\u4E13\u9898"},{default:t(()=>[(I(!0),B(J,null,ue(e(y).value,c=>(I(),O(ee,{key:c.id,label:c.title,value:c.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),o(C,{label:"\u5206\u7C7B",prop:"categoryPid"},{default:t(()=>[o(we,{class:"w-full","model-value":e(l).categoryChildId?[e(l).categoryPid,e(l).categoryChildId]:[e(l).categoryPid],type:"videoType",checkStrictly:!0,onChange:n[5]||(n[5]=c=>{e(l).categoryPid=c?c[0]:void 0,e(l).categoryChildId=c&&c[1]||0})},null,8,["model-value"])]),_:1}),o(C,{label:"\u5907\u6CE8",prop:"note"},{default:t(()=>[o(U,{spellcheck:"false",modelValue:e(l).note,"onUpdate:modelValue":n[6]||(n[6]=c=>e(l).note=c),modelModifiers:{trim:!0},clearable:"",placeholder:"\u8BF7\u8F93\u5165\u5907\u6CE8"},null,8,["modelValue"])]),_:1}),o(C,{label:"\u7B80\u4ECB",prop:"introduce"},{default:t(()=>[o(U,{spellcheck:"false",modelValue:e(l).introduce,"onUpdate:modelValue":n[7]||(n[7]=c=>e(l).introduce=c),rows:10,type:"textarea",placeholder:"\u8BF7\u8F93\u5165\u7B80\u4ECB",resize:"none"},null,8,["modelValue"])]),_:1})]),D("div",null,[o(C,{label:"\u9898\u6750",prop:"labels"},{default:t(()=>[o(Se,{style:{width:"100%"},placeholder:"\u8BF7\u8F93\u5165\u9898\u6750",modelValue:e(l).labels,"onUpdate:modelValue":n[8]||(n[8]=c=>e(l).labels=c)},null,8,["modelValue"])]),_:1}),o(C,{label:"\u5BFC\u6F14",prop:"directors"},{default:t(()=>[o(Se,{style:{width:"100%"},placeholder:"\u8BF7\u8F93\u5165\u5BFC\u6F14",modelValue:e(l).directors,"onUpdate:modelValue":n[9]||(n[9]=c=>e(l).directors=c)},null,8,["modelValue"])]),_:1}),o(C,{label:"\u4E3B\u6F14",prop:"actors"},{default:t(()=>[o(Se,{style:{width:"100%"},placeholder:"\u8BF7\u8F93\u5165\u4E3B\u6F14",modelValue:e(l).actors,"onUpdate:modelValue":n[10]||(n[10]=c=>e(l).actors=c)},null,8,["modelValue"])]),_:1}),o(C,{label:"\u5730\u533A",prop:"region"},{default:t(()=>[o(Se,{style:{width:"100%"},placeholder:"\u8BF7\u8F93\u5165\u5730\u533A",modelValue:e(l).region,"onUpdate:modelValue":n[11]||(n[11]=c=>e(l).region=c)},null,8,["modelValue"])]),_:1}),o(C,{label:"\u8BED\u8A00",prop:"language"},{default:t(()=>[o(Se,{style:{width:"100%"},placeholder:"\u8BF7\u8F93\u5165\u8BED\u8A00",modelValue:e(l).language,"onUpdate:modelValue":n[12]||(n[12]=c=>e(l).language=c)},null,8,["modelValue"])]),_:1}),o(C,{label:"\u5E74\u4EFD",prop:"year"},{default:t(()=>[o(U,{spellcheck:"false",modelValue:e(l).year,"onUpdate:modelValue":n[13]||(n[13]=c=>e(l).year=c),clearable:"",placeholder:"\u8BF7\u8F93\u5165\u5E74\u4EFD"},null,8,["modelValue"])]),_:1}),o(C,{label:"\u63A8\u8350",prop:"recommend"},{default:t(()=>[o(ye,{modelValue:e(l).recommend,"onUpdate:modelValue":n[14]||(n[14]=c=>e(l).recommend=c)},{default:t(()=>[o(re,{label:1},{default:t(()=>[S(" \u662F ")]),_:1}),o(re,{label:2},{default:t(()=>[S(" \u5426 ")]),_:1})]),_:1},8,["modelValue"])]),_:1}),o(C,{label:"\u8F6E\u64AD",prop:"cycle"},{default:t(()=>[o(ye,{modelValue:e(l).cycle,"onUpdate:modelValue":n[15]||(n[15]=c=>e(l).cycle=c),onChange:n[16]||(n[16]=c=>e(l).cycleImg="")},{default:t(()=>[o(re,{label:1},{default:t(()=>[S(" \u662F ")]),_:1}),o(re,{label:2},{default:t(()=>[S(" \u5426 ")]),_:1})]),_:1},8,["modelValue"])]),_:1}),o(C,{label:"\u8F6E\u64AD\u5C01\u9762",prop:"cycleImg"},{default:t(()=>[D("div",Vt,[o(U,{spellcheck:"false",style:{flex:"1"},modelValue:e(l).cycleImg,"onUpdate:modelValue":n[17]||(n[17]=c=>e(l).cycleImg=c),modelModifiers:{trim:!0},disabled:e(l).cycle===2,clearable:"",placeholder:"\u56FE\u7247\u63A8\u8350\u5C3A\u5BF81920*510"},null,8,["modelValue","disabled"]),o(x,{class:"avatar-uploader mr-27",action:"/api/v1/upload",title:"\u70B9\u51FB\u4E0A\u4F20\u5C01\u9762\u56FE",disabled:e(l).cycle===2,"show-file-list":!1,data:{exts:"jpg,jpeg,png,gif"},"auto-upload":!0,accept:"image/jpg,image/jpeg,image/png,image/gif","on-success":c=>e(l).cycleImg=c.path,"on-error":c=>e(K)({position:"bottom-right",type:"error",message:JSON.parse(c.message).message})},{default:t(()=>[o(N,{type:"primary",link:"",disabled:e(l).cycle===2},{default:t(()=>[S("\u4E0A\u4F20")]),_:1},8,["disabled"])]),_:1},8,["disabled","on-success","on-error"])])]),_:1})])])],512),[[_l,e(w)==1]])]),_:1}),o($e,{name:"pages"},{default:t(()=>[e(w)==2?(I(),B("div",Ct,[D("div",St,[D("div",null,[o(C,{label:"\u4E0A\u6620\u65F6\u95F4",prop:"releaseAt"},{default:t(()=>[o(X,{modelValue:e(l).releaseAt,"onUpdate:modelValue":n[18]||(n[18]=c=>e(l).releaseAt=c),type:"datetime",style:{width:"100%"},"value-format":"X",placeholder:"\u8BF7\u9009\u62E9\u4E0A\u6620\u65F6\u95F4"},null,8,["modelValue"])]),_:1}),o(C,{label:"\u8C46\u74E3ID",prop:"doubanScoreId"},{default:t(()=>[o(U,{spellcheck:"false",modelValue:e(l).doubanScoreId,"onUpdate:modelValue":n[19]||(n[19]=c=>e(l).doubanScoreId=c),modelModifiers:{trim:!0},clearable:"",placeholder:"\u8BF7\u8F93\u5165\u8C46\u74E3ID"},null,8,["modelValue"])]),_:1}),o(C,{label:"\u8C46\u74E3\u8BC4\u5206",prop:"doubanScore"},{default:t(()=>[o(Q,{spellcheck:"false","model-value":e(l).doubanScore?e(l).doubanScore/10:void 0,clearable:"",oninput:"this.value=Number(this.value.toFixed(1))",min:0,max:10,"controls-position":"right",placeholder:"\u8BF7\u8F93\u5165\u8C46\u74E3\u8BC4\u5206","onUpdate:modelValue":n[20]||(n[20]=c=>e(l).doubanScore=c?Number(c.toFixed(1))*10:0)},null,8,["model-value"])]),_:1}),o(C,{label:"IMDB ID",prop:"imdbScoreID"},{default:t(()=>[o(U,{spellcheck:"false",modelValue:e(l).imdbScoreID,"onUpdate:modelValue":n[21]||(n[21]=c=>e(l).imdbScoreID=c),modelModifiers:{trim:!0},clearable:"",placeholder:"\u8BF7\u8F93\u5165IMDB ID"},null,8,["modelValue"])]),_:1}),o(C,{label:"IMDB\u8BC4\u5206",prop:"imdbScore"},{default:t(()=>[o(Q,{spellcheck:"false","model-value":e(l).imdbScore?e(l).imdbScore/10:void 0,clearable:"",min:0,max:10,oninput:"this.value=Number(this.value.toFixed(1))","controls-position":"right",placeholder:"\u8BF7\u8F93\u5165IMDB\u8BC4\u5206","onUpdate:modelValue":n[22]||(n[22]=c=>e(l).imdbScore=c?Number(c.toFixed(1))*10:0)},null,8,["model-value"])]),_:1}),o(C,{label:"\u65F6\u957F",prop:"duration"},{default:t(()=>[D("div",$t,[o(Q,{spellcheck:"false",modelValue:e(l).duration,"onUpdate:modelValue":n[23]||(n[23]=c=>e(l).duration=c),min:0,step:1,"step-strictly":"",controls:!1,placeholder:"\u8BF7\u8F93\u5165\u65F6\u957F"},null,8,["modelValue"]),o(H,{style:{"margin-left":"10px"}},{default:t(()=>[S("\u79D2")]),_:1}),D("div",null,[Et,S(" "+se(b(e(l).duration)),1)])])]),_:1})]),D("div",null,[o(C,{label:"\u66F4\u65B0\u65F6\u95F4",prop:"shelfAt"},{default:t(()=>[o(X,{modelValue:e(l).shelfAt,"onUpdate:modelValue":n[24]||(n[24]=c=>e(l).shelfAt=c),type:"datetime",style:{width:"100%"},"value-format":"X",placeholder:"\u8BF7\u9009\u62E9\u66F4\u65B0\u65F6\u95F4"},null,8,["modelValue"])]),_:1}),o(C,{label:"\u65E5\u4EBA\u6C14",prop:"popularityDay"},{default:t(()=>[o(Q,{spellcheck:"false",modelValue:e(l).popularityDay,"onUpdate:modelValue":n[25]||(n[25]=c=>e(l).popularityDay=c),modelModifiers:{number:!0},clearable:"",precision:0,"step-strictly":"",min:0,"controls-position":"right",placeholder:"\u8BF7\u8F93\u5165\u65E5\u4EBA\u6C14"},null,8,["modelValue"])]),_:1}),o(C,{label:"\u5468\u4EBA\u6C14",prop:"popularityWeek"},{default:t(()=>[o(Q,{spellcheck:"false",modelValue:e(l).popularityWeek,"onUpdate:modelValue":n[26]||(n[26]=c=>e(l).popularityWeek=c),modelModifiers:{number:!0},clearable:"",precision:0,"step-strictly":"",min:0,"controls-position":"right",placeholder:"\u8BF7\u8F93\u5165\u5468\u4EBA\u6C14"},null,8,["modelValue"])]),_:1}),o(C,{label:"\u6708\u4EBA\u6C14",prop:"popularityMonth"},{default:t(()=>[o(Q,{spellcheck:"false",modelValue:e(l).popularityMonth,"onUpdate:modelValue":n[27]||(n[27]=c=>e(l).popularityMonth=c),modelModifiers:{number:!0},clearable:"",precision:0,"step-strictly":"",min:0,"controls-position":"right",placeholder:"\u8BF7\u8F93\u5165\u6708\u4EBA\u6C14"},null,8,["modelValue"])]),_:1}),o(C,{label:"\u603B\u4EBA\u6C14",prop:"popularitySum"},{default:t(()=>[o(Q,{spellcheck:"false",modelValue:e(l).popularitySum,"onUpdate:modelValue":n[28]||(n[28]=c=>e(l).popularitySum=c),modelModifiers:{number:!0},clearable:"",precision:0,"step-strictly":"",min:0,"controls-position":"right",placeholder:"\u8BF7\u8F93\u5165\u603B\u4EBA\u6C14"},null,8,["modelValue"])]),_:1})])])])):G("",!0)]),_:1}),o($e,{name:"pages"},{default:t(()=>[e(w)==3?(I(),B("div",Tt,[o(C,{label:"\u8BA1\u8D39\u65B9\u5F0F",prop:"buyMode"},{default:t(()=>[o(ye,{modelValue:e(l).buyMode,"onUpdate:modelValue":n[29]||(n[29]=c=>e(l).buyMode=c)},{default:t(()=>[o(re,{label:1},{default:t(()=>[S(" \u6309\u90E8 ")]),_:1}),o(re,{label:2},{default:t(()=>[S(" \u6309\u96C6 ")]),_:1})]),_:1},8,["modelValue"])]),_:1}),e(l).buyMode===1?(I(),O(C,{key:0,label:"\u6536\u8D39",prop:"chargingMode"},{default:t(()=>[o(ye,{modelValue:e(l).chargingMode,"onUpdate:modelValue":n[30]||(n[30]=c=>e(l).chargingMode=c)},{default:t(()=>[o(re,{label:1},{default:t(()=>[S(" \u514D\u8D39 ")]),_:1}),o(re,{label:2},{default:t(()=>[S(" VIP\u514D\u8D39 ")]),_:1}),o(re,{label:3},{default:t(()=>[S(" \u91D1\u5E01\u70B9\u64AD ")]),_:1})]),_:1},8,["modelValue"])]),_:1})):G("",!0),e(l).chargingMode===3&&e(l).buyMode===1?(I(),O(C,{key:1,label:"\u70B9\u64AD\u91D1\u5E01",prop:"gold",rules:{required:!0,message:"\u8BF7\u8F93\u5165\u70B9\u64AD\u91D1\u5E01"}},{default:t(()=>[o(Q,{spellcheck:"false",modelValue:e(l).gold,"onUpdate:modelValue":n[31]||(n[31]=c=>e(l).gold=c),modelModifiers:{number:!0},style:{width:"320px"},clearable:"",precision:0,"step-strictly":"",min:1,"value-on-clear":1,"controls-position":"right",placeholder:"\u8BF7\u8F93\u5165\u70B9\u64AD\u91D1\u5E01"},null,8,["modelValue"])]),_:1})):G("",!0),o(vt,{ref_key:"muchFeesTableRef",ref:V,form:e(l),list:e(p).value},null,8,["form","list"])])):G("",!0)]),_:1}),(I(!0),B(J,null,ue(e(p).value,(c,ol)=>(I(),O($e,{key:ol,name:"pages"},{default:t(()=>[e(w)==ol+4?(I(),B("div",Mt,[D("div",Ft,[D("div",Rt,[Pt,o(U,{spellcheck:"false",style:{width:"220px","margin-left":"10px"},modelValue:c.name,"onUpdate:modelValue":le=>c.name=le},null,8,["modelValue","onUpdate:modelValue"])]),D("div",xt,[Dt,o(te,{modelValue:c.Tag,"onUpdate:modelValue":le=>c.Tag=le,style:{width:"220px","margin-left":"10px"},"allow-create":"",filterable:"","default-first-option":"",placeholder:"\u8BF7\u9009\u62E9\u8D44\u6E90\u6807\u8BC6"},{default:t(()=>[(I(!0),B(J,null,ue(m.value,le=>(I(),O(ee,{key:le.id,label:le.tag,value:le.tag},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue"])])]),D("div",Ut,[o(N,{style:{margin:"16px 0 6px"},type:"primary",onClick:le=>{var Ce;return(Ce=e(h))==null?void 0:Ce.open(c,e(r).total)}},{default:t(()=>[S("\u6DFB\u52A0\u64AD\u653E\u5730\u5740")]),_:2},1032,["onClick"])]),D("div",At,[o(Ke,{ref_for:!0,ref_key:"multipleTableRef",ref:M,data:e(d).data,stripe:!0,height:"30vh","tooltip-effect":"light"},{default:t(()=>[o(ne,{prop:"sort",label:"\u5E8F\u53F7",width:"100"},{default:t(({row:le})=>[D("span",null,se(le.sort),1)]),_:1}),o(ne,{prop:"name",label:"\u540D\u79F0",width:"100px"}),o(ne,{prop:"subTitle",label:"\u526F\u6807\u9898",width:"100px","show-overflow-tooltip":""}),o(ne,{prop:"tag",label:"\u64AD\u653E\u5668",width:"120px"}),o(ne,{prop:"file",label:"\u5730\u5740","show-overflow-tooltip":"","min-width":"250px"},{default:t(({row:le})=>[D("span",null,se(le.file||"-"),1)]),_:1}),o(ne,{fixed:"right",label:"\u64CD\u4F5C",align:"right",width:"120"},{default:t(({$index:le,row:Ce})=>[o(N,{type:"primary",onClick:$l=>e(p).addAddress(Ce),link:""},{default:t(()=>[S(" \u7F16\u8F91 ")]),_:2},1032,["onClick"]),o(N,{type:"danger",link:"",onClick:$l=>e(p).delChild(Ce,le)},{default:t(()=>[S(" \u5220\u9664 ")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])]),o(We,{pageinfo:e(r),onChange:e(d).get},null,8,["pageinfo","onChange"])])):G("",!0)]),_:2},1024))),128))]),_:1},8,["model"])])),[[Sl,e(i).loading]])]),_:1},8,["model-value","show-close","title"]),o(Vl,{ref_key:"lineTableRef",ref:h,onLoad:e(d).get},null,8,["onLoad"]),o(ll,{"model-value":e(d).visible,"close-on-press-escape":!1,title:"\u7F16\u8F91\u64AD\u653E\u5730\u5740",width:400,"z-index":20,top:"25vh","destroy-on-close":"","close-on-click-modal":!1,onClose:n[44]||(n[44]=c=>e(d).close())},{footer:t(()=>[o(N,{class:"ml-auto",size:"small",loading:e(i).loading,onClick:n[42]||(n[42]=c=>e(d).close())},{default:t(()=>[S(" \u53D6\u6D88 ")]),_:1},8,["loading"]),o(N,{class:"ml-auto",size:"small",type:"primary",loading:e(i).loading,onClick:n[43]||(n[43]=c=>e(d).add())},{default:t(()=>[S(" \u4FDD\u5B58 ")]),_:1},8,["loading"])]),default:t(()=>[o(el,{ref_key:"ruleFormRefPop",ref:f,"label-width":"60px",model:e(d).form,rules:{name:{required:!0,message:"\u8BF7\u8F93\u5165\u540D\u79F0",trigger:"blur"},file:{required:!0,message:"\u8BF7\u8F93\u5165\u5730\u5740",trigger:"blur"}},"hide-required-asterisk":!1},{default:t(()=>[o(C,{label:"\u540D\u79F0",prop:"name"},{default:t(()=>[o(U,{modelValue:e(d).form.name,"onUpdate:modelValue":n[36]||(n[36]=c=>e(d).form.name=c),type:"text",placeholder:"\u8BF7\u8F93\u5165\u540D\u79F0"},null,8,["modelValue"])]),_:1}),o(C,{label:"\u526F\u6807\u9898",prop:"subTitle"},{default:t(()=>[o(U,{modelValue:e(d).form.subTitle,"onUpdate:modelValue":n[37]||(n[37]=c=>e(d).form.subTitle=c),type:"text",placeholder:"\u8BF7\u8F93\u5165\u526F\u6807\u9898"},null,8,["modelValue"])]),_:1}),o(C,{label:"\u64AD\u653E\u5668"},{default:t(()=>[o(U,{modelValue:e(d).form.keys,"onUpdate:modelValue":n[38]||(n[38]=c=>e(d).form.keys=c),type:"text",disabled:"",placeholder:"\u8BF7\u9009\u62E9"},null,8,["modelValue"])]),_:1}),o(C,{label:"\u5730\u5740",prop:"file"},{default:t(()=>[o(U,{modelValue:e(d).form.file,"onUpdate:modelValue":n[39]||(n[39]=c=>e(d).form.file=c),type:"textarea",rows:6,placeholder:"\u8BF7\u8F93\u5165\u5730\u5740"},null,8,["modelValue"])]),_:1}),o(C,{label:"\u76F4\u64AD\u6E90",prop:"liveSource"},{default:t(()=>[o(te,{modelValue:e(d).form.liveSource,"onUpdate:modelValue":n[40]||(n[40]=c=>e(d).form.liveSource=c),placeholder:"\u662F\u5426\u4E3A\u76F4\u64AD\u6E90",style:{width:"100%"}},{default:t(()=>[o(ee,{label:"\u662F",value:1}),o(ee,{label:"\u5426",value:0})]),_:1},8,["modelValue"])]),_:1}),o(C,{label:"\u5E8F\u53F7",prop:"sort"},{default:t(()=>[o(Q,{spellcheck:"false",modelValue:e(d).form.sort,"onUpdate:modelValue":n[41]||(n[41]=c=>e(d).form.sort=c),modelModifiers:{number:!0},clearable:"",style:{width:"120px"},placeholder:"\u8BF7\u8F93\u5165\u5E8F\u53F7",controls:!0,"controls-position":"right",min:1,precision:0,"value-on-clear":1,"step-strictly":""},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["model-value"])])}}},ma=ke(zt,[["__scopeId","data-v-2e772acd"]]);const Cl=a=>(Le("data-v-d010dd5c"),a=a(),Be(),a),Ot={class:"video-info"},Lt={key:0},Bt={class:"line-name"},Nt={class:"orders"},qt=Cl(()=>D("div",null,"\u7EBF\u8DEF\u540D\u79F0",-1)),Kt={class:"orders"},Gt=Cl(()=>D("div",null,"\u8D44\u6E90\u6807\u8BC6",-1)),Yt={style:{display:"flex","align-items":"center"}},jt={style:{"margin-top":"10px","margin-bottom":"20px"},class:"shadow1"},Ht={__name:"videoLine",emits:["load"],setup(a,{expose:v,emit:T}){const s=P(),h=P(),r=P({pageIndex:1,pageSize:10,total:0}),l=q({actors:[],cycleImg:"",horizontalPoster:"",doubanScoreId:"",buyMode:1,imdbScoreID:"",screenshot:"",albumIds:[],categoryChildId:0,year:"",categoryPid:0,chargingMode:1,cycle:2,directors:[],doubanScore:0,id:0,imdbScore:0,introduce:"",labels:[],language:[],note:"",popularityDay:0,popularityMonth:0,popularitySum:0,popularityWeek:0,recommend:2,region:[],verticalPoster:"",theme:[],title:"",opened:!1,nowpage:0,releaseAt:0}),i=q({loading:!1,visible:!1,other:void 0});P();const V=P(),f=q({data:[],form:{sort:0,liveSource:0},visible:!1,get($){let y=d.value[u.value-1];!y.id||(r.value=$||r.value,W.playline(y.id,{page:r.value.pageIndex,limit:r.value.pageSize}).then(F=>{f.data=F.list.map(_=>{var n;return _.keys=((n=g.value.find(E=>E.tag==_.tag))==null?void 0:n.name)||"-",_}),r.value.total=F.total,console.log(F,"====")}).finally(()=>{}))},close(){f.visible=!1,f.form={}},add(){V.value.validate(($,y)=>{var F,_;$&&((F=f.form).tag||(F.tag=""),W.playlineSave(d.value[u.value-1].id,{data:[f.form],videoId:(_=i.other)==null?void 0:_.id}).then(n=>{K({position:"bottom-right",type:"success",message:"\u7F16\u8F91\u64AD\u653E\u5730\u5740\u6210\u529F"}),f.get(),f.close()}))})}}),d=q({value:[],add(){var y,F;i.loading=!0;let $="";for(let _=1;$="\u65B0\u589E\u7EBF\u8DEF"+_,!!d.value.find(n=>n.name===$);_++);d.value.push({videoID:((y=i.other)==null?void 0:y.id)||0,sort:d.value.length==0?0:d.value.at(-1).sort+1,name:$,playerId:((F=g.value[g.value.length-1])==null?void 0:F.id)||0,playline:[],id:0,uuid:Pe()}),i.loading=!0,W.muchSave([d.value.at(-1)],i.other.id).then(_=>{let n=d.value.at(-1).sort;K({position:"bottom-right",type:"success",message:"\u65B0\u589E\u7EBF\u8DEF\u6210\u529F"}),d.get(),d.value=d.value.sort((E,z)=>E.sort-z.sort>0?0:-1),d.value.forEach((E,z)=>{E.sort==n&&(u.value=z+1)})}).finally(()=>{i.loading=!1})},del($,y){y.id?ge({message:"\u786E\u5B9A\u8981\u5220\u9664\u5417\uFF1F",okEms:"\u5220\u9664\u7EBF\u8DEF\u6210\u529F"},()=>W.del(y.id).then(F=>(d.value.splice($,1),u.value=1,F))):(d.value.splice($,1),u.value=1,K({position:"bottom-right",type:"success",message:"\u5220\u9664\u7EBF\u8DEF\u6210\u529F"}))},addAddress($){$.id?f.form=$:f.form.sort=r.value.total+1,f.visible=!0},delChild($,y){ge({message:"\u786E\u5B9A\u8981\u5220\u9664\u5417\uFF1F",okEms:"\u5220\u9664\u6210\u529F"},()=>W.playlineDel({ids:[$.id]}).then(F=>(f.get(),F)))},save($){if(!$.name){K({position:"bottom-right",type:"error",message:"\u7EBF\u8DEF\u540D\u79F0\u4E0D\u80FD\u4E3A\u7A7A"});return}if(new Set(d.value.map(y=>y.name)).size<d.value.length){K({position:"bottom-right",type:"error",message:"\u7EBF\u8DEF\u540D\u79F0\u4E0D\u80FD\u91CD\u590D"});return}b()},get(){var $,y;if(($=i.other)!=null&&$.id)return W.get((y=i.other)==null?void 0:y.id).then(F=>{F.forEach((_,n)=>{_.uuid=Pe()}),d.value=F,F.length&&f.get()}).finally(()=>{i.loading=!1})}}),p=P(),M=$=>{d.del($-1,d.value[$-1])},b=($=!0)=>{var F;if(!((F=i.other)!=null&&F.id))return;const y=JSON.parse(JSON.stringify(d.value));y.forEach(_=>{delete _.playline}),W.muchSave(y,i.other.id).then(_=>{d.get(),$&&K({position:"bottom-right",type:"success",message:"\u4FDD\u5B58\u6210\u529F"})}).finally(()=>{})},g={value:[],get(){De.get().then($=>{this.value=$==null?void 0:$.sort((y,F)=>y.sort-F.sort),console.log($,"====")})}};g.get();const u=P(1),m=()=>{var $;($=s.value)==null||$.resetFields(),i.other=void 0,i.visible=!1,l.categoryPid=0,l.categoryChildId=0,l.albumIds=[],l.actors=[],l.cycleImg="",l.horizontalPoster="",l.doubanScoreId="",l.buyMode=1,l.imdbScoreID="",l.screenshot="",l.albumIds=[],l.categoryChildId=0,l.year="",l.categoryPid=0,l.chargingMode=1,l.cycle=2,l.directors=[],l.doubanScore=0,l.id=0,l.imdbScore=0,l.introduce="",l.labels=[],l.language=[],l.note="",l.popularityDay=0,l.popularityMonth=0,l.popularitySum=0,l.popularityWeek=0,l.recommend=2,l.region=[],l.verticalPoster="",l.theme=[],l.title="",l.releaseAt=0,l.shelfAt=0,d.value=[],T("load")},w={buyMode:{required:!0,validator:($,y,F)=>{y!==1&&y!==2&&F(new Error("\u8BF7\u9009\u62E9\u8BA1\u8D39\u6A21\u5F0F")),F()},trigger:"blur"},title:{required:!0,message:"\u8BF7\u8F93\u5165\u6807\u9898",trigger:"blur"},verticalPoster:{required:!1,message:"\u8BF7\u8F93\u5165\u5C01\u9762",trigger:"blur"},introduce:{required:!1,message:"\u8BF7\u8F93\u5165\u7B80\u4ECB",trigger:"blur"},note:{required:!1,message:"\u8BF7\u8F93\u5165\u5907\u6CE8",trigger:"blur"},categoryPid:{required:!0,validator:($,y,F)=>{l.categoryPid&&F(),F(new Error("\u8BF7\u9009\u62E9\u5206\u7C7B"))},trigger:"blur"}};async function R(){var y,F;u.value=1,(y=i.other)!=null&&y.id?(i.loading=!0,(F=i.other)!=null&&F.id&&d.get()):l.id=0;let $=[];g.value.forEach(_=>{$.unshift(_.name)})}const L=q({value:[],get(){Ne().then($=>{L.value=$})}});v({open($,y){var F;i.visible=!0,i.other=$,L.value=y,u.value=1,(F=s.value)==null||F.resetFields()}});const A=Y(()=>"\u7EBF\u8DEF\u7BA1\u7406");return($,y)=>{const F=cl,_=ml,n=Fe,E=_e,z=be,k=ae,x=Ae,C=ze,U=fe,ee=pe,te=me,re=Re,ye=Oe;return I(),B("div",null,[o(ee,{"model-value":e(i).visible,"show-close":!e(i).loading,"close-on-press-escape":!1,title:e(A),width:940,"z-index":20,top:"15vh","close-on-click-modal":!1,onClose:m,onOpened:R},{footer:t(()=>[o(k,{class:"ml-auto",size:"small",loading:e(i).loading,onClick:y[3]||(y[3]=N=>e(i).visible=!1)},{default:t(()=>[S(" \u53D6\u6D88 ")]),_:1},8,["loading"]),o(k,{class:"ml-auto",size:"small",type:"primary",loading:e(i).loading,onClick:y[4]||(y[4]=N=>e(d).save(e(d).value[e(u)-1]))},{default:t(()=>[S(" \u4FDD\u5B58 ")]),_:1},8,["loading"])]),default:t(()=>{var N;return[(N=e(i).other)!=null&&N.id?(I(),B("div",{key:0,class:"addPage",onClick:y[0]||(y[0]=(...X)=>e(d).add&&e(d).add(...X))}," + \u65B0\u589E\u7EBF\u8DEF ")):G("",!0),he((I(),B("div",Ot,[o(U,{ref_key:"ruleFormRef",ref:s,"label-width":"80px",model:e(l),rules:w,"hide-required-asterisk":!1},{default:t(()=>[o(_,{modelValue:e(u),"onUpdate:modelValue":y[1]||(y[1]=X=>He(u)?u.value=X:null),class:"demo-tabs",addable:!0,type:"card",onTabAdd:e(d).add,onTabRemove:M,onTabChange:y[2]||(y[2]=X=>{e(r).pageIndex=1,e(f).get()})},{default:t(()=>[D("div",null,[(I(!0),B(J,null,ue(e(d).value,(X,Q)=>(I(),O(F,{key:Q,label:X.name,name:Q+1,closable:""},null,8,["label","name"]))),128))])]),_:1},8,["modelValue","onTabAdd"]),(I(!0),B(J,null,ue(e(d).value,(X,Q)=>(I(),O($e,{key:Q,name:"pages"},{default:t(()=>[e(u)==Q+1?(I(),B("div",Lt,[D("div",Bt,[D("div",Nt,[qt,o(n,{spellcheck:"false",style:{width:"220px","margin-left":"10px"},modelValue:X.name,"onUpdate:modelValue":H=>X.name=H},null,8,["modelValue","onUpdate:modelValue"])]),D("div",Kt,[Gt,o(z,{modelValue:X.Tag,"onUpdate:modelValue":H=>X.Tag=H,style:{width:"220px","margin-left":"10px"},"allow-create":"",filterable:"","default-first-option":"",placeholder:"\u8BF7\u9009\u62E9\u8D44\u6E90\u6807\u8BC6"},{default:t(()=>[(I(!0),B(J,null,ue(g.value,H=>(I(),O(E,{key:H.id,label:H.tag,value:H.tag},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue"])])]),D("div",Yt,[o(k,{style:{margin:"16px 0 6px"},type:"primary",onClick:H=>{var ne;return(ne=e(h))==null?void 0:ne.open(X,e(r).total)}},{default:t(()=>[S("\u6DFB\u52A0\u64AD\u653E\u5730\u5740")]),_:2},1032,["onClick"])]),D("div",jt,[o(C,{ref_for:!0,ref_key:"multipleTableRef",ref:p,data:e(f).data,stripe:!0,height:"30vh","tooltip-effect":"light"},{default:t(()=>[o(x,{prop:"sort",label:"\u5E8F\u53F7",width:"100"},{default:t(({row:H})=>[D("span",null,se(H.sort),1)]),_:1}),o(x,{prop:"name",label:"\u540D\u79F0",width:"100px"}),o(x,{prop:"subTitle",label:"\u526F\u6807\u9898",width:"100px","show-overflow-tooltip":""}),o(x,{prop:"tag",label:"\u64AD\u653E\u5668",width:"120px"}),o(x,{prop:"file",label:"\u5730\u5740","show-overflow-tooltip":"","min-width":"250px"},{default:t(({row:H})=>[D("span",null,se(H.file||"-"),1)]),_:1}),o(x,{fixed:"right",label:"\u64CD\u4F5C",align:"right",width:"120"},{default:t(({$index:H,row:ne})=>[o(k,{type:"primary",onClick:Ke=>e(d).addAddress(ne),link:""},{default:t(()=>[S(" \u7F16\u8F91 ")]),_:2},1032,["onClick"]),o(k,{type:"danger",link:"",onClick:Ke=>e(d).delChild(ne,H)},{default:t(()=>[S(" \u5220\u9664 ")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])]),o(We,{pageinfo:e(r),onChange:e(f).get},null,8,["pageinfo","onChange"])])):G("",!0)]),_:2},1024))),128))]),_:1},8,["model"])])),[[ye,e(i).loading]])]}),_:1},8,["model-value","show-close","title"]),o(Vl,{ref_key:"lineTableRef",ref:h,onLoad:e(f).get},null,8,["onLoad"]),o(ee,{"model-value":e(f).visible,"close-on-press-escape":!1,title:"\u7F16\u8F91\u64AD\u653E\u5730\u5740",width:400,"z-index":20,top:"25vh","destroy-on-close":"","close-on-click-modal":!1,onClose:y[13]||(y[13]=N=>e(f).close())},{footer:t(()=>[o(k,{class:"ml-auto",size:"small",loading:e(i).loading,onClick:y[11]||(y[11]=N=>e(f).close())},{default:t(()=>[S(" \u53D6\u6D88 ")]),_:1},8,["loading"]),o(k,{class:"ml-auto",size:"small",type:"primary",loading:e(i).loading,onClick:y[12]||(y[12]=N=>e(f).add())},{default:t(()=>[S(" \u4FDD\u5B58 ")]),_:1},8,["loading"])]),default:t(()=>[o(U,{ref_key:"ruleFormRefPop",ref:V,"label-width":"60px",model:e(f).form,rules:{name:{required:!0,message:"\u8BF7\u8F93\u5165\u540D\u79F0",trigger:"blur"},file:{required:!0,message:"\u8BF7\u8F93\u5165\u5730\u5740",trigger:"blur"}},"hide-required-asterisk":!1},{default:t(()=>[o(te,{label:"\u540D\u79F0",prop:"name"},{default:t(()=>[o(n,{modelValue:e(f).form.name,"onUpdate:modelValue":y[5]||(y[5]=N=>e(f).form.name=N),type:"text",placeholder:"\u8BF7\u8F93\u5165\u540D\u79F0"},null,8,["modelValue"])]),_:1}),o(te,{label:"\u526F\u6807\u9898",prop:"subTitle"},{default:t(()=>[o(n,{modelValue:e(f).form.subTitle,"onUpdate:modelValue":y[6]||(y[6]=N=>e(f).form.subTitle=N),type:"text",placeholder:"\u8BF7\u8F93\u5165\u526F\u6807\u9898"},null,8,["modelValue"])]),_:1}),o(te,{label:"\u64AD\u653E\u5668"},{default:t(()=>[o(n,{modelValue:e(f).form.keys,"onUpdate:modelValue":y[7]||(y[7]=N=>e(f).form.keys=N),type:"text",disabled:"",placeholder:"\u8BF7\u9009\u62E9"},null,8,["modelValue"])]),_:1}),o(te,{label:"\u5730\u5740",prop:"file"},{default:t(()=>[o(n,{modelValue:e(f).form.file,"onUpdate:modelValue":y[8]||(y[8]=N=>e(f).form.file=N),type:"textarea",rows:6,placeholder:"\u8BF7\u8F93\u5165\u5730\u5740"},null,8,["modelValue"])]),_:1}),o(te,{label:"\u76F4\u64AD\u6E90",prop:"liveSource"},{default:t(()=>[o(z,{modelValue:e(f).form.liveSource,"onUpdate:modelValue":y[9]||(y[9]=N=>e(f).form.liveSource=N),placeholder:"\u662F\u5426\u4E3A\u76F4\u64AD\u6E90",style:{width:"100%"}},{default:t(()=>[o(E,{label:"\u662F",value:1}),o(E,{label:"\u5426",value:0})]),_:1},8,["modelValue"])]),_:1}),o(te,{label:"\u5E8F\u53F7",prop:"sort"},{default:t(()=>[o(re,{spellcheck:"false",modelValue:e(f).form.sort,"onUpdate:modelValue":y[10]||(y[10]=N=>e(f).form.sort=N),modelModifiers:{number:!0},clearable:"",style:{width:"120px"},placeholder:"\u8BF7\u8F93\u5165\u5E8F\u53F7",controls:!0,"controls-position":"right",min:1,precision:0,"value-on-clear":1,"step-strictly":""},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["model-value"])])}}},fa=ke(Ht,[["__scopeId","data-v-d010dd5c"]]);const Wt={key:0,class:"full_pro"},Jt={class:"percentage_value"},Xt={style:{display:"flex","align-items":"center",gap:"8px",width:"100%"}},Qt={__name:"allDel",emits:["load"],setup(a,{expose:v,emit:T}){const s=q({loading:!1,visible:!1,other:void 0}),h=q({status:!1,timer:null,pro:0,key:""}),r=P(),l=q({categoryId:[],collectionId:[],updateAtEnd:"",updateAtStart:"",tags:[]}),i=P([]),V=P([]),f=u=>{if(l.updateAtEnd)return u.getTime()>l.updateAtEnd.getTime()},d=u=>u.getTime()<new Date(l.updateAtStart).getTime(),p=()=>{mo(h.key).then(u=>{h.pro=Math.ceil(u.index/u.total*100),u.index>=u.total&&(K({position:"bottom-right",type:"success",message:"\u89C6\u9891\u6570\u636E\u5220\u9664\u6210\u529F"}),h.pro=100,clearInterval(h.timer),T("load"),setTimeout(()=>{h.status=!1},1e3))})},M=()=>ge({message:"\u786E\u5B9A\u8981\u5220\u9664\u5417\uFF1F",okEms:"\u63D0\u4EA4\u6210\u529F"},()=>r.value.validate((u,m)=>{var w;u&&(h.timer&&(clearInterval(h.timer),h.timer=null),s.loading=!0,co({collectionId:l.collectionId,updateAtStart:l.updateAtStart||void 0,updateAtEnd:l.updateAtEnd||void 0,categoryId:(w=l.categoryId)==null?void 0:w.map(R=>R.at(-1)),tags:l.tags||[]}).then(R=>{s.visible=!1,h.key=R.key,h.status=!0,h.timer=setInterval(()=>{p()},1e3)}).finally(()=>{s.loading=!1}))})),b=()=>{var u;s.visible=!1,(u=r.value)==null||u.resetFields(),l.updateAtStart="",l.updateAtEnd="",l.tags=[]},g=()=>{};return v({open(u,m){s.visible=!0,i.value=m==null?void 0:m.filter(w=>w.dataType==1),uo().then(w=>{V.value=w})}}),to(()=>{h.timer&&clearInterval(h.timer)}),(u,m)=>{const w=po,R=me,L=bl,A=_e,$=be,y=fe,F=ae,_=pe;return I(),B(J,null,[e(h).status?(I(),B("div",Wt,[o(w,{type:"circle",percentage:e(h).pro},{default:t(({percentage:n})=>[D("span",Jt,se(n)+"%",1)]),_:1},8,["percentage"])])):G("",!0),o(_,{"model-value":e(s).visible,"show-close":!e(s).loading,"close-on-press-escape":!1,title:"\u4E00\u952E\u5220\u9664",width:550,"z-index":20,top:"25vh","close-on-click-modal":!1,onClose:b,onOpened:g},{footer:t(()=>[o(F,{class:"ml-auto",size:"small",loading:e(s).loading,onClick:b},{default:t(()=>[S(" \u53D6\u6D88 ")]),_:1},8,["loading"]),o(F,{class:"ml-auto",size:"small",type:"primary",loading:e(s).loading,onClick:m[4]||(m[4]=n=>M())},{default:t(()=>[S(" \u4FDD\u5B58 ")]),_:1},8,["loading"])]),default:t(()=>[o(y,{ref_key:"ruleFormRef",ref:r,"label-width":"80px",model:e(l),rules:{},"hide-required-asterisk":!1},{default:t(()=>[o(R,{label:"\u89C6\u9891\u5206\u7C7B",prop:"categoryId"},{default:t(()=>[o(we,{modelValue:e(l).categoryId,"onUpdate:modelValue":m[0]||(m[0]=n=>e(l).categoryId=n),style:{width:"100%"},type:"videoType",placeholder:"\u9ED8\u8BA4\u5168\u90E8\u5206\u7C7B",checkStrictly:!0,props:{checkStrictly:!0,multiple:!0,emitPath:!0}},null,8,["modelValue"])]),_:1}),o(R,{label:"\u66F4\u65B0\u65F6\u95F4",prop:["updateAtStart","updateAtEnd"]},{default:t(()=>[D("div",Xt,[o(L,{modelValue:e(l).updateAtStart,"onUpdate:modelValue":m[1]||(m[1]=n=>e(l).updateAtStart=n),type:"datetime",placeholder:"\u5F00\u59CB\u65E5\u671F",style:{flex:"1 1"},"disabled-date":f,format:"YYYY/MM/DD HH:mm:ss",clearable:!1},null,8,["modelValue"]),S(" ~ "),o(L,{modelValue:e(l).updateAtEnd,"onUpdate:modelValue":m[2]||(m[2]=n=>e(l).updateAtEnd=n),type:"datetime",style:{flex:"1 1"},"disabled-date":d,placeholder:"\u7ED3\u675F\u65E5\u671F",format:"YYYY/MM/DD HH:mm:ss",clearable:!1},null,8,["modelValue"])])]),_:1}),o(R,{label:"\u91C7\u96C6\u6807\u8BC6"},{default:t(()=>[o($,{modelValue:e(l).tags,"onUpdate:modelValue":m[3]||(m[3]=n=>e(l).tags=n),clearable:"",class:"w-full",multiple:!0,placeholder:"\u8BF7\u9009\u62E9\u91C7\u96C6\u6807\u8BC6"},{default:t(()=>[(I(!0),B(J,null,ue(e(V),n=>(I(),O(A,{key:n.tag,label:n.tag,value:n.tag},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["model-value","show-close"])],64)}}},ga=ke(Qt,[["__scopeId","data-v-5ccc3f3c"]]),va={__name:"batch",emits:["load"],setup(a,{expose:v,emit:T}){const s=q({loading:!1,visible:!1,other:void 0}),h=P(),r=q({type:1,ids:[],op:"",typeName:""}),l={cycle:"\u8F6E\u64AD",recommend:"\u63A8\u8350"},i=()=>ge({message:`\u786E\u5B9A\u8981${r.type==1?"\u8BBE\u4E3A":"\u53D6\u6D88"}${l[r.op]}\u5417\uFF1F`,okEms:`\u5F71\u89C6${r.type==1?"\u8BBE\u4E3A":"\u53D6\u6D88"}${l[r.op]}\u6210\u529F`},()=>h.value.validate((p,M)=>{p&&(s.loading=!0,fo(r.ids,r.op,r.type).then(b=>{s.visible=!1,T("load")}).finally(()=>{s.loading=!1}))})),V=()=>{var p;s.visible=!1,(p=h.value)==null||p.resetFields()},f=()=>{},d=Y(()=>l[r.op]+"\u8BBE\u7F6E");return v({open(p,M){s.visible=!0,r.ids=p,r.op=M}}),(p,M)=>{const b=Ie,g=Ve,u=me,m=fe,w=ae,R=pe;return I(),O(R,{"model-value":e(s).visible,"show-close":!e(s).loading,"close-on-press-escape":!1,title:e(d),width:400,"z-index":20,top:"25vh","close-on-click-modal":!1,onClose:V,onOpened:f},{footer:t(()=>[o(w,{class:"ml-auto",size:"small",loading:e(s).loading,onClick:V},{default:t(()=>[S(" \u53D6\u6D88 ")]),_:1},8,["loading"]),o(w,{class:"ml-auto",size:"small",type:"primary",loading:e(s).loading,onClick:M[1]||(M[1]=L=>i())},{default:t(()=>[S(" \u4FDD\u5B58 ")]),_:1},8,["loading"])]),default:t(()=>[o(m,{ref_key:"ruleFormRef",ref:h,"label-width":"70px",model:e(r),style:{"margin-top":"8px"},rules:{},"hide-required-asterisk":!1},{default:t(()=>[o(u,{label:e(d),style:{"margin-bottom":"0"}},{default:t(()=>[o(g,{modelValue:e(r).type,"onUpdate:modelValue":M[0]||(M[0]=L=>e(r).type=L),style:{"margin-left":"12px"}},{default:t(()=>[o(b,{label:1},{default:t(()=>[S(" \u8BBE\u4E3A"+se(l[e(r).op]),1)]),_:1}),o(b,{label:2},{default:t(()=>[S(" \u53D6\u6D88"+se(l[e(r).op]),1)]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["label"])]),_:1},8,["model"])]),_:1},8,["model-value","show-close","title"])}}},Zt={style:{height:"350px"}},_a={__name:"line",emits:["load"],setup(a,{expose:v,emit:T}){const s=q({loading:!1,loading2:!1,visible:!1,other:void 0,data:[]}),h=P(),r=()=>{s.loading=!0;for(let V of s.data)if(!V.name){K({position:"bottom-right",type:"error",message:"\u7EBF\u8DEF\u540D\u79F0\u4E0D\u80FD\u4E3A\u7A7A"}),s.loading=!1;return}De.set({data:s.data}).then(V=>{K({position:"bottom-right",type:"success",message:"\u4FEE\u6539\u6210\u529F"}),T("load"),l()}).finally(()=>{s.loading=!1})},l=()=>{var V;s.visible=!1,(V=h.value)==null||V.resetFields()},i=()=>{};return v({open(V){s.visible=!0,s.loading2=!0,De.get().then(f=>{s.data=f==null?void 0:f.sort((d,p)=>d.sort-p.sort),console.log(f,"====")}).finally(()=>{s.loading2=!1})}}),(V,f)=>{const d=Re,p=Ae,M=Fe,b=ze,g=ae,u=pe,m=Oe;return I(),O(u,{"model-value":e(s).visible,"show-close":!e(s).loading,"close-on-press-escape":!1,title:"\u7EBF\u8DEF\u8BBE\u7F6E",width:520,"z-index":20,top:"20vh","close-on-click-modal":!1,onClose:l,onOpened:i},{footer:t(()=>[o(g,{class:"ml-auto",size:"small",loading:e(s).loading,onClick:l},{default:t(()=>[S(" \u53D6\u6D88 ")]),_:1},8,["loading"]),o(g,{class:"ml-auto",size:"small",type:"primary",loading:e(s).loading,onClick:f[0]||(f[0]=w=>r())},{default:t(()=>[S(" \u4FDD\u5B58 ")]),_:1},8,["loading"])]),default:t(()=>[D("div",Zt,[he((I(),O(b,{data:e(s).data,class:"auto",border:""},{default:t(()=>[o(p,{label:"\u5E8F\u53F7",width:"150"},{default:t(({row:w})=>[o(d,{spellcheck:"false",modelValue:w.sort,"onUpdate:modelValue":R=>w.sort=R,modelModifiers:{number:!0},clearable:"",style:{width:"120px"},placeholder:"\u8BF7\u8F93\u5165\u5E8F\u53F7",controls:!1,min:1,precision:0,"value-on-clear":1,"step-strictly":""},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),o(p,{label:"\u7EBF\u8DEF\u540D\u79F0",width:"220"},{default:t(({row:w})=>[o(M,{modelValue:w.name,"onUpdate:modelValue":R=>w.name=R,type:"text",placeholder:"\u8BF7\u8F93\u5165\u7EBF\u8DEF\u540D\u79F0"},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),o(p,{prop:"tag",label:"\u8D44\u6E90\u6807\u8BC6","show-overflow-tooltip":!0})]),_:1},8,["data"])),[[m,e(s).loading2]])])]),_:1},8,["model-value","show-close"])}}},ea={class:"flex"},ba={__name:"replace",emits:["load"],setup(a,{expose:v,emit:T}){const s=q({loading:!1,visible:!1,other:void 0,tabIndex:1}),h=P(),r=q({categoryId:[],from:"",to:"",type:1,column:""}),l=P([]),i=()=>{h.value.validate((g,u)=>{var m;if(g){let w={to:r.to,categoryId:(m=r.categoryId)==null?void 0:m.map(R=>R.at(-1)),from:r.from,column:r.column};console.log(w),s.tabIndex!=2&&(w.type=r.type),s.tabIndex!=3&&delete w.column,ge({message:"\u786E\u5B9A\u8981\u66FF\u6362\u5417\uFF1F"},()=>(s.tabIndex==1?go(w):s.tabIndex==2?vo(w):_o(w)).then(R=>{K({position:"bottom-right",type:"success",message:R}),T("load"),V()}).finally(()=>{s.loading=!1}))}})},V=()=>{var g;(g=h.value)==null||g.resetFields(),s.visible=!1},f=()=>{var g;(g=h.value)==null||g.resetFields()},d=[{key:"\u5C01\u9762\u56FE",value:"surface_plot"},{key:"\u540D\u79F0",value:"title"},{key:"\u5907\u6CE8",value:"note"},{key:"\u7B80\u4ECB",value:"introduce"},{key:"\u5E74\u4EFD",value:"year"},{key:"\u8C46\u74E3ID",value:"douban_score_id"},{key:"\u8C46\u74E3\u8BC4\u5206",value:"douban_score"},{key:"IMDB ID",value:"imdb_score_id"},{key:"IMDB\u8BC4\u5206",value:"imdb_score"},{key:"\u65E5\u4EBA\u6C14",value:"popularity_day"},{key:"\u5468\u4EBA\u6C14",value:"popularity_week"},{key:"\u6708\u4EBA\u6C14",value:"popularity_month"},{key:"\u603B\u4EBA\u6C14",value:"popularity_sum"}];let p=["popularity_day","popularity_week","popularity_month","popularity_sum"],M=["douban_score","imdb_score"];const b={required:!0,trigger:"blur",validator:(g,u,m)=>{r.to==""?m(new Error("\u8BF7\u8F93\u5165")):p.includes(r.column)&&!/^[0-9]*[0-9][0-9]*$/.test(u)?m(new Error("\u53EA\u80FD\u8F93\u5165\u6574\u6570")):M.includes(r.column)&&!/^(0*([0-9]|[1-8][0-9]|9[0-9])|100)$/.test(u)?m(new Error("\u53EA\u80FD\u8F93\u5165100\u4EE5\u5185\u7684\u6574\u6570")):m()}};return v({open(g,u){s.tabIndex=g,r.type=1,s.visible=!0,l.value=u}}),(g,u)=>{const m=me,w=Ie,R=Ve,L=Fe,A=_e,$=be,y=fe,F=ae,_=pe;return I(),O(_,{"model-value":e(s).visible,"show-close":!e(s).loading,"close-on-press-escape":!1,title:e(s).tabIndex==1?"\u66FF\u6362\u5C01\u9762\u5730\u5740":e(s).tabIndex==2?"\u66FF\u6362\u64AD\u653E\u5730\u5740":"\u66FF\u6362\u89C6\u9891\u4EFB\u610F\u5B57\u6BB5",width:450,"z-index":20,top:"25vh","close-on-click-modal":!1,onClose:V,onOpened:f,"destroy-on-close":""},{footer:t(()=>[o(F,{class:"ml-auto",size:"small",loading:e(s).loading,onClick:V},{default:t(()=>[S(" \u53D6\u6D88 ")]),_:1},8,["loading"]),o(F,{class:"ml-auto",size:"small",type:"primary",loading:e(s).loading,onClick:u[6]||(u[6]=n=>i())},{default:t(()=>[S(" \u4FDD\u5B58 ")]),_:1},8,["loading"])]),default:t(()=>[o(y,{ref_key:"ruleFormRef",ref:h,"label-width":"80px",model:e(r),rules:{from:{required:!0,message:"\u8BF7\u8F93\u5165\u5173\u952E\u5B57",trigger:"blur"},to:b,column:{required:!0,message:"\u8BF7\u9009\u62E9\u5B57\u6BB5",trigger:"change"}},"hide-required-asterisk":!1},{default:t(()=>[o(m,{label:"\u89C6\u9891\u5206\u7C7B",prop:"categoryId"},{default:t(()=>[o(we,{modelValue:e(r).categoryId,"onUpdate:modelValue":u[0]||(u[0]=n=>e(r).categoryId=n),style:{width:"100%"},type:"videoType",placeholder:"\u9ED8\u8BA4\u5168\u90E8\u5206\u7C7B",checkStrictly:!0,"collapse-tags":"",props:{checkStrictly:!0,multiple:!0,emitPath:!0}},null,8,["modelValue"])]),_:1}),e(s).tabIndex!=2?(I(),O(m,{key:0,label:"\u66FF\u6362\u65B9\u5F0F",prop:"categoryId"},{default:t(()=>[o(R,{modelValue:e(r).type,"onUpdate:modelValue":u[1]||(u[1]=n=>e(r).type=n),onChange:u[2]||(u[2]=n=>{e(r).column=null,e(r).from=null,e(r).to="",e(h).clearValidate()})},{default:t(()=>[o(w,{label:1},{default:t(()=>[S(" \u5173\u952E\u5B57\u66FF\u6362 ")]),_:1}),o(w,{label:2},{default:t(()=>[S(" \u5168\u90E8\u66FF\u6362 ")]),_:1})]),_:1},8,["modelValue"])]),_:1})):G("",!0),D("div",ea,[e(r).type==1?(I(),O(m,{key:0,label:"\u5173\u952E\u5B57",prop:"from"},{default:t(()=>[o(L,{spellcheck:"false",modelValue:e(r).from,"onUpdate:modelValue":u[3]||(u[3]=n=>e(r).from=n),modelModifiers:{trim:!0},onkeyup:"this.value=this.value.replace(/[']/g,'');",placeholder:"\u8BF7\u8F93\u5165\u5173\u952E\u5B57"},null,8,["modelValue"])]),_:1})):G("",!0),o(m,{label:"\u66FF\u6362\u4E3A",prop:"to"},{default:t(()=>[o(L,{spellcheck:"false",modelValue:e(r).to,"onUpdate:modelValue":u[4]||(u[4]=n=>e(r).to=n),modelModifiers:{trim:!0},onkeyup:"this.value=this.value.replace(/[']/g,'');",placeholder:"\u8BF7\u8F93\u5165\u66FF\u6362\u4E3A"},null,8,["modelValue"])]),_:1})]),e(s).tabIndex==3?(I(),O(m,{key:1,label:"\u5B57\u6BB5",prop:"column"},{default:t(()=>[o($,{modelValue:e(r).column,"onUpdate:modelValue":u[5]||(u[5]=n=>e(r).column=n),placeholder:"\u8BF7\u9009\u62E9\u5B57\u6BB5",style:{width:"320px"}},{default:t(()=>[(I(),B(J,null,ue(d,n=>(I(),B(J,null,[e(r).type==1&&!(e(p).includes(n==null?void 0:n.value)||e(M).includes(n==null?void 0:n.value))||e(r).type==2?(I(),O(A,{key:0,label:n.key,value:n.value},null,8,["label","value"])):G("",!0)],64))),64))]),_:1},8,["modelValue"])]),_:1})):G("",!0)]),_:1},8,["model","rules"])]),_:1},8,["model-value","show-close","title"])}}},ya={__name:"class",emits:["load"],setup(a,{expose:v,emit:T}){const s=q({loading:!1,visible:!1,other:void 0,ids:[]}),h=P(),r=q({oldId:[],newId:[]}),l=P([]),i=()=>{h.value.validate((d,p)=>{var M;if(d){let b={new_category_pid:r.newId[0],new_category_child_id:((M=r.newId)==null?void 0:M.length)>1?r.newId[1]:0};ge({message:"\u786E\u5B9A\u8981\u66FF\u6362\u5417\uFF1F"},()=>{var g,u;return(((g=s.ids)==null?void 0:g.length)>0?bo({ids:s.ids,...b}):yo({category_pid:r.oldId[0],category_child_id:((u=r.oldId)==null?void 0:u.length)>1?r.oldId[1]:0,...b})).then(m=>{K({position:"bottom-right",type:"success",message:m}),T("load"),s.visible=!1}).finally(()=>{s.loading=!1})})}})},V=()=>{var d;s.visible=!1,(d=h.value)==null||d.resetFields()},f=()=>{};return v({open(d,p){s.ids=d,s.visible=!0,l.value=p}}),(d,p)=>{const M=me,b=fe,g=ae,u=pe;return I(),O(u,{"model-value":e(s).visible,"show-close":!e(s).loading,"close-on-press-escape":!1,title:"\u66FF\u6362\u5206\u7C7B",width:400,"z-index":20,top:"25vh","close-on-click-modal":!1,onClose:V,onOpened:f},{footer:t(()=>[o(g,{class:"ml-auto",size:"small",loading:e(s).loading,onClick:V},{default:t(()=>[S(" \u53D6\u6D88 ")]),_:1},8,["loading"]),o(g,{class:"ml-auto",size:"small",type:"primary",loading:e(s).loading,onClick:p[2]||(p[2]=m=>i())},{default:t(()=>[S(" \u4FDD\u5B58 ")]),_:1},8,["loading"])]),default:t(()=>[o(b,{ref_key:"ruleFormRef",ref:h,"label-width":"86px",model:e(r),rules:{oldId:{required:!0,message:"\u8BF7\u9009\u62E9\u539F\u89C6\u9891\u5206\u7C7B",trigger:"change"},newId:{required:!0,message:"\u8BF7\u9009\u62E9\u65B0\u89C6\u9891\u5206\u7C7B",trigger:"change"}},"hide-required-asterisk":!1},{default:t(()=>{var m;return[((m=e(s).ids)==null?void 0:m.length)<=0?(I(),O(M,{key:0,label:"\u539F\u89C6\u9891\u5206\u7C7B",prop:"oldId"},{default:t(()=>[o(we,{modelValue:e(r).oldId,"onUpdate:modelValue":p[0]||(p[0]=w=>e(r).oldId=w),style:{width:"100%"},type:"videoType",placeholder:"\u9009\u62E9\u5206\u7C7B",checkStrictly:!0,"collapse-tags":""},null,8,["modelValue"])]),_:1})):G("",!0),o(M,{label:"\u65B0\u89C6\u9891\u5206\u7C7B",prop:"newId"},{default:t(()=>[o(we,{modelValue:e(r).newId,"onUpdate:modelValue":p[1]||(p[1]=w=>e(r).newId=w),style:{width:"100%"},type:"videoType",placeholder:"\u9009\u62E9\u5206\u7C7B",checkStrictly:!0,"collapse-tags":""},null,8,["modelValue"])]),_:1})]}),_:1},8,["model"])]),_:1},8,["model-value","show-close"])}}},ha={__name:"setAlbum",emits:["load"],setup(a,{expose:v,emit:T}){const s=q({loading:!1,visible:!1,other:void 0}),h=P(),r=q({album_ids:[],vod_ids:[],type:1}),l=je(()=>{h.value.validate((d,p)=>{d&&(s.loading=!0,ho({...r,action:r.type}).then(M=>{K({position:"bottom-right",type:"success",message:r.type==2?"\u6279\u91CF\u53D6\u6D88\u4E13\u9898\u6210\u529F":"\u6279\u91CF\u8BBE\u7F6E\u4E13\u9898\u6210\u529F"}),T("load"),s.visible=!1}).finally(()=>{s.loading=!1}))})}),i=()=>{var d;s.visible=!1,(d=h.value)==null||d.resetFields()},V=()=>{},f=q({value:[],get(){Ne().then(d=>{f.value=d})}});return v({open(d,p){s.visible=!0,r.vod_ids=d,f.value=p}}),(d,p)=>{const M=Ie,b=Ve,g=me,u=_e,m=be,w=fe,R=ae,L=pe;return I(),O(L,{"model-value":e(s).visible,"show-close":!e(s).loading,"close-on-press-escape":!1,title:e(s).cancle?"\u53D6\u6D88\u4E13\u9898":"\u8BBE\u7F6E\u4E13\u9898",width:450,"z-index":20,top:"40vh","close-on-click-modal":!1,onClose:i,onOpened:V},{footer:t(()=>[o(R,{class:"ml-auto",size:"small",loading:e(s).loading,onClick:i},{default:t(()=>[S(" \u53D6\u6D88 ")]),_:1},8,["loading"]),o(R,{class:"ml-auto",size:"small",type:"primary",loading:e(s).loading,onClick:p[2]||(p[2]=A=>e(l)())},{default:t(()=>[S(" \u4FDD\u5B58 ")]),_:1},8,["loading"])]),default:t(()=>[o(w,{ref_key:"ruleFormRef",ref:h,"label-width":"70px",model:e(r),rules:{album_ids:{required:!0,message:"\u8BF7\u9009\u62E9\u4E13\u9898",trigger:"blur"}},"hide-required-asterisk":!1},{default:t(()=>[o(g,{label:"\u4E13\u9898\u8BBE\u7F6E"},{default:t(()=>[o(b,{modelValue:e(r).type,"onUpdate:modelValue":p[0]||(p[0]=A=>e(r).type=A),style:{"margin-left":"12px"}},{default:t(()=>[o(M,{label:1},{default:t(()=>[S(" \u8BBE\u4E3A\u4E13\u9898 ")]),_:1}),o(M,{label:2},{default:t(()=>[S(" \u53D6\u6D88\u4E13\u9898 ")]),_:1})]),_:1},8,["modelValue"])]),_:1}),o(g,{label:"\u4E13\u9898",prop:"album_ids",style:{"margin-right":"12px"}},{default:t(()=>[o(m,{modelValue:e(r).album_ids,"onUpdate:modelValue":p[1]||(p[1]=A=>e(r).album_ids=A),clearable:"",class:"w-full",multiple:"",placeholder:"\u8BF7\u9009\u62E9\u4E13\u9898"},{default:t(()=>[(I(!0),B(J,null,ue(e(f).value,A=>(I(),O(u,{key:A.id,label:A.title,value:A.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["model-value","show-close","title"])}}},wa={__name:"setFees",emits:["load"],setup(a,{expose:v,emit:T}){const s=q({loading:!1,visible:!1,other:void 0,tag:"select"}),h=P(),r=q({buyMode:1,chargingMode:1,gold:0,ids:[]}),l=je(()=>{h.value.validate((d,p)=>{var M;d&&(s.loading=!0,(s.tag=="all"?wo({...r,categories:(M=r.categories)==null?void 0:M.map(b=>[b[0],b[1]||0])}):ko(r)).then(b=>{K({position:"bottom-right",type:"success",message:"\u6279\u91CF\u8BBE\u7F6E\u6536\u8D39\u6210\u529F"}),T("load"),s.visible=!1}).finally(()=>{s.loading=!1}))})}),i=()=>{var d;s.visible=!1,(d=h.value)==null||d.resetFields()},V=()=>{},f=q({value:[],get(){Ne().then(d=>{f.value=d})}});return v({open(d,p="select",M){s.tag=p,s.visible=!0,r.ids=d,f.value=M}}),(d,p)=>{const M=me,b=Ie,g=Ve,u=Re,m=fe,w=ae,R=pe;return I(),O(R,{"model-value":e(s).visible,"show-close":!e(s).loading,"close-on-press-escape":!1,title:e(s).tag=="all"?"\u4E00\u952E\u8BBE\u7F6E\u6536\u8D39":"\u6279\u91CF\u8BBE\u7F6E\u6536\u8D39",width:450,"z-index":20,top:"40vh","close-on-click-modal":!1,onClose:i,onOpened:V},{footer:t(()=>[o(w,{class:"ml-auto",size:"small",loading:e(s).loading,onClick:i},{default:t(()=>[S(" \u53D6\u6D88 ")]),_:1},8,["loading"]),o(w,{class:"ml-auto",size:"small",type:"primary",loading:e(s).loading,onClick:p[4]||(p[4]=L=>e(l)())},{default:t(()=>[S(" \u4FDD\u5B58 ")]),_:1},8,["loading"])]),default:t(()=>[o(m,{ref_key:"ruleFormRef",ref:h,"label-width":"80px",model:e(r),rules:{buyMode:{required:!0,message:"\u8BF7\u9009\u62E9\u8BA1\u8D39\u65B9\u5F0F",trigger:"blur"},categories:{required:!0,message:"\u8BF7\u9009\u62E9\u89C6\u9891\u5206\u7C7B",trigger:"change"}},"hide-required-asterisk":!1},{default:t(()=>[e(s).tag=="all"?(I(),O(M,{key:0,label:"\u89C6\u9891\u5206\u7C7B",prop:"categories"},{default:t(()=>[o(we,{modelValue:e(r).categories,"onUpdate:modelValue":p[0]||(p[0]=L=>e(r).categories=L),style:{width:"100%"},type:"videoType",placeholder:"\u8BF7\u9009\u62E9\u89C6\u9891\u5206\u7C7B",checkStrictly:!0,"collapse-tags":"",props:{checkStrictly:!0,multiple:!0,emitPath:!0}},null,8,["modelValue"])]),_:1})):G("",!0),o(M,{label:"\u8BA1\u8D39\u65B9\u5F0F",prop:"buyMode"},{default:t(()=>[o(g,{modelValue:e(r).buyMode,"onUpdate:modelValue":p[1]||(p[1]=L=>e(r).buyMode=L)},{default:t(()=>[o(b,{label:1},{default:t(()=>[S(" \u6309\u90E8 ")]),_:1}),o(b,{label:2},{default:t(()=>[S(" \u6309\u96C6 ")]),_:1})]),_:1},8,["modelValue"])]),_:1}),o(M,{label:"\u6536\u8D39",prop:"chargingMode"},{default:t(()=>[o(g,{modelValue:e(r).chargingMode,"onUpdate:modelValue":p[2]||(p[2]=L=>e(r).chargingMode=L)},{default:t(()=>[o(b,{label:1},{default:t(()=>[S(" \u514D\u8D39 ")]),_:1}),o(b,{label:2},{default:t(()=>[S(" VIP\u514D\u8D39 ")]),_:1}),o(b,{label:3},{default:t(()=>[S(" \u91D1\u5E01\u70B9\u64AD ")]),_:1})]),_:1},8,["modelValue"])]),_:1}),e(r).chargingMode===3?(I(),O(M,{key:1,label:"\u70B9\u64AD\u91D1\u5E01",prop:"gold",rules:{required:!0,message:"\u8BF7\u8F93\u5165\u70B9\u64AD\u91D1\u5E01"}},{default:t(()=>[o(u,{spellcheck:"false",modelValue:e(r).gold,"onUpdate:modelValue":p[3]||(p[3]=L=>e(r).gold=L),modelModifiers:{number:!0},style:{width:"100%"},clearable:"",precision:0,"step-strictly":"",min:1,"value-on-clear":1,"controls-position":"right",placeholder:"\u8BF7\u8F93\u5165\u70B9\u64AD\u91D1\u5E01"},null,8,["modelValue"])]),_:1})):G("",!0)]),_:1},8,["model"])]),_:1},8,["model-value","show-close","title"])}}};export{ua as E,ba as _,pa as a,ia as b,_a as c,ha as d,ma as e,wa as f,ca as g,ga as h,ya as i,va as j,fa as v};
