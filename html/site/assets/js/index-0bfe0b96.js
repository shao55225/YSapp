import{c as I,v as L,i as D,j as A,l as N,_ as $}from"./entry-8561ffba.js";import{m as R}from"./message-48c984f7.js";import{E as z,a as T,P as M}from"./pagination-6c424080.js";import{g as U,d as j}from"./wangEditor-64871eac.js";import{e as P,_ as K,a as O}from"./videoList.vue_vue_type_script_setup_true_lang-ad9581d8.js";import{_ as Q}from"./videoAlbum-3de0ee4f.js";import{F as Y,b as g,Y as q,h as G,c as V,a as d,T as e,R as t,K as H,Q as w,am as J,an as W,o as f,a5 as u,V as v,ad as X}from"./vue-e9f47459.js";import"./el-date-picker-2f2b4ad1.js";/* empty css                       */import"./el-tab-pane-ea2b2b56.js";/* empty css                   */import"./index-c0591c39.js";const y=_=>(J("data-v-287c2864"),_=_(),W(),_),Z={class:"flex-y box"},ee={class:"flex-x-between search"},ae={class:"flex-center",style:{gap:"16px","font-size":"12px"}},le=y(()=>d("span",{style:{flexShrink:0}},"\u662F\u5426\u63A8\u8350",-1)),oe=y(()=>d("span",{style:{flexShrink:0}},"\u5206\u7C7B",-1)),te=y(()=>d("span",{style:{flexShrink:0}},"\u6027\u522B",-1)),ne=["onClick"],se={class:"flex-x-center"},ie={key:1,class:"icon svg-icon","aria-hidden":"true",style:{width:"50px",height:"38px"}},ue=y(()=>d("use",{"xlink:href":"#icon-morentouxiang1"},null,-1)),de=[ue],re=Y({__name:"index",setup(_){const r=g({pageIndex:1,pageSize:20,total:0}),l=q({loading:!1,data:[],searchVal:{keywords:"",order:"updateAt desc",categoryId:void 0,sex:void 0,recommend:void 0},selectList:[],load(c){r.value=c||r.value,l.loading=!0,U({page:r.value.pageIndex,limit:r.value.pageSize,...l.searchVal}).then(o=>{l.data=o.list,r.value.total=o.total}).finally(()=>{l.loading=!1})},handleSelectionChange(c){l.selectList=c},sortChnage({column:c,prop:o,order:i}){i?l.searchVal.order=`${o} ${i==="ascending"?"asc":"desc"}`:l.searchVal.order="",l.load()}}),x=g(),C=g(),p={del:c=>R({message:"\u786E\u5B9A\u8981\u5220\u9664\u5417\uFF1F",okEms:"\u5F71\u4EBA\u5220\u9664\u6210\u529F"},()=>j(c).then(o=>(l.load(),o))),search:()=>{r.value.pageIndex=1,l.load()}},b=g();return G(()=>{l.load()}),(c,o)=>{const i=I,h=z,k=T,F=D,n=N,E=X("MyImage"),S=A,B=L;return f(),V("div",Z,[d("div",ee,[d("div",null,[e(i,{type:"primary",onClick:o[0]||(o[0]=a=>{var s;return(s=C.value)==null?void 0:s.open({})})},{default:t(()=>[u(" \u65B0\u589E\u5F71\u4EBA ")]),_:1}),e(i,{onClick:o[1]||(o[1]=a=>{var s;return(s=x.value)==null?void 0:s.open({})})},{default:t(()=>[u(" \u4E00\u952E\u5220\u9664 ")]),_:1}),e(i,{type:"danger",disabled:l.selectList.length<=0,onClick:o[2]||(o[2]=a=>p.del(l.selectList.map(s=>s.id)))},{default:t(()=>[u(" \u6279\u91CF\u5220\u9664 ")]),_:1},8,["disabled"])]),d("div",ae,[le,e(k,{modelValue:l.searchVal.recommend,"onUpdate:modelValue":o[3]||(o[3]=a=>l.searchVal.recommend=a),class:"page-size",clearable:"",style:{width:"64px"},onChange:p.search},{default:t(()=>[e(h,{label:"\u662F",value:1}),e(h,{label:"\u5426",value:2})]),_:1},8,["modelValue","onChange"]),oe,e(Q,{type:"starType",checkStrictly:!0,"model-value":l.searchVal.categoryId||[],onChange:o[4]||(o[4]=a=>{l.searchVal.categoryId=a?a[a.length-1]:void 0,p.search()})},null,8,["model-value"]),te,e(k,{modelValue:l.searchVal.sex,"onUpdate:modelValue":o[5]||(o[5]=a=>l.searchVal.sex=a),class:"page-size",style:{width:"64px"},clearable:"",onChange:p.search},{default:t(()=>[e(h,{label:"\u7537",value:1}),e(h,{label:"\u5973",value:2}),e(h,{label:"\u672A\u77E5",value:3})]),_:1},8,["modelValue","onChange"]),e(F,{modelValue:l.searchVal.keywords,"onUpdate:modelValue":o[6]||(o[6]=a=>l.searchVal.keywords=a),onChange:p.search},null,8,["modelValue","onChange"])])]),H((f(),w(S,{data:l.data,class:"auto",stripe:!0,onSortChange:l.sortChnage,onSelectionChange:l.handleSelectionChange},{default:t(()=>[e(n,{type:"selection",width:"30"}),e(n,{prop:"id",label:"ID"},{default:t(({row:a,store:s})=>[d("div",{onClick:m=>s.toggleRowSelection(a,void 0)},v(a.id),9,ne)]),_:1}),e(n,{label:"\u5934\u50CF","min-width":"80",align:"center"},{default:t(({row:a})=>[d("div",se,[a.headImg?(f(),w(E,{key:0,src:a.headImg,style:{width:"50px",height:"38px"}},null,8,["src"])):(f(),V("svg",ie,de))])]),_:1}),e(n,{prop:"chineseName",label:"\u4E2D\u6587\u540D","min-width":"150","show-overflow-tooltip":!0}),e(n,{label:"\u5206\u7C7B",prop:"categoryName","min-width":"150"},{default:t(({row:a})=>[u(v(a.categoryName&&a.categoryName.length>0?a.categoryName.join(","):"-"),1)]),_:1}),e(n,{prop:"englishName",label:"\u82F1\u6587\u540D","min-width":"150","show-overflow-tooltip":!0}),e(n,{prop:"nickName",label:"\u522B\u540D","min-width":"150","show-overflow-tooltip":!0}),e(n,{prop:"video_num",label:"\u4EE3\u8868\u4F5C\u6570\u91CF","min-width":"150"}),e(n,{prop:"popularity",label:"\u4EBA\u6C14","min-width":"100"}),e(n,{prop:"nationality",label:"\u56FD\u7C4D","min-width":"100"}),e(n,{prop:"recommend",label:"\u63A8\u8350","min-width":"80"},{default:t(({row:a})=>[u(v(a.recommend===1?"\u662F":"\u5426"),1)]),_:1}),e(n,{prop:"userName",label:"\u6027\u522B","min-width":"50"},{default:t(({row:a})=>[u(v(a.sex===1?"\u7537":a.sex===2?"\u5973":"\u672A\u77E5"),1)]),_:1}),e(n,{prop:"updateAt",label:"\u66F4\u65B0\u65F6\u95F4",type:"date",width:"150",sortable:""}),e(n,{fixed:"right",label:"\u64CD\u4F5C",align:"right","min-width":"170"},{default:t(({row:a})=>[e(i,{type:"primary",link:"",onClick:s=>{var m;return(m=b.value)==null?void 0:m.open(a)}},{default:t(()=>[u(" \u89C6\u9891\u7BA1\u7406 ")]),_:2},1032,["onClick"]),e(i,{type:"primary",link:"",onClick:s=>{var m;return(m=C.value)==null?void 0:m.open(a)}},{default:t(()=>[u(" \u7F16\u8F91 ")]),_:2},1032,["onClick"]),e(i,{type:"danger",link:"",onClick:s=>p.del([a.id])},{default:t(()=>[u(" \u5220\u9664 ")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data","onSortChange","onSelectionChange"])),[[B,l.loading]]),e(M,{pageinfo:r.value,onChange:l.load},null,8,["pageinfo","onChange"]),e(P,{ref_key:"editorRef",ref:C,onLoad:l.load},null,8,["onLoad"]),e(K,{ref_key:"videoListRef",ref:b,onLoad:l.load},null,8,["onLoad"]),e(O,{ref_key:"allDelVueRef",ref:x,onLoad:l.load},null,8,["onLoad"])])}}});const ke=$(re,[["__scopeId","data-v-287c2864"]]);export{ke as default};
