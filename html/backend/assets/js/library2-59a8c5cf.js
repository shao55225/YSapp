import{_ as O,u as R,cs as k,E,h as H,s as W,b as Z,j as q,n as G,k as J,v as Q,T as X,o as Y,B as ee,m as te}from"./entry-9cc5c370.js";import{E as ae,a as le}from"./el-tab-pane-8ec9369b.js";/* empty css                        *//* empty css                   */import{p as oe}from"./plugHeader-c50619f4.js";import{g as ie}from"./videoType-587f3494.js";import{E as se}from"./index-bf5a11eb.js";import{Z as I,z as ne,m as w,L as b,u as t,U as l,S as i,p as n,R as K,aA as de,l as v,a6 as h,W as T,O as ce,ap as pe,aq as re,a as ue}from"./vue-11eabec3.js";const me=""+new URL("../svg/zhanwairuku_v3-ce65f1c1.svg",import.meta.url).href;const S=x=>(pe("data-v-1bc7d734"),x=x(),re(),x),_e={style:{height:"100%"},class:"flex-y"},fe={class:"card",style:{overflow:"hidden"}},he=de('<div class="flex-x-between" data-v-1bc7d734><div class="left" data-v-1bc7d734><img src="'+me+'" alt="" style="width:80px;height:80px;" data-v-1bc7d734><div class="flex-y" data-v-1bc7d734><p class="name" data-v-1bc7d734>\u7AD9\u5916\u5165\u5E93</p><p class="business" data-v-1bc7d734>\u5229\u7528\u91C7\u96C6\u83B7\u53D6\u5230\u7684\u5916\u90E8\u6570\u636E\u8FDB\u884C\u7AD9\u70B9\u53D1\u5E03</p></div></div></div>',1),ge={class:"flex-y card",style:{"margin-top":"24px",flex:"1",overflow:"auto",padding:"12px","justify-content":"flex-start"}},ve={class:"flex-x-between tips"},ye=S(()=>n("div",{class:"flex-y",style:{gap:"8px"}},[n("p",null,[n("i",{class:"iconfont icon-tishi2",style:{"font-size":"14px","margin-right":"8px",color:"#999"}}),h("\u63A5\u53E3\u8BF7\u6C42\u683C\u5F0F\uFF1APOST\uFF0CContent-Type\uFF1Ajson ")]),n("p",null,[n("i",{class:"iconfont icon-tishi2",style:{"font-size":"14px","margin-right":"8px",color:"#999"}}),h('"playInfo"\u7684\u62FC\u63A5\u89C4\u5219\u5982\u4E0B: ### \u5206\u9694\u4E0D\u540C\u6765\u6E90, :\u5206\u9694\u6765\u6E90\u548C\u64AD\u653E\u4FE1\u606F,$\u5206\u9694\u4E0D\u540C\u96C6\u6570\u64AD\u653E\u4FE1\u606F,$\u5206\u9694\u96C6\u6570\u548Curl\u64AD\u653E\u5730\u5740 ')]),n("p",null,[n("i",{class:"iconfont icon-tishi2",style:{"font-size":"14px","margin-right":"8px",color:"#999"}}),h("\u66F4\u65B0\u4E5F\u662F\u8D70\u53D1\u5E03\u63A5\u53E3\uFF0C\u5206\u7C7B+\u540D\u79F0\u4E00\u6837\u5373\u53EF\u66F4\u65B0\u6570\u636E")])],-1)),be={class:"flex-y-center"},xe={class:"flex-y-center",style:{gap:"12px",cursor:"pointer"}},Ce=["onClick"],Ve={style:{margin:"20px 0","border-bottom":"1px solid #d2ddec","padding-bottom":"6px"}},ke={class:"flex-y-center",style:{"margin-bottom":"16px"}},Ee=S(()=>n("span",{style:{"font-size":"12px","margin-right":"12px",width:"80px"}},"\u514D\u5BC6\u9A8C\u8BC1\u7801",-1)),we={style:{"text-align":"right","margin-top":"20px"}},Se=S(()=>n("p",null,null,-1)),ze={style:{height:"400px"}},$e=S(()=>n("div",{style:{width:"80px",cursor:"pointer"}},[n("span",null,"\u91C7\u96C6\u5206\u7C7B\xA0\xA0"),n("i",{class:"iconfont icon-tishi4",style:{"font-size":"12px",color:"#999"}})],-1)),Ie={__name:"library2",setup(x){const B=R();function N(s){const e=document.createElement("input");e.setAttribute("readonly","readonly"),e.setAttribute("value",s),document.body.appendChild(e),e.select(),document.execCommand("copy")&&(document.execCommand("copy"),E({position:"bottom-right",type:"success",message:"\u590D\u5236\u6210\u529F"})),document.body.removeChild(e)}const a=I({loading:!1,visible:!1,other:void 0,activeKey:1,data:[],save:ne("debounce")(()=>{let s=e=>e==null?void 0:e.map(m=>{if(m.values)return{id:m.id,values:m.values}}).filter(m=>m);k.set(a.other.site_id,{...a.other,video_category_map:s(a.data[1]),celebrity_category_map:s(a.data[2]),article_category_map:s(a.data[3])}).then(e=>{z(),E({position:"bottom-right",type:"success",message:"\u66F4\u65B0\u6210\u529F"}),c.load()}),console.log(a.data)},300)});function A(){let s=32;var e="ABCDEFGHJKMNPQRSTWXYZabcdefhijkmnprstwxyz2345678",m=e.length,p="";for(let g=0;g<s;g++)p+=e.charAt(Math.floor(Math.random()*m));r.code=p}function P(s,e){const m=ue([]);a.data[a.activeKey]||ie(s.toString(),e.site_id).then(p=>{const g=(d,_)=>{var f,C;return((C=(f=d[a.activeKey==1?"video_category_map":a.activeKey==2?"celebrity_category_map":"article_category_map"])==null?void 0:f.find(V=>V.id==_))==null?void 0:C.values)||""};p.forEach(d=>{d.parentId===0&&m.value.push({...d,value:d.id,label:d.name,values:g(e,d.id)})}),p.forEach(d=>{if(d.parentId!==0){const _=m.value.find(f=>f.value===d.parentId);_&&(_.children||(_.children=[]),_.children.push({...d,label:_.label+"/"+d.name,values:g(e,d.id)}))}}),a.data[a.activeKey]=m.value.map(d=>[d,(d==null?void 0:d.children)||[]]).flat(1/0),console.log(m.value,"====",a.data)}).finally(()=>{})}function j(){P(a.activeKey,a.other)}const z=()=>{a.visible=!1,a.other=void 0,a.data=[],a.activeKey=1},r=I({visible:!1,showPover:0,code:"",changeCode(s){k.set(s.site_id,{...s,site_id:s.site_id,code:r.code}).then(e=>{r.showPover=0,r.visible=!1,r.code="",E({position:"bottom-right",type:"success",message:"\u9A8C\u8BC1\u7801\u66F4\u65B0\u6210\u529F"}),c.load()})}}),c=I({data:[],loading:!1,searchVal:{},load(){c.loading=!0,k.batch(c.searchVal).then(s=>{c.data=s,console.log(s,"===")}).finally(()=>{c.loading=!1})},update(s){c.loading||k.set(s.site_id,{...s,site_id:s.site_id,open:s.open}).then(e=>{E({position:"bottom-right",type:"success",message:"\u72B6\u6001\u66F4\u65B0\u6210\u529F"})})}});return c.load(),(s,e)=>{const m=X,p=te,g=H,d=W,_=Z,f=q,C=se,V=Y,$=ae,D=le,L=G,F=J,y=Q;return v(),w("div",_e,[b((v(),w("div",fe,[l(oe,{style:{"margin-bottom":"0","margin-top":"-4px"}},{default:i(()=>[h("\u7AD9\u5916\u5165\u5E93")]),_:1}),he])),[[y,t(c).loading]]),b((v(),w("div",ge,[n("div",ve,[ye,n("div",be,[l(m,{modelValue:t(c).searchVal.name,"onUpdate:modelValue":e[0]||(e[0]=o=>t(c).searchVal.name=o),onBlur:e[1]||(e[1]=o=>t(c).load())},null,8,["modelValue"])])]),b((v(),K(V,{class:"auto",data:t(c).data,stripe:!0},{default:i(()=>[l(p,{prop:"site_id",label:"\u7AD9\u70B9",width:"120"},{default:i(({row:o})=>{var u,U;return[n("span",null,T(((U=(u=t(B).list)==null?void 0:u.find(M=>M.id==o.site_id))==null?void 0:U.name)||o.site_id),1)]}),_:1}),l(p,{label:"\u63A5\u53E3\u5F00\u5173",width:"120"},{default:i(({row:o})=>[l(g,{style:{"margin-left":"6px"},onChange:u=>t(c).update(o),modelValue:o.open,"onUpdate:modelValue":u=>o.open=u,"active-value":1,"inactive-value":0},null,8,["onChange","modelValue","onUpdate:modelValue"])]),_:1}),l(p,{"min-width":"150",label:"\u514D\u5BC6\u9A8C\u8BC1\u7801","show-overflow-tooltip":""},{default:i(({row:o})=>[n("div",xe,[n("span",{onClick:u=>N(o.code)},T(o.code),9,Ce),l(d,{color:"#4C83FF",onClick:u=>{t(r).showPover=o.site_id,t(r).visible=!0,t(r).code=o.code},middle:""},{default:i(()=>[l(t(ee))]),_:2},1032,["onClick"])]),t(r).showPover==o.site_id?(v(),K(C,{key:0,trigger:"click",visible:t(r).visible,title:"\u7F16\u8F91","popper-class":"timePover",placement:"bottom",width:400},{reference:i(()=>[Se]),default:i(()=>[n("div",Ve,[n("div",ke,[Ee,l(_,{placeholder:"\u8BF7\u8F93\u5165\u514D\u5BC6\u9A8C\u8BC1\u7801",style:{width:"250px"},maxlength:32,modelValue:t(r).code,"onUpdate:modelValue":e[2]||(e[2]=u=>t(r).code=u)},null,8,["modelValue"]),l(f,{type:"primary",onClick:e[3]||(e[3]=u=>A()),style:{"margin-left":"12px"},link:""},{default:i(()=>[h("\u968F\u673A\u751F\u6210")]),_:1})])]),n("div",we,[l(f,{size:"small",onClick:e[4]||(e[4]=u=>t(r).visible=!1)},{default:i(()=>[h(" \u53D6\u6D88 ")]),_:1}),l(f,{size:"small",type:"primary",disabled:!t(r).code,onClick:u=>t(r).changeCode(o)},{default:i(()=>[h(" \u786E\u8BA4 ")]),_:2},1032,["disabled","onClick"])])]),_:2},1032,["visible"])):ce("",!0)]),_:1}),l(p,{prop:"add_video_url",label:"\u89C6\u9891\u53D1\u5E03\u63A5\u53E3 "}),l(p,{prop:"add_celebrity_url",label:"\u5F71\u4EBA\u53D1\u5E03\u63A5\u53E3"}),l(p,{prop:"add_articles_url",label:"\u56FE\u6587\u53D1\u5E03\u63A5\u53E3"}),l(p,{fixed:"right",label:"\u64CD\u4F5C",align:"right",width:"180"},{default:i(({row:o})=>[l(f,{type:"primary",onClick:u=>{t(a).other=o,t(a).visible=!0},link:""},{default:i(()=>[h(" \u5206\u7C7B\u8F6C\u6362 ")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])),[[y,t(c).loading]]),l(F,{"model-value":t(a).visible,"show-close":!t(a).loading,"close-on-press-escape":!1,title:"\u5206\u7C7B\u8F6C\u6362",width:800,"z-index":20,onOpened:j,onClose:z,"close-on-click-modal":!1},{footer:i(()=>[l(f,{class:"ml-auto",size:"small",loading:t(a).loading,onClick:z},{default:i(()=>[h(" \u53D6\u6D88 ")]),_:1},8,["loading"]),l(f,{size:"small",loading:t(a).loading,type:"primary",class:"border-0 bg-orange group-hover:bg-orangeLight",onClick:e[7]||(e[7]=o=>t(a).save())},{default:i(()=>[h(" \u4FDD\u5B58 ")]),_:1},8,["loading"])]),default:i(()=>[b((v(),w("div",ze,[l(D,{modelValue:t(a).activeKey,"onUpdate:modelValue":e[5]||(e[5]=o=>t(a).activeKey=o),style:{"margin-top":"-12px"},onTabChange:e[6]||(e[6]=o=>P(t(a).activeKey,t(a).other))},{default:i(()=>[l($,{label:"\u89C6\u9891\u5206\u7C7B\u8F6C\u6362",name:1}),l($,{label:"\u5F71\u4EBA\u5206\u7C7B\u8F6C\u6362",name:2}),l($,{label:"\u56FE\u6587\u5206\u7C7B\u8F6C\u6362",name:3})]),_:1},8,["modelValue"]),b((v(),K(V,{class:"auto",data:t(a).data[t(a).activeKey],stripe:!0},{default:i(()=>[l(p,{label:"\u672C\u5730\u5206\u7C7B"},{default:i(({row:o})=>[n("span",null,T(o.label),1)]),_:1}),l(p,null,{header:i(()=>[l(L,{effect:"light",content:"\u591A\u4E2A\u91C7\u96C6\u5206\u7C7B\u7528\u82F1\u6587\u9017\u53F7\u9694\u5F00",placement:"bottom-start"},{default:i(()=>[$e]),_:1})]),default:i(({row:o})=>[l(_,{placeholder:"\u8BF7\u8F93\u5165",style:{width:"250px"},modelValue:o.values,"onUpdate:modelValue":u=>o.values=u},null,8,["modelValue","onUpdate:modelValue"])]),_:1})]),_:1},8,["data"])),[[y,t(a).loading]])])),[[y,t(a).loading]])]),_:1},8,["model-value","show-close"])])),[[y,t(c).loading]])])}}},De=O(Ie,[["__scopeId","data-v-1bc7d734"]]);export{De as default};
