import{u as U,b3 as w,b4 as S,b1 as F,E as g,j as L,m as $,h as M,o as N,k as A}from"./entry-9cc5c370.js";/* empty css                        */import{_ as P}from"./plugin3-bdcf3cee.js";import{_ as T}from"./plugin1-e87baf4d.js";import{_ as V}from"./plugin2-85f8feee.js";import{_ as j}from"./plugin9-aaf2a574.js";import{at as I,a as R,Z as z,l as n,R as O,S as r,p as i,u as a,m as d,O as u,W as f,U as _,a6 as v,P as W,af as Z}from"./vue-11eabec3.js";const q={class:"flex-y-center header",style:{gap:"0 16px"}},G={key:0,src:P},H={key:1,src:T},J={key:2,src:V},K={key:3,src:j},Q={class:"flex-y"},X={class:"name"},Y={class:"business"},ee={class:"jh_toolbox flex-y",style:{height:"360px",gap:"24px 0"}},te={class:"flex",style:{flex:"1"}},se={style:{flex:"1"},class:"flex-y"},oe={class:"toolTips"},ae=i("p",{class:"tip"},[i("i",{class:"icon iconfont icon-tishi2"}),v("\u4F7F\u7528\u8BF4\u660E\uFF1A")],-1),he={__name:"toolModel",emits:["close"],setup(ie,{expose:b,emit:x}){const E=I(),l=R(1),D=U(),t=z({visible:!1,data:{},list:[{type:1,title:"\u4F1A\u5458\u7CFB\u7EDF",identifying:"member",detail:["\u72B6\u6001\u5F00\u5173\u542F\u7528\u540E\u5BF9\u5E94\u7684\u7AD9\u70B9\u4E0B\u7684\u6A21\u677F\u4F1A\u51FA\u73B0\u4F1A\u5458\u56FE\u6807","\u591A\u4E2A\u7AD9\u70B9\u542F\u7528\u4F1A\u5458\u7CFB\u7EDF\uFF0C\u6240\u6709\u4F1A\u5458\u7684\u4FE1\u606F\u90FD\u4F1A\u6C47\u603B\u5230\u4F1A\u5458\u7CFB\u7EDF\u91CC"],hash:"eec1544714908da92042d8624c70e537"},{type:2,title:"\u5206\u9500\u7CFB\u7EDF",identifying:"agent",detail:["\u5206\u9500\u7CFB\u7EDF\u9700\u8981\u642D\u914D\u4F1A\u5458\u7CFB\u7EDF\u4F7F\u7528\uFF0C\u5982\u672A\u5F00\u542F\u4F1A\u5458\u7CFB\u7EDF\uFF0C\u5206\u9500\u7CFB\u7EDF\u4E0D\u751F\u6548"],hash:"EB1DFDA777F5748E3FBC2338DA9D07B6"},{type:3,title:"\u5BA2\u670D\u7CFB\u7EDF",identifying:"customer",detail:["\u72B6\u6001\u5F00\u5173\u542F\u7528\u540E\u5BF9\u5E94\u7684\u7AD9\u70B9\u4E0B\u7684\u6A21\u677F\u4F1A\u51FA\u73B0\u5BA2\u670D\u56FE\u6807","\u591A\u4E2A\u7AD9\u70B9\u542F\u7528\u5BA2\u670D\uFF0C\u6240\u6709\u7528\u6237\u7684\u54A8\u8BE2\u6D88\u606F\u90FD\u4F1A\u6C47\u603B\u5230\u5BA2\u670D\u9762\u677F\u91CC"],hash:"BD5EF79F6EB14E547A87F868BCE327A3"},{type:4,title:"\u7559\u8A00\u7CFB\u7EDF",detail:["\u72B6\u6001\u5F00\u5173\u542F\u7528\u540E\u5BF9\u5E94\u7684\u7AD9\u70B9\u4E0B\u7684\u6A21\u677F\u4F1A\u51FA\u73B0\u7559\u8A00\u9762\u677F","\u591A\u4E2A\u7AD9\u70B9\u542F\u7528\u7559\u8A00\u7CFB\u7EDF\uFF0C\u6240\u6709\u7528\u6237\u7684\u7559\u8A00\u6D88\u606F\u90FD\u4F1A\u6C47\u603B\u5230\u7559\u8A00\u7CFB\u7EDF\u91CC"],desc:"\u65B9\u4FBF\u7528\u6237\u7559\u8A00\u5BFB\u6C42\u5E2E\u52A9",path:"sysPlugingLeave",identifying:"message",hash:""}],load(){w().then(o=>{t.list.forEach(e=>{e.ids=[];let s=o.find(p=>p.hash==e.hash);s&&(e.status=s.status,e.adminUrl=s.adminUrl,e.apiDocUrl=s.apiDocUrl,e.apiLabelDocUrl=s.apiLabelDocUrl,e.businessDesc=s.businessDesc)}),t.pull()})},pull(){S().then(o=>{for(let e in o)t.list.forEach(s=>{s.identifying==e&&(s.ids=o[e])});t.data=t.list.find(e=>e.type==l.value)})}}),h={changeModel(o){var e;F({siteId:o.id,status:(e=t.data.ids)!=null&&e.includes(o.id)?"close":"open",identifying:t.data.identifying}).then(s=>{g({position:"bottom-right",type:"success",message:"\u72B6\u6001\u66F4\u65B0\u6210\u529F"}),t.pull()})},toPath(o=t.data.path,e=t.data.hash){if(o=="x")g({position:"bottom-right",type:"success",message:"\u6B63\u5728\u5F00\u53D1\u4E2D"});else if(e)window.open(t.data.adminUrl);else{const s=E.resolve({name:o});window.open(s.href,"_blank")}},close(){x("close"),t.visible=!1,l.value==1}};return b({open(o){l.value=o,t.load(),t.visible=!0}}),(o,e)=>{const s=L,p=$,k=M,B=N,C=A;return n(),O(C,{"model-value":a(t).visible,"close-on-press-escape":!1,"show-close":!0,class:"jh_toolModel",width:900,"z-index":20,"close-on-click-modal":!1,"destroy-on-close":!0,onClose:e[1]||(e[1]=m=>h.close())},{header:r(()=>[i("div",q,[a(l)==1?(n(),d("img",G)):u("",!0),a(l)==2?(n(),d("img",H)):u("",!0),a(l)==3?(n(),d("img",J)):u("",!0),a(l)==4?(n(),d("img",K)):u("",!0),i("div",Q,[i("p",X,f(a(t).data.title),1),i("p",Y,f(a(t).data.desc||a(t).data.businessDesc),1)])])]),default:r(()=>{var m;return[i("div",ee,[i("div",null,[_(s,{type:"primary",disabled:((m=a(t).data.ids)==null?void 0:m.length)<=0,onClick:e[0]||(e[0]=c=>h.toPath())},{default:r(()=>[v("\u8FDB\u5165\u7CFB\u7EDF")]),_:1},8,["disabled"])]),i("div",te,[i("div",se,[_(B,{data:a(D).list,stripe:!0,style:{height:"300px"}},{default:r(()=>[_(p,{property:"name",label:"\u7AD9\u70B9\u540D\u79F0"}),_(p,{property:"open",width:"100",align:"center",label:"\u72B6\u6001"},{default:r(({row:c})=>{var y;return[_(k,{"inline-prompt":"","active-text":"\u542F\u7528\u4E2D","inactive-text":"\u672A\u542F\u7528","model-value":(y=a(t).data.ids)==null?void 0:y.includes(c.id),onChange:le=>h.changeModel(c)},null,8,["model-value","onChange"])]}),_:1})]),_:1},8,["data"])]),i("div",oe,[ae,i("ul",null,[(n(!0),d(W,null,Z(a(t).data.detail,c=>(n(),d("li",null,f(c),1))),256))])])])])]}),_:1},8,["model-value"])}}};export{he as _};
