import{T as f,E as m}from"./wangEditor.vue_vue_type_style_index_0_scoped_ecc7ed11_lang-d1f96ae7.js";import{R as c,_ as g}from"./entry-9cc5c370.js";import{G as y,s as x,A as h,l as b,m as D,U as n,u as r,X as w}from"./vue-11eabec3.js";const C=o=>c({url:"/upload",method:"post",data:o}),v={style:{border:"1px solid #ccc","max-width":"100%"}},B=y({__name:"wangEditor",props:{modelValue:{type:String,default:""},height:{type:String,default:"400px"},config:{type:Object,default:()=>({})},toolbarCfg:{type:Object,default:()=>({excludeKeys:["group-video","todo"]})},type:{type:String,default:""}},emits:["update:modelValue"],setup(o,{emit:s}){const l=o,d=x(),u={uploadImage:{customUpload(a,t){const e=new FormData;e.append("file",a),e.append("exts","jpg,jpeg,png,gif"),C(e).then(p=>{t(location.origin+p.path)})}}},i=(a,t)=>{console.log(l.type);let e;if(l.type==="html")e=t.clipboardData.getData("text/html");else if(l.type==="text")e=t.clipboardData.getData("text/plain");else if(l.type==="rtf")e=t.clipboardData.getData("text/rtf");else return!0;return a.insertText(e),t.preventDefault(),!1};return h(()=>{const a=d.value;a!=null&&a.destroy()}),(a,t)=>(b(),D("div",v,[n(r(f),{style:{"border-bottom":"1px solid #ccc"},editor:r(d),"default-config":o.toolbarCfg,mode:"simple"},null,8,["editor","default-config"]),n(r(m),{"model-value":o.modelValue,style:w(`height: ${o.height}; overflow-y: hidden;`),"default-config":{placeholder:"\u8BF7\u8F93\u5165\u5185\u5BB9...",...o.config,MENU_CONF:u},mode:"simple",onCustomPaste:i,"onUpdate:modelValue":t[0]||(t[0]=e=>s("update:modelValue",e)),onOnCreated:t[1]||(t[1]=e=>{d.value=e})},null,8,["model-value","style","default-config"])]))}}),j=g(B,[["__scopeId","data-v-ecc7ed11"]]);export{j as w};
