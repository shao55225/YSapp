import{ct as ve,cu as se,E as B,cv as ie,j as Q,m as Y,h as z,d as ue,f as de,o as ee,v as re,_ as te,b as pe,c as we,F as ye,G as $e,i as be,k as xe,cw as Ce,cx as H,u as ke,ck as Oe,cy as Ve,C as M,cz as Ee,cA as qe,cB as We,cC as Pe,bT as Re,cD as Fe,cE as Se,cF as Ie}from"./entry-9cc5c370.js";import{a as j,Z as L,d as X,l as r,m as C,p as l,U as a,S as s,a6 as m,L as ae,R,P as Z,af as K,O as S,W as A,ap as ce,aq as me,G as Be,a7 as De,u as d,D as Ue,M as Ae,aA as Le}from"./vue-11eabec3.js";import{_ as Ne,p as je}from"./plugHeader-c50619f4.js";/* empty css                        */const Te=""+new URL("../png/plugin10-4d4fc1a0.png",import.meta.url).href,Je={class:"flex-y box"},ze={class:"flex-x-between"},Ge={__name:"list",emits:["show","initRew"],setup(V,{emit:q}){j();const w=j({pageIndex:1,pageSize:20,total:0}),f=n=>{q("show",{status:!0,gid:n==null?void 0:n.cfgId,name:n==null?void 0:n.name})},g=L({loading:!1,data:[],load(n){w.value=n||w.value,!g.loading&&(g.loading=!0,ve({page:w.value.pageIndex,limit:w.value.pageSize,...g.searchVal}).then(_=>{g.data=_.list;const D=[];g.data.forEach(y=>{D.push({label:y.name,value:y.id})}),w.value.total=_.total}).finally(()=>{g.loading=!1}))}}),k=L({list:[]}),E=n=>{},t=n=>{if(g.loading)return;n.loading=!0;const _={open:n.open,cfgId:n.cfgId,siteId:n.id};se(_).then(()=>{B({position:"bottom-right",type:"success",message:"\u72B6\u6001\u66F4\u65B0\u6210\u529F"}),g.load()}).catch(()=>{n.open=!n.open}).finally(()=>{n.loading=!1})},e=n=>{const _={open:n.open,cfgId:n.cfgId,siteId:n.id};se(_).then(()=>{g.load(),B({position:"bottom-right",type:"success",message:"\u4FEE\u6539\u6210\u529F"})})},$=()=>{ie().then(n=>{k.list=n.list}).finally(()=>{})};return X(()=>{g.load(),$()}),(n,_)=>{const D=Q,y=Y,h=z,o=ue,p=de,b=ee,O=re;return r(),C("div",Je,[l("div",ze,[a(D,{type:"primary",onClick:_[0]||(_[0]=x=>f())},{default:s(()=>[m(" \u914D\u7F6E\u7BA1\u7406 ")]),_:1})]),ae((r(),R(b,{data:g.data,class:"auto",stripe:!0},{default:s(()=>[a(y,{prop:"id",label:"ID","min-width":"90"}),a(y,{prop:"name",label:"\u7AD9\u70B9\u540D\u79F0","min-width":"120"}),a(y,{prop:"open",label:"\u662F\u5426\u5F00\u542F","min-width":"100"},{default:s(({row:x})=>[a(h,{modelValue:x.open,"onUpdate:modelValue":W=>x.open=W,"active-value":!0,loading:x.loading,"inactive-value":!1,"before-change":E(x),onChange:W=>t(x)},null,8,["modelValue","onUpdate:modelValue","loading","before-change","onChange"])]),_:1}),a(y,{label:"\u7ED1\u5B9A\u914D\u7F6E","min-width":"130"},{default:s(({row:x})=>[a(p,{modelValue:x.cfgId,"onUpdate:modelValue":W=>x.cfgId=W,placeholder:"\u9009\u62E9\u4F2A\u9759\u6001",style:{width:"150px"},onChange:W=>e(x)},{default:s(()=>[(r(!0),C(Z,null,K(k.list,(W,J)=>(r(),R(o,{key:J,label:W.title,value:W.id},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue","onChange"])]),_:1})]),_:1},8,["data"])),[[O,g.loading]])])}}};const ge=V=>(ce("data-v-f8bc9984"),V=V(),me(),V),Me={class:"flex-x",style:{width:"100%"}},He={style:{flex:"1"}},Ze={class:"jh_config"},Ke={class:"title"},Qe=ge(()=>l("div",null,"\u5FC5\u586B\u53C2\u6570",-1)),Xe={key:0,class:"ignoreOverflow_emty"},Ye={key:0,class:"card-box flex-x",style:{"overflow-y":"auto"}},et=["onClick"],tt={class:"lig_p"},at={class:"title"},lt=ge(()=>l("div",null,"\u53EF\u9009\u53C2\u6570",-1)),ot={key:0,class:"ignoreOverflow_y_emty"},st={key:1,class:"card-box flex-x",style:{"overflow-y":"auto"}},nt=["onClick"],it={class:"lig_p"},ut={__name:"addstaticdialog",props:{gid:{type:String,default:""}},emits:["updata"],setup(V,{expose:q,emit:w}){const f=V,g={$15:{name:"\u64AD\u653E\u5730\u5740id",val:15,note:"line_id"},$14:{name:"\u6536\u8D39\u6A21\u5F0F\u7B5B\u9009id",val:14,note:"mode"},$11:{name:"\u9898\u6750\u7B5B\u9009id",val:11,note:"tag_id"},$10:{name:"\u8BED\u8A00\u7B5B\u9009Id",val:10,note:"lang_id"},$9:{name:"\u5730\u533A\u7B5B\u9009Id",val:9,note:"area_id"},$8:{name:"\u5E74\u4EFD\u7B5B\u9009Id",val:8,note:"year_id"},$7:{name:"\u5206\u7C7Bid",val:7,note:"cate_id"},$6:{name:"\u7C7B\u578Bid",val:6,note:"type_id"},$5:{name:"\u6570\u91CF",val:5,note:"limit"},$4:{name:"\u5206\u9875",val:1,note:"page"},$3:{name:"\u5173\u952E\u5B57",val:1,note:"keyword"},$1:{name:"id",val:1,note:"id"}},k=j(),E={title:[{required:!0,message:"\u8BF7\u8F93\u5165\u9875\u9762\u540D\u79F0",trigger:"blur"}],path:[{required:!0,message:"\u8BF7\u8F93\u5165\u9875\u9762\u8DEF\u5F84",trigger:"blur"}],rule:[{required:!0,message:"\u8BF7\u8F93\u5165\u9875\u9762\u89C4\u5219",trigger:"blur"}]},t=L({other:void 0,visable:!1,loading:!1,tag:void 0,requParam:{},params:{}}),e=L({title:"",path:"",status:1,openWindow:2,ignoreOverflow:1,rule:"",tag:"",requParam:""}),$=()=>{var h;(h=k.value)==null||h.resetFields(),e.tag="",e.requParam="",e.params="",e.title="",e.path="",t.requParam={},t.params={},t.visable=!1},n=async()=>{if(await k.value.validate()){t.loading=!0;let o=JSON.parse(JSON.stringify(e)),p=JSON.parse(JSON.stringify(t.other.rules||{})),b={rule:e.rule,openWindow:e.openWindow,status:e.status,ignoreOverflow:e.ignoreOverflow};switch(t.tag.op){case 0:o.rules=[b];break;case 1:o.rules=[...p,b];break;case 2:o.rules=[b,...p.slice(1)];break;case 3:p[t.tag.tIndex]=b,o.rules=p;break}[()=>Ce(f.gid,o),()=>H(f.gid,o,o.id)][t.tag.op==0?0:1]().then(()=>{setTimeout(()=>{var x;B({position:"bottom-right",type:"success",message:((x=t.tag)==null?void 0:x.op)<2?"\u6DFB\u52A0\u6210\u529F":"\u4FEE\u6539\u6210\u529F"}),w("updata"),$(),t.loading=!1},500)}).catch(()=>{t.loading=!1})}},_=h=>{const o=document.createElement("input");o.setAttribute("readonly","readonly"),o.setAttribute("value",h),document.body.appendChild(o),o.select(),document.execCommand("copy")&&(document.execCommand("copy"),B({position:"bottom-right",type:"success",message:"\u590D\u5236\u6210\u529F"})),document.body.removeChild(o)};function D(){var h,o,p;if([2,3].includes((h=t.tag)==null?void 0:h.op)){let b={...t.other,...t.other.rules[t.tag.tIndex||0]};Object.keys(e).forEach(O=>{e[O]=b[O]===void 0?e[O]:b[O]}),e.id=(o=t.other)==null?void 0:o.id}else(p=k.value)==null||p.resetFields(),e.path="",e.title="",t.tag.op!==0&&(e.path=t.other.path,e.requParam=t.other.requParam,e.tag=t.other.tag,e.title=t.other.title,e.id=t.other.id);y(t.other.requParam)}const y=h=>{if(!h){t.requParam={},t.params=g;return}let o=h.split(",");Object.keys(g).forEach(p=>{o.includes(String(p))?t.requParam[p]=g[p]:t.params[p]=g[p]})};return q({open:(h,o)=>{t.tag=o,t.other=h,t.visable=!0}}),(h,o)=>{var c,F;const p=pe,b=we,O=z,x=ye,W=$e,J=be,G=Q,i=xe;return r(),R(i,{modelValue:t.visable,"onUpdate:modelValue":o[6]||(o[6]=v=>t.visable=v),title:((c=t.tag)==null?void 0:c.op)==0?"\u6DFB\u52A0\u89C4\u5219":((F=t.tag)==null?void 0:F.op)==1?"\u65B0\u589E\u62D3\u5C55\u89C4\u5219":"\u7F16\u8F91\u89C4\u5219",width:"772px","before-close":$,onOpen:D,"destroy-on-close":"",top:"10vh"},{footer:s(()=>[a(G,{onClick:$,loading:t.loading},{default:s(()=>[m("\u53D6\u6D88")]),_:1},8,["loading"]),a(G,{type:"primary",onClick:n,loading:t.loading},{default:s(()=>[m(" \u63D0\u4EA4 ")]),_:1},8,["loading"])]),default:s(()=>[l("div",Me,[a(J,{ref_key:"ruleFormRef",ref:k,"label-width":"80px",model:e,rules:E,"hide-required-asterisk":!1},{default:s(()=>[[0,2].includes(t.tag.op)?(r(),R(b,{key:0,label:"\u9875\u9762\u540D\u79F0",prop:"title"},{default:s(()=>[a(p,{style:{width:"240px"},spellcheck:"false",modelValue:e.title,"onUpdate:modelValue":o[0]||(o[0]=v=>e.title=v),modelModifiers:{trim:!0},clearable:"",class:"input",placeholder:"\u8BF7\u8F93\u5165\u540D\u79F0"},null,8,["modelValue"])]),_:1})):S("",!0),a(b,{label:"\u9875\u9762\u89C4\u5219",prop:"rule"},{default:s(()=>[a(p,{spellcheck:"false",style:{width:"240px"},modelValue:e.rule,"onUpdate:modelValue":o[1]||(o[1]=v=>e.rule=v),clearable:"",class:"input",placeholder:"\u8BF7\u8F93\u5165\u89C4\u5219"},null,8,["modelValue"])]),_:1}),[0,2].includes(t.tag.op)?(r(),R(b,{key:1,label:"\u9875\u9762\u8DEF\u5F84",prop:"path"},{default:s(()=>[a(p,{spellcheck:"false",style:{width:"240px"},modelValue:e.path,"onUpdate:modelValue":o[2]||(o[2]=v=>e.path=v),clearable:"",class:"input",placeholder:"\u8BF7\u8F93\u5165\u9875\u9762\u8DEF\u5F84"},null,8,["modelValue"])]),_:1})):S("",!0),a(b,{label:"\u89C4\u5219\u72B6\u6001",prop:"status"},{default:s(()=>[a(O,{modelValue:e.status,"onUpdate:modelValue":o[3]||(o[3]=v=>e.status=v),"active-value":1,"inactive-value":2},null,8,["modelValue"])]),_:1}),a(b,{label:"\u65B0\u5F00\u7A97\u53E3",prop:"openWindow"},{default:s(()=>[a(O,{modelValue:e.openWindow,"onUpdate:modelValue":o[4]||(o[4]=v=>e.openWindow=v),"active-value":1,"inactive-value":2},null,8,["modelValue"])]),_:1}),a(b,{label:"\u5FFD\u7565\u53C2\u6570",prop:"ignoreOverflow"},{default:s(()=>[a(W,{modelValue:e.ignoreOverflow,"onUpdate:modelValue":o[5]||(o[5]=v=>e.ignoreOverflow=v)},{default:s(()=>[a(x,{label:1,class:"danger_radio"},{default:s(()=>[m("\u5FFD\u7565")]),_:1}),a(x,{label:2},{default:s(()=>[m("\u4E0D\u5FFD\u7565")]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model"]),l("div",He,[l("div",Ze,[l("div",Ke,[Qe,Object.keys(t.requParam).length==0?(r(),C("div",Xe," \u6682\u65E0\u53C2\u6570 ")):S("",!0)]),Object.keys(t.requParam).length>0?(r(),C("div",Ye,[(r(!0),C(Z,null,K(t.requParam,(v,U)=>(r(),C("div",{onClick:I=>_(U),class:"cfg_item"},[l("p",null,A(U),1),l("p",tt,A(v.note),1),l("p",null,A(v.name),1)],8,et))),256))])):S("",!0),l("div",at,[lt,Object.keys(t.params).length==0?(r(),C("div",ot," \u6682\u65E0\u53C2\u6570 ")):S("",!0)]),Object.keys(t.params).length>0?(r(),C("div",st,[(r(!0),C(Z,null,K(t.params,(v,U)=>(r(),C("div",{onClick:I=>_(String(U)),class:"cfg_item"},[l("p",null,A(U),1),l("p",it,A(v.note),1),l("p",null,A(v.name),1)],8,nt))),256))])):S("",!0)])])])]),_:1},8,["modelValue","title"])}}},dt=te(ut,[["__scopeId","data-v-f8bc9984"]]),rt={key:0,class:"ignoreOverflow_y"},pt={key:1,class:"ignoreOverflow_n"},ct=Be({__name:"expandtabel",props:{data:null,gid:null},emits:["deletestaticstatic","openaddstaticdialog"],setup(V,{emit:q}){const w=V,{data:f}=De(w),g=L({data:[]}),k=(t,e)=>{console.log(t,e,f.value.row),f.value.row.rules[e+1].status=t.status,f.value.row.rules[e+1].openWindow=t.openWindow,H(w.gid,f.value.row,f.value.row.id).then(()=>{B({position:"bottom-right",type:"success",message:"\u4FEE\u6539\u6210\u529F"})})};X(()=>{E(f.value.row.rules)});const E=t=>{t.length>0&&(g.data=JSON.parse(JSON.stringify(t)),g.data.shift())};return(t,e)=>{const $=Y,n=z,_=Q,D=ee;return r(),R(D,{data:g.data,style:{flex:"1"},height:"auto",class:"expandTable"},{default:s(()=>[a($,{width:"240"}),a($,{label:"\u62D3\u5C55\u89C4\u5219",prop:"rule",width:"400"}),a($,{label:"\u89C4\u5219\u72B6\u6001",prop:"status",width:"200"},{default:s(({row:y,$index:h})=>[a(n,{modelValue:y.status,"onUpdate:modelValue":o=>y.status=o,"active-value":1,"inactive-value":2,onChange:o=>k(y,h)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),_:1}),a($,{label:"\u65B0\u7A97\u53E3\u6253\u5F00",prop:"openWindow",width:"200"},{default:s(({row:y,$index:h})=>[a(n,{modelValue:y.openWindow,"onUpdate:modelValue":o=>y.openWindow=o,"active-value":1,"inactive-value":2,onChange:o=>k(y,h)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),_:1}),a($,{label:"\u672A\u4F7F\u7528\u53C2\u6570",prop:"ignoreOverflow",width:"200"},{default:s(({row:y})=>[y.ignoreOverflow==1?(r(),C("div",rt," \u5FFD\u7565 ")):(r(),C("div",pt,"\u4E0D\u5FFD\u7565"))]),_:1}),a($),a($,{fixed:"right",label:"\u64CD\u4F5C",align:"right",width:"135"},{default:s(({row:y,$index:h})=>[a(_,{type:"primary",link:"",onClick:o=>{var p;return q("openaddstaticdialog",(p=d(f))==null?void 0:p.row,{op:3,tIndex:h+1})}},{default:s(()=>[m(" \u7F16\u8F91 ")]),_:2},1032,["onClick"]),a(_,{type:"danger",link:"",onClick:o=>{var p;return q("deletestaticstatic",(p=d(f))==null?void 0:p.row,h)}},{default:s(()=>[m(" \u5220\u9664 ")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])}}}),ne={data:[{path:"/vod/index.html",title:"\u89C6\u9891\u5206\u7C7B\u9996\u9875",requParam:"$6,$7,$8,$9,$10,$11,$14",rules:[{rule:"/vod/$4/$6/$7/$8/$9/$10/$11/$14",openWindow:2,status:1,ignoreOverflow:1}]},{path:"/vod/list.html",title:"\u89C6\u9891\u5206\u7C7B\u5217\u8868\u9875",requParam:"$6,$7,$8,$9,$10,$11,$14",rules:[{rule:"/vod/list/$4/$6/$7/$8/$9/$10/$11/$14",openWindow:2,status:1,ignoreOverflow:1}]},{path:"/vod/detail.html",title:"\u89C6\u9891\u8BE6\u60C5\u9875",requParam:"$1,$6",rules:[{rule:"/vod/detail/$1/$6/$7",openWindow:2,status:1,ignoreOverflow:1}]},{path:"/vod/player.html",title:"\u89C6\u9891\u64AD\u653E\u9875",requParam:"$1,$6,$15",rules:[{rule:"/vod/player/$1/$6/$7/$15",openWindow:2,status:1,ignoreOverflow:1}]},{path:"/vod/player2.html",title:"\u89C6\u9891\u64AD\u653E\u98752",requParam:"$1,$6,$15",rules:[{rule:"/vod/player2/$1/$6/$7/$15",openWindow:2,status:1,ignoreOverflow:1}]},{path:"/star/index.html",title:"\u660E\u661F\u9996\u9875",requParam:"",rules:[{rule:"/star/$4",openWindow:2,status:1,ignoreOverflow:1}]},{path:"/star/list.html",title:"\u660E\u661F\u5217\u8868\u9875",requParam:"",rules:[{rule:"/star/list/$6/$4",openWindow:2,status:1,ignoreOverflow:1}]},{path:"/star/detail.html",title:"\u660E\u661F\u8BE6\u60C5\u9875",requParam:"$1",rules:[{rule:"/star/detail/$1/$4",openWindow:2,status:1,ignoreOverflow:1}]},{path:"/star/info.html",title:"\u660E\u661F\u8D44\u6599\u9875",requParam:"$1",rules:[{rule:"/star/info/$1",openWindow:2,status:1,ignoreOverflow:1}]},{path:"/star/text.html",title:"\u660E\u661F\u56FE\u6587\u9875",requParam:"$1",rules:[{rule:"/star/text/$1/$4",openWindow:2,status:1,ignoreOverflow:1}]},{path:"/topic/index.html",title:"\u4E13\u9898\u9996\u9875",requParam:"",rules:[{rule:"/topic/$4",openWindow:2,status:1,ignoreOverflow:1}]},{path:"/topic/detail.html",title:"\u4E13\u9898\u8BE6\u60C5\u9875",requParam:"$1",rules:[{rule:"/topic/detail/$1/$4",openWindow:2,status:1,ignoreOverflow:1}]},{path:"/text/index.html",title:"\u8D44\u8BAF\u9996\u9875",requParam:"",rules:[{rule:"/text/$6/$4",openWindow:2,status:1,ignoreOverflow:1}]},{path:"/text/list.html",title:"\u8D44\u8BAF\u5217\u8868\u9875",requParam:"$6",rules:[{rule:"/text/list/$6/$7/$4",openWindow:2,status:1,ignoreOverflow:2}]},{path:"/text/detail.html",title:"\u8D44\u8BAF\u8BE6\u60C5\u9875",requParam:"$1",rules:[{rule:"/text/detail/$1/$4/$6/$7",openWindow:2,status:1,ignoreOverflow:1}]},{path:"/rank/index.html",title:"\u6392\u884C\u9996\u9875",requParam:"",rules:[{rule:"/rank/$4/$6",openWindow:2,status:1,ignoreOverflow:1}]},{path:"/rank/vod.html",title:"\u6392\u884C\u5F71\u89C6\u9875",requParam:"",rules:[{rule:"/rank/vod/$6/$4",openWindow:2,status:1,ignoreOverflow:1}]},{path:"/rank/star.html",title:"\u6392\u884C\u660E\u661F\u9875",requParam:"",rules:[{rule:"/rank/star/$4",openWindow:2,status:1,ignoreOverflow:1}]},{path:"/rank/text.html",title:"\u6392\u884C\u8D44\u8BAF\u9875",requParam:"",rules:[{rule:"/rank/text/$4",openWindow:2,status:1,ignoreOverflow:1}]},{path:"/rank/choice.html",title:"\u6392\u884C\u7CBE\u9009\u9875",requParam:"",rules:[{rule:"/rank/choice/$4",openWindow:2,status:1,ignoreOverflow:1}]},{path:"/rank/latest.html",title:"\u6392\u884C\u6700\u65B0\u9875",requParam:"",rules:[{rule:"/rank/latest/$4",openWindow:2,status:1,ignoreOverflow:1}]},{path:"/app/index.html",title:"app\u4E0B\u8F7D\u9996\u9875",requParam:"",rules:[{rule:"/app",openWindow:2,status:1,ignoreOverflow:1}]},{path:"/vod/history.html",title:"\u5F71\u7247\u5386\u53F2\u8BB0\u5F55",requParam:"",rules:[{rule:"/vod/history",openWindow:2,status:1,ignoreOverflow:1}]},{path:"/notice/index.html",title:"\u516C\u544A\u9996\u9875",requParam:"",rules:[{rule:"/notice",openWindow:2,status:1,ignoreOverflow:1}]},{path:"/message/index.html",title:"\u7559\u8A00\u9996\u9875",requParam:"",rules:[{rule:"/message",openWindow:2,status:1,ignoreOverflow:1}]},{path:"/vod/gather.html",title:"\u91C7\u96C6\u6559\u7A0B",requParam:"",rules:[{rule:"/gather",openWindow:2,status:1,ignoreOverflow:1}]},{path:"/vod/request.html",title:"\u6C42\u7247\u5FC5\u5E94",requParam:"",rules:[{rule:"/request",openWindow:2,status:1,ignoreOverflow:1}]},{path:"/vod/todayup.html",title:"\u4ECA\u65E5\u66F4\u65B0",requParam:"",rules:[{rule:"/vod/todayup/$4",openWindow:2,status:1,ignoreOverflow:1}]},{path:"/vod/newonline.html",title:"\u65B0\u7247\u4E0A\u7EBF",requParam:"",rules:[{rule:"/vod/newonline/$4",openWindow:2,status:1,ignoreOverflow:1}]},{path:"/home.html",title:"\u7F51\u7AD9\u4E8C\u7EA7\u9996\u9875",requParam:"",rules:[{rule:"/home",openWindow:2,status:1,ignoreOverflow:1}]}]};const T=V=>(ce("data-v-45041731"),V=V(),me(),V),mt={style:{height:"100%"}},gt={class:"header_btn",style:{"margin-bottom":"16px",display:"flex","justify-content":"space-between"}},_t={class:"left",style:{gap:"0px"}},ht=T(()=>l("img",{style:{"margin-right":"6px"},src:Ne},null,-1)),ft=T(()=>l("div",null,"\u8FD4\u56DE",-1)),vt=[ht,ft],wt={key:0,style:{"font-size":"14px","margin-right":"12px","line-height":"32px"}},yt=T(()=>l("span",{style:{"margin-right":"12px"}},"|",-1)),$t={class:"right"},bt=T(()=>l("span",{style:{margin:"0 12px"}},"|",-1)),xt=T(()=>l("span",null,"\u4F2A\u9759\u6001\u89C4\u5219\u8BF4\u660E",-1)),Ct={key:0,class:"ignoreOverflow_y"},kt={key:1,class:"ignoreOverflow_n"},Ot={style:{color:"#4d7cfe"}},Vt=T(()=>l("div",{class:"rule_hint_box"},[l("ol",{class:"ol_box"},[l("p",null,[l("b",{style:{"font-size":"14px","font-weight":"700"}},"\u4F2A\u9759\u6001\u89C4\u5219\u8BF4\u660E")]),l("li",null,[m(" \u4F2A\u9759\u6001"),l("span",{style:{color:"red"}},"\u53D8\u91CF"),m("\u91C7\u7528"),l("span",{style:{color:"red"}},"\uFF08$+\u6570\u503C\uFF09"),m("\u65B9\u5F0F\u8868\u793A\u53C2\u6570 ")]),l("li",null,[l("span",{style:{color:"red"}},"\u4E0D\u652F\u6301"),m("\u540C\u65F6\u4E24\u4E2A\u53CA\u4EE5\u4E0A\u7684\u53D8\u91CF($?)"),l("span",{style:{color:"red"}},"\u5E76\u6392"),m("\uFF0C\u53EA\u80FD\u4EE5 "),l("span",{style:{color:"red"}},"\uFF08/\uFF09 \u5F00\u5934")]),l("li",null,"\u9519\u8BEF\u793A\u4F8B\uFF1A/video/$1$2.html \uFF0C video/xxx"),l("li",null,[m(" \u53D8\u91CF\u4E4B\u95F4\u5FC5\u987B\u4F7F\u7528\u5E38\u89C4\u5206\u5272\u7B26\u5206\u5272,"),l("span",{style:{color:"red"}},"\u5EFA\u8BAE"),m("\u4F7F\u7528\uFF1A"),l("span",{style:{color:"red"}},"(/)\u659C\u6760\u3001(-)\u4E2D\u6A2A\u7EBF\u3001(_)\u4E0B\u6A2A\u7EBF")]),l("li",null,[l("span",{style:{color:"red"}},"\u4E0D\u8981"),m("\u4F7F\u7528\u7279\u6B8A\u5B57\u7B26\uFF0C\u4F8B\u5982\uFF1A"),l("span",{style:{color:"red"}},"*\uFF0C%\uFF0C\u2026\u2026\uFF0C\u6570\u503C\uFF0C\u7B49"),m("\uFF0C\u5426\u5219\u65E0\u6CD5\u4F7F\u7528 ")]),l("li",null,"\u524D\u53F0\u9875\u9762\u65E0\u6CD5\u8BBF\u95EE\uFF0C\u8BF7\u6062\u590D\u9ED8\u8BA4\u6570\u636E")])],-1)),Et={__name:"static",emits:["show"],setup(V,{expose:q,emit:w}){const f=j(0);function g(i){f.value=f.value>0&&i.id>0?i.id:f.value==i.id?0:i.id}const k=ke();j("");const E=j(!1),t=L({name:"",info:{},data:[],props:[],loading:!1,loading3:!1,constant:{},form:[],options:{},maxSort:1,row:{},tabIndex:0,check(){t.loading||(t.loading=!0,Oe({hash:t.info.hash,status:t.info.status}).then(i=>{B({position:"bottom-right",type:"success",message:"\u72B6\u6001\u66F4\u65B0\u6210\u529F"})}).catch(()=>{t.info.status=t.info.status===0?1:0}).finally(i=>{setTimeout(()=>{t.loading=!1},2e3)}))}}),e=L({list:[],gid:null,title:""}),$=()=>{w("show")};X(()=>{O()});const n=j(),_=()=>{t.loading=!0,t.data=[],Ve(e.gid).then(i=>{i.data.length>0&&(t.data=i.data)}).finally(i=>{t.loading=!1})},D=async()=>{let i=ne;Fe(e.gid,i.data).then(()=>{_()})},y=()=>{M({message:"\u786E\u5B9A\u8981\u91CD\u7F6E\u6570\u636E\uFF1F\u91CD\u7F6E\u540E\u6570\u636E\u5C06\u6062\u590D\u81F3\u9ED8\u8BA4\uFF0C\u8BF7\u8C28\u614E\u64CD\u4F5C",okEms:"\u91CD\u7F6E\u6210\u529F"},()=>D())},h=i=>{M({message:"\u786E\u5B9A\u8981\u5220\u9664\u8BE5\u9879\u5417\uFF1F\u5220\u9664\u540E\u5C06\u6E05\u7A7A\u5176\u6240\u6709\u4FE1\u606F\u548C\u5185\u5BB9\uFF0C\u8BF7\u8C28\u614E\u64CD\u4F5C",okEms:"\u5220\u9664\u6210\u529F"},()=>Ee(e.gid,i.id).then(c=>(k.getAll(),_(),c)))},o=(i,c)=>{n.value.open(i,c)},p=(i,c)=>{const F=JSON.parse(JSON.stringify(i));F.rules=F.rules.filter((v,U)=>U!==c+1),M({message:"\u786E\u5B9A\u8981\u5220\u9664\u8BE5\u9879\u5417\uFF1F\u5220\u9664\u540E\u5C06\u6E05\u7A7A\u5176\u6240\u6709\u4FE1\u606F\u548C\u5185\u5BB9\uFF0C\u8BF7\u8C28\u614E\u64CD\u4F5C",okEms:"\u5220\u9664\u6210\u529F"},()=>H(e.gid,F,F.id).then(v=>(k.getAll(),_(),v)))},b=i=>{H(e.gid,i,i.id).then(()=>{B({position:"bottom-right",type:"success",message:"\u4FEE\u6539\u6210\u529F"})})},O=()=>ie().then(i=>{e.list=i.list}).finally(()=>{}),x=()=>{t.loading=!0;let i=ne;qe({title:`\u4F2A\u9759\u6001${e.list.length+1}`,data:i.data}).then(async c=>{await O(),e.gid=c,_()}).finally(()=>{t.loading=!1})},W=()=>{M({message:"\u786E\u5B9A\u8981\u5220\u9664\u8BE5\u914D\u7F6E\u5417\uFF1F\u5220\u9664\u524D\u8BF7\u68C0\u67E5\u662F\u5426\u6709\u7AD9\u70B9\u4F7F\u7528\u8BE5\u914D\u7F6E\u3002",okEms:"\u914D\u7F6E\u5220\u9664\u6210\u529F"},()=>We(e.gid).then(i=>{O(),e.gid="",t.data=[]}))},J=()=>{if(!e.title){B({position:"bottom-right",type:"error",message:"\u540D\u79F0\u4E0D\u80FD\u4E3A\u7A7A"});const i=e.list.filter(c=>c.id===e.gid);e.title=i[0].title;return}Pe(e.gid,{title:e.title}).then(async i=>{O(),B({position:"bottom-right",type:"success",message:"\u540D\u79F0\u4FEE\u6539\u6210\u529F"})}).finally(()=>{})},G=i=>{const c=e.list.filter(F=>F.id===i);e.title=c[0].title,_()};return q({openRule:(i,c)=>{e.gid=i,t.name=c,i?_():t.data=[]}}),(i,c)=>{const F=ue,v=de,U=pe,I=Q,N=Y,le=z,_e=ee,he=Re,fe=re;return r(),C("div",mt,[l("div",gt,[l("div",_t,[l("div",{style:{display:"flex","align-items":"center","margin-right":"16px",cursor:"pointer","padding-bottom":"4px"},onClick:$},vt),d(t).name?(r(),C("p",wt,[yt,m(" "+A(d(t).name),1)])):S("",!0),a(v,{modelValue:d(e).gid,"onUpdate:modelValue":c[0]||(c[0]=u=>d(e).gid=u),placeholder:"\u9009\u62E9\u914D\u7F6E",onChange:G,disabled:!!d(t).name,style:{width:"130px","margin-right":"12px"}},{default:s(()=>[(r(!0),C(Z,null,K(d(e).list,u=>(r(),R(F,{key:u.id,label:u.title,value:u.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue","disabled"])]),l("div",$t,[a(U,{modelValue:d(e).title,"onUpdate:modelValue":c[1]||(c[1]=u=>d(e).title=u),disabled:!d(e).gid,style:{width:"180px","margin-right":"12px"},placeholder:"\u8BF7\u8F93\u5165\u914D\u7F6E\u540D\u79F0",onBlur:J},null,8,["modelValue","disabled"]),d(t).name?S("",!0):(r(),R(I,{key:0,type:"primary",onClick:x},{default:s(()=>[m("\u65B0\u5EFA\u914D\u7F6E")]),_:1})),d(t).name?S("",!0):(r(),R(I,{key:1,type:"danger",disabled:!d(e).gid,onClick:W},{default:s(()=>[m("\u5220\u9664\u914D\u7F6E")]),_:1},8,["disabled"])),bt,a(I,{type:"primary",disabled:!d(e).gid,onClick:c[2]||(c[2]=u=>d(n).open({},{op:0}))},{default:s(()=>[m("\u63D2\u5165\u89C4\u5219")]),_:1},8,["disabled"]),a(I,{type:"primary",disabled:!d(e).gid,link:"",onClick:y},{default:s(()=>[m("\u6062\u590D\u9ED8\u8BA4\u6570\u636E")]),_:1},8,["disabled"]),a(I,{class:"description",link:"",onClick:c[3]||(c[3]=u=>E.value=!d(E))},{default:s(()=>[xt]),_:1})])]),ae((r(),R(_e,{data:d(t).data,class:"auto","row-key":"id",stripe:!0,style:{width:"100%"},"expand-row-keys":[d(f)],"show-overflow-tooltip":"",onExpandChange:g},{default:s(()=>[a(N,{type:"expand",width:"40"},{default:s(u=>[d(f)==u.row.id&&u.row.rules?(r(),R(ct,{key:0,data:u,gid:d(e).gid,onOpenaddstaticdialog:o,onDeletestaticstatic:p},null,8,["data","gid"])):S("",!0)]),_:1}),a(N,{label:"\u9875\u9762",prop:"title",width:"200"}),a(N,{label:"\u9875\u9762\u89C4\u5219",width:"400"},{default:s(({row:u})=>{var P;return[m(A((P=u.rules[0])==null?void 0:P.rule),1)]}),_:1}),a(N,{label:"\u89C4\u5219\u72B6\u6001",prop:"status",width:"200"},{default:s(({row:u})=>[a(le,{modelValue:u.rules[0].status,"onUpdate:modelValue":P=>u.rules[0].status=P,"active-value":1,"inactive-value":2,onChange:P=>b(u)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),_:1}),a(N,{label:"\u65B0\u7A97\u53E3\u6253\u5F00",prop:"openWindow",width:"200"},{default:s(({row:u})=>[a(le,{modelValue:u.rules[0].openWindow,"onUpdate:modelValue":P=>u.rules[0].openWindow=P,"active-value":1,"inactive-value":2,onChange:P=>b(u)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),_:1}),a(N,{label:"\u672A\u4F7F\u7528\u53C2\u6570",prop:"ignoreOverflow",width:"220"},{default:s(({row:u})=>[u.rules[0].ignoreOverflow==1?(r(),C("div",Ct," \u5FFD\u7565 ")):(r(),C("div",kt,"\u4E0D\u5FFD\u7565"))]),_:1}),a(N,{label:"\u62D3\u5C55\u89C4\u5219 "},{default:s(({row:u})=>{var P;return[l("div",Ot,A(((P=u.rules)==null?void 0:P.length)-1),1)]}),_:1}),a(N,{label:"\u64CD\u4F5C",align:"right",width:"200"},{default:s(({row:u,$index:P})=>[a(I,{type:"primary",link:"",onClick:oe=>d(n).open(u,{op:1})},{default:s(()=>[m(" \u65B0\u589E\u62D3\u5C55\u89C4\u5219 ")]),_:2},1032,["onClick"]),a(I,{type:"primary",link:"",onClick:oe=>d(n).open(u,{op:2})},{default:s(()=>[m(" \u7F16\u8F91 ")]),_:2},1032,["onClick"]),a(I,{type:"danger",link:"",onClick:oe=>h(u)},{default:s(()=>[m(" \u5220\u9664 ")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data","expand-row-keys"])),[[fe,d(t).loading]]),a(dt,{ref_key:"addstaticdialogref",ref:n,gid:d(e).gid,onUpdata:_},null,8,["gid"]),a(he,{modelValue:d(E),"onUpdate:modelValue":c[4]||(c[4]=u=>Ue(E)?E.value=u:null),title:"\u53EF\u89C6\u5316\u4F2A\u9759\u6001\u4F7F\u7528\u8BF4\u660E","with-header":!0,size:480},{default:s(()=>[Vt]),_:1},8,["modelValue"])])}}},qt=te(Et,[["__scopeId","data-v-45041731"]]);const Wt={style:{height:"calc(100vh - 50px)",display:"flex","flex-direction":"column"}},Pt={class:"card",style:{overflow:"hidden"}},Rt={class:"flex-x-between"},Ft=Le('<div class="left" data-v-a464bb5b><img src="'+Te+'" alt="" style="width:80px;height:80px;" data-v-a464bb5b><div class="flex-y" data-v-a464bb5b><p class="name" data-v-a464bb5b> \u53EF\u89C6\u5316\u4F2A\u9759\u6001 </p><p class="business" data-v-a464bb5b> \u76F8\u6BD4\u7EAF\u9759\u6001\u529F\u80FD\uFF0C\u4F2A\u9759\u6001\u66F4\u9002\u5408\u4FE1\u606F\u5185\u5BB9\u8F83\u5C11\u7684\u4F01\u4E1A\u7F51\u7AD9\uFF0C\u65E2\u80FD\u6EE1\u8DB3SEO\u4F18\u5316\uFF0C\u53C8\u80FD\u65B9\u4FBF\u7684\u7BA1\u7406\u3002 </p></div></div>',1),St={class:"right"},It={class:"flex-x-center static flex-y-center"},Bt={class:"card card_table",style:{"margin-top":"15px",padding:"24px"}},Dt={__name:"index",setup(V){const q=j(),w=L({status:!1,loading:!0}),f=L({info:{},show:!0,loading:!0}),g=e=>{e!=null&&e.status&&q.value.openRule(e.gid,e.name),f.show=!f.show},k=e=>{q.value.init(e)},E=()=>{w.loading=!0,Se(w.status).then(e=>{B({position:"bottom-right",type:"success",message:"\u72B6\u6001\u66F4\u65B0\u6210\u529F"})}).catch(()=>{w.status=!w.status}).finally(e=>{setTimeout(()=>{w.loading=!1},300)})},t=()=>{Ie().then(e=>{w.status=e}).finally(()=>{w.loading=!1})};return X(()=>{t()}),(e,$)=>{const n=z;return r(),C("div",Wt,[l("div",Pt,[a(je,{style:{"margin-bottom":"0","margin-top":"-4px"}},{default:s(()=>[m("\u53EF\u89C6\u5316\u4F2A\u9759\u6001")]),_:1}),l("div",Rt,[Ft,l("div",St,[l("p",It,[m(" \u529F\u80FD\u72B6\u6001 "),a(n,{style:{"margin-left":"6px"},modelValue:d(w).status,"onUpdate:modelValue":$[0]||($[0]=_=>d(w).status=_),loading:d(w).loading,onChange:$[1]||($[1]=_=>E()),"active-value":!0,"inactive-value":!1},null,8,["modelValue","loading"])])])])]),l("div",Bt,[d(f).show?(r(),R(Ge,{key:0,onShow:g,onInitRew:k})):S("",!0),ae(a(qt,{ref_key:"staticRef",ref:q,onShow:g},null,512),[[Ae,!d(f).show]])])])}}},jt=te(Dt,[["__scopeId","data-v-a464bb5b"]]);export{jt as default};
