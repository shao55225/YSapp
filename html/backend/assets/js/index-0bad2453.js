import{R as pe,u as G,cG as J,E as q,q as _e,C as me,j as Z,d as se,f as ne,T as fe,n as K,m as Q,h as Y,o as ee,k as te,b as ie,c as de,i as ce,v as re,N as he,bX as ye,_ as ve,s as ge,bU as H,cH as W}from"./entry-9cc5c370.js";/* empty css                        *//* empty css                   */import{E as be}from"./el-date-picker-4cb808f0.js";import{a as L,Z as T,e as le,l as _,m as v,U as t,S as l,p as n,u as e,a6 as g,L as B,R as A,W as k,P as D,af as M,O as z,D as xe,aA as ke,ap as Ve,aq as $e}from"./vue-11eabec3.js";import{E as Ce}from"./el-cascader-panel-27ac6c37.js";/* empty css                          */import{g as Ae}from"./videoType-587f3494.js";/* empty css                                                 */import{d as Ee}from"./domain-32b7fa1f.js";import{p as Ne}from"./plugHeader-c50619f4.js";import{E as Ue}from"./index-bf5a11eb.js";import"./panel-time-pick-2e9d1eeb.js";import"./arrays-2e03ed1f.js";const Se=$=>pe({url:`/sites/${$}/tags`,prefix:!1,method:"get"}),Ie=""+new URL("../png/plugin8-7b861392.png",import.meta.url).href,ze={class:"felx-y",style:{height:"520px"}},Le={class:"flex-x-between"},je={class:"flex-x-center search"},Fe=n("span",{style:{flexShrink:0}},"\u5230\u671F\u72B6\u6001",-1),Je={key:0},we={style:{color:"#4c83ff",cursor:"pointer",width:"20px"}},Xe={class:"flex-y p_box",style:{"max-height":"200px","overflow-y":"auto",padding:"12px 8px"}},Pe=n("div",null,[n("h4",null,"\u6388\u6743\u57DF\u540D")],-1),Oe={key:0,style:{color:"#4d7cfe"}},Te={key:1},De={key:2,style:{color:"#ff4d4f"}},Re={key:3,style:{color:"#ff9f46"}},Be={__name:"auth",emits:["load"],setup($,{expose:w,emit:U}){G();const V=L(),y=new Date().getTime(),f=a=>{if(o.form.end_time)return a>o.form.end_time},S=a=>a<o.form.start_time,N=a=>{let d=Number(a);const h=d/(60*60*24);d%=60*60*24;const u=d/(60*60);return d%=60*60,d%=60,parseInt(h)>0?parseInt(h)+"\u5929\u540E\u5230\u671F":parseInt(u)+"\u5C0F\u65F6\u540E\u5230\u671F"},o=T({form:{auth_domain:[],start_time:null,end_time:null,status:1,remark:""},loading:!1,visible:!1,type:1,opend(a,d=1){var h;o.type=d,a&&(Object.keys(o.form).forEach(u=>{o.form[u]=a[u]===void 0?o.form[u]:a[u]}),o.form.start_time=o.form.start_time*1e3,o.form.end_time=(o.form.end_time-(24*3600-1))*1e3,o.form.auth_domain=(h=o.form.auth_domain)==null?void 0:h.split(","),o.form.id=a.id),o.form.site_id=i.other.site_id,o.visible=!0},close(){var a;(a=V.value)==null||a.resetFields(),o.form={auth_domain:[],start_time:null,end_time:null,status:1,remark:""},o.visible=!1},update(a){o.loading||J.authPut(a).then(d=>{q({position:"bottom-right",type:"success",message:"\u72B6\u6001\u66F4\u65B0\u6210\u529F"})})},save(){V.value.validate((a,d)=>{var h;if(a){o.loading=!0;let u=JSON.parse(JSON.stringify(o.form));u.start_time=u.start_time/1e3,u.end_time=u.end_time/1e3+(24*3600-1),u.auth_domain=Array.from(new Set((h=u.auth_domain)==null?void 0:h.filter(b=>b))).join(","),(u!=null&&u.id?J.authPut(u):J.authPost(u)).then(b=>{q({position:"bottom-right",type:"success",message:u!=null&&u.id?"\u7F16\u8F91\u6210\u529F":"\u65B0\u589E\u6210\u529F"}),o.close(),s.load()}).finally(()=>{o.loading=!1})}})}}),i=T({loading:!1,visible:!1,other:void 0}),s=T({searchVal:{},data:[],load(){s.loading=!0,J.authPull({...s.searchVal,siteId:i.other.site_id}).then(a=>{a.list.forEach(d=>{var h;d.authArray=(h=d.auth_domain)==null?void 0:h.split(","),d.end_time_format=_e(d.end_time,"{y}-{m}-{d}")}),s.data=a.list}).finally(()=>{s.loading=!1})},del(a){me({message:"\u786E\u5B9A\u8981\u5220\u9664\u6388\u6743\u5417\uFF1F",okEms:"\u6388\u6743\u5220\u9664\u6210\u529F"},()=>J.authdel(a.id).then(d=>(s.load(),d)))}}),c=()=>{i.visible=!1,U("load")};return w({open(a){i.visible=!0,i.other=a,s.load()}}),le(()=>{var a;return"\u7F16\u8F91"+((a=i.other)==null?void 0:a.name)}),(a,d)=>{var ae;const h=Z,u=se,b=ne,C=fe,X=K,E=Q,P=Y,j=ee,r=te,m=ie,x=de,I=be,ue=ce,oe=re;return _(),v(D,null,[t(r,{"model-value":e(i).visible,"show-close":!e(i).loading,"close-on-press-escape":!1,title:"\u6388\u6743\u7BA1\u7406",width:1e3,"z-index":20,top:"15vh","destroy-on-close":"","close-on-click-modal":!1,onClose:c},{default:l(()=>[n("div",ze,[n("div",Le,[t(h,{type:"primary",onClick:d[0]||(d[0]=p=>e(o).opend(!1))},{default:l(()=>[g("\u6DFB\u52A0\u6388\u6743")]),_:1}),n("div",je,[Fe,t(b,{modelValue:e(s).searchVal.date_status,"onUpdate:modelValue":d[1]||(d[1]=p=>e(s).searchVal.date_status=p),class:"m-2",placeholder:"\u6240\u6709\u72B6\u6001",clearable:"",onChange:d[2]||(d[2]=p=>e(s).load())},{default:l(()=>[t(u,{label:"\u672A\u5F00\u59CB",value:1}),t(u,{label:"\u6B63\u5E38",value:2}),t(u,{label:"\u5DF2\u8FC7\u671F",value:3})]),_:1},8,["modelValue"]),t(C,{modelValue:e(s).searchVal.keywords,"onUpdate:modelValue":d[3]||(d[3]=p=>e(s).searchVal.keywords=p),onBlur:d[4]||(d[4]=p=>e(s).load())},null,8,["modelValue"])])]),B((_(),A(j,{data:e(s).data,class:"auto",stripe:!0,style:{width:"100%"},"show-overflow-tooltip":""},{default:l(()=>[t(E,{label:"\u6388\u6743\u57DF\u540D"},{default:l(({row:p})=>{var F;return[((F=p.authArray)==null?void 0:F.length)<=1?(_(),v("span",Je,k(p.auth_domain||"-"),1)):(_(),A(X,{key:1,placement:"bottom-start","popper-class":"jh_cid_box",effect:"light",width:400},{content:l(()=>[n("div",Xe,[Pe,(_(!0),v(D,null,M(p.authArray,O=>(_(),v("div",null,k(O),1))),256))])]),default:l(()=>{var O;return[n("p",we,k((O=p.authArray)==null?void 0:O.length),1)]}),_:2},1024))]}),_:1}),t(E,{label:"\u5F00\u59CB\u65E5\u671F",type:"day",prop:"start_time",width:"100"}),t(E,{label:"\u5230\u671F\u65E5\u671F"},{default:l(({row:p})=>[p.date_status==1?(_(),v("span",Oe,k(p.end_time_format)+"(\u672A\u5F00\u59CB)",1)):p.date_status==2?(_(),v("span",Te,k(p.end_time_format)+"(\u6B63\u5E38)",1)):p.date_status==3?(_(),v("span",De,k(p.end_time_format)+"(\u5DF2\u8FC7\u671F)",1)):(_(),v("span",Re,k(p.end_time_format)+"("+k(N(p.end_time-e(y)/1e3))+")",1))]),_:1}),t(E,{label:"\u72B6\u6001",width:"100"},{default:l(({row:p})=>[t(P,{modelValue:p.status,"onUpdate:modelValue":F=>p.status=F,"active-value":1,"inactive-value":0,onChange:F=>e(o).update(p)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),_:1}),t(E,{label:"\u5907\u6CE8",prop:"remark",width:"220"}),t(E,{label:"\u64CD\u4F5C",align:"right",width:"200"},{default:l(({row:p,$index:F})=>[t(h,{type:"primary",onClick:O=>e(o).opend(p,2),link:""},{default:l(()=>[g(" \u7EED\u671F ")]),_:2},1032,["onClick"]),t(h,{type:"primary",onClick:O=>e(o).opend(p),link:""},{default:l(()=>[g(" \u7F16\u8F91 ")]),_:2},1032,["onClick"]),t(h,{type:"danger",onClick:O=>e(s).del(p),link:""},{default:l(()=>[g(" \u5220\u9664 ")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])),[[oe,e(s).loading]])])]),_:1},8,["model-value","show-close"]),t(r,{modelValue:e(o).visible,"onUpdate:modelValue":d[12]||(d[12]=p=>e(o).visible=p),"close-on-press-escape":!1,title:e(o).type==2?"\u7EED\u8D39\u7BA1\u7406":(ae=e(o).form)!=null&&ae.id?"\u7F16\u8F91\u6388\u6743":"\u65B0\u589E\u6388\u6743",width:470,"z-index":20,top:"18vh","destroy-on-close":"","close-on-click-modal":!1,onClose:e(o).close},{footer:l(()=>[t(h,{class:"ml-auto",size:"small",loading:e(o).loading,onClick:e(o).close},{default:l(()=>[g(" \u53D6\u6D88 ")]),_:1},8,["loading","onClick"]),t(h,{size:"small",loading:e(o).loading,type:"primary",class:"border-0 bg-orange group-hover:bg-orangeLight",onClick:d[11]||(d[11]=p=>e(o).save(e(V)))},{default:l(()=>[g(" \u4FDD\u5B58 ")]),_:1},8,["loading"])]),default:l(()=>[B((_(),v("div",null,[t(ue,{ref_key:"ruleFormRef",ref:V,"label-width":"90px",model:e(o).form,"hide-required-asterisk":!1},{default:l(()=>[e(o).type==1?(_(),v(D,{key:0},[t(x,{label:"\u6388\u6743\u5185\u5BB9",prop:"auth_domain",rules:[{required:!0,message:"\u8BF7\u8F93\u5165IP/\u57DF\u540D",trigger:"blur"}]},{default:l(()=>[t(m,{spellcheck:"false",type:"textarea",rows:8,class:"input",placeholder:"\u652F\u6301\u591A\u4E2AIP/\u57DF\u540D\uFF0C\u4E00\u884C\u4E00\u4E2A","model-value":e(o).form.auth_domain.join(`
`),"onUpdate:modelValue":d[5]||(d[5]=p=>e(o).form.auth_domain=p.split(`
`)),onBlur:d[6]||(d[6]=p=>e(o).form.auth_domain=e(o).form.auth_domain.filter(F=>F))},null,8,["model-value"])]),_:1}),t(x,{label:"\u5F00\u59CB\u65E5\u671F",prop:"start_time",rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u65E5\u671F",trigger:"change"}]},{default:l(()=>[t(I,{modelValue:e(o).form.start_time,"onUpdate:modelValue":d[7]||(d[7]=p=>e(o).form.start_time=p),"value-format":"x","disabled-date":f,type:"date",placeholder:"\u8BF7\u9009\u62E9\u65E5\u671F"},null,8,["modelValue"])]),_:1})],64)):z("",!0),t(x,{label:"\u5230\u671F\u65E5\u671F",prop:"end_time",rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u65E5\u671F",trigger:"change"}]},{default:l(()=>[t(I,{modelValue:e(o).form.end_time,"onUpdate:modelValue":d[8]||(d[8]=p=>e(o).form.end_time=p),"value-format":"x",type:"date","disabled-date":S,placeholder:"\u8BF7\u9009\u62E9\u65E5\u671F"},null,8,["modelValue"])]),_:1}),e(o).type==1?(_(),A(x,{key:1,label:"\u5907\u6CE8",prop:"remark"},{default:l(()=>[t(m,{modelValue:e(o).form.remark,"onUpdate:modelValue":d[9]||(d[9]=p=>e(o).form.remark=p),spellcheck:"false",type:"textarea",rows:8,class:"input",placeholder:"\u8BF7\u8F93\u5165\u5907\u6CE8"},null,8,["modelValue"])]),_:1})):z("",!0),e(o).type==1?(_(),A(x,{key:2,label:"\u72B6\u6001",prop:"status"},{default:l(()=>[t(P,{modelValue:e(o).form.status,"onUpdate:modelValue":d[10]||(d[10]=p=>e(o).form.status=p),"active-value":1,"inactive-value":0},null,8,["modelValue"])]),_:1})):z("",!0)]),_:1},8,["model"])])),[[oe,e(i).loading]])]),_:1},8,["modelValue","title","onClose"])],64)}}},qe={class:"felx-y"},Me=n("span",null,"\u6388\u6743\u8BBE\u7F6E\xA0\xA0",-1),Ge=n("div",{style:{width:"20px",cursor:"pointer","margin-right":"-4px"}},[n("i",{class:"iconfont icon-tishi4",style:{"font-size":"12px",color:"#999"}})],-1),He=n("span",null,"\u641C\u7D22\u5F71\u7247\xA0\xA0",-1),We=n("div",{style:{width:"20px",cursor:"pointer","margin-right":"-4px"}},[n("i",{class:"iconfont icon-tishi4",style:{"font-size":"12px",color:"#999"}})],-1),Ze={__name:"editor",emits:["load"],setup($,{expose:w,emit:U}){G();const V=L(),y=T({collection_domain:"",collection_policy:"",collect_url:"",search_support:1,need_auth:0,checkList:[],tag:"",cids:[],image_domain:"",tags:[]}),f=T({loading:!1,visible:!1,other:void 0,options:[],siteTags:[]}),S=()=>{V.value.validate((s,c)=>{var a,d;if(s){let h=[];f.loading=!0;let u=JSON.parse(JSON.stringify(y));u.video_open=!!u.checkList.includes(1),u.article_open=!!u.checkList.includes(2),u.celebrity_open=!!u.checkList.includes(3),u.cids=(a=u.cids)==null?void 0:a.map(C=>(C==null?void 0:C.length)>0?C==null?void 0:C.at(-1):C),delete u.checkList;let b={...f.other,...u};((d=b.cids)==null?void 0:d.length)>0&&(o.value.map((C,X)=>{b.cids.map((E,P)=>{C.value==E&&h.push(E)})}),b.typeId=h),J.set(f.other.site_id,b).then(C=>{q({position:"bottom-right",type:"success",message:"\u66F4\u65B0\u6210\u529F"}),N(),U("load")}).finally(()=>{f.loading=!1})}})},N=()=>{var s;(s=V.value)==null||s.resetFields(),f.visible=!1,f.tabIndex=1,y.checkList=[],o.value=[]},o=L([]);function i(){Object.keys(y).forEach(s=>{y[s]=f.other[s]===void 0?y[s]:f.other[s]}),f.other.video_open&&y.checkList.push(1),f.other.article_open&&y.checkList.push(2),f.other.celebrity_open&&y.checkList.push(3),Ee.get(f.other.site_id).then(({list:s})=>{s=s==null?void 0:s.reduce((c,a)=>{switch(a.tlsType){case 1:c.push({...a,domainName:"http://"+a.domainName});break;case 2:c.push({...a,domainName:"https://"+a.domainName});break;case 3:c.push({...a,domainName:"http://"+a.domainName}),c.push({...a,domainName:"https://"+a.domainName});break;case 4:c.push({...a,domainName:"https://"+a.domainName});break}return c},[]),f.options=s}),Ae("1",f.other.site_id).then(s=>{s.forEach(c=>{c.parentId===0&&o.value.push({value:c.id,label:c.name})}),s.forEach(c=>{if(c.parentId!==0){const a=o.value.find(d=>d.value===c.parentId);a&&(a.children||(a.children=[]),a.children.push({value:c.id,label:c.name,leaf:!0}))}})})}return w({open(s){f.visible=!0,f.other=s,console.log(s,"other"),Se(s.site_id).then(c=>{f.siteTags=c})}}),le(()=>{var s;return"\u7F16\u8F91"+((s=f.other)==null?void 0:s.name)}),(s,c)=>{const a=he,d=ye,h=de,u=se,b=ne,C=Ce,X=K,E=Y,P=ce,j=Z,r=te;return _(),A(r,{"model-value":e(f).visible,"show-close":!e(f).loading,"close-on-press-escape":!1,title:"\u63A5\u53E3\u8BBE\u7F6E",width:470,"z-index":20,top:"20vh","destroy-on-close":"","close-on-click-modal":!1,onClose:N,onOpened:c[6]||(c[6]=m=>i())},{footer:l(()=>[t(j,{class:"ml-auto",size:"small",loading:e(f).loading,onClick:N},{default:l(()=>[g(" \u53D6\u6D88 ")]),_:1},8,["loading"]),t(j,{size:"small",onClick:S,loading:e(f).loading,type:"primary"},{default:l(()=>[g(" \u4FDD\u5B58 ")]),_:1},8,["loading"])]),default:l(()=>[n("div",qe,[t(P,{ref_key:"ruleFormRef",ref:V,"label-width":"100px",model:e(y),"hide-required-asterisk":!1},{default:l(()=>[t(h,{label:"\u5F00\u653E\u91C7\u96C6"},{default:l(()=>[t(d,{modelValue:e(y).checkList,"onUpdate:modelValue":c[0]||(c[0]=m=>e(y).checkList=m)},{default:l(()=>[t(a,{label:1},{default:l(()=>[g("\u89C6\u9891")]),_:1}),t(a,{label:2},{default:l(()=>[g("\u8D44\u8BAF")]),_:1}),t(a,{label:3},{default:l(()=>[g("\u5F71\u4EBA")]),_:1})]),_:1},8,["modelValue"])]),_:1}),t(h,{label:"\u91C7\u96C6\u57DF\u540D"},{default:l(()=>[t(b,{modelValue:e(y).collect_url,"onUpdate:modelValue":c[1]||(c[1]=m=>e(y).collect_url=m),style:{width:"100%"}},{default:l(()=>[(_(!0),v(D,null,M(e(f).options,m=>(_(),A(u,{label:m.domainName,value:m.domainName},null,8,["label","value"]))),256))]),_:1},8,["modelValue"])]),_:1}),t(h,{label:"\u6307\u5B9A\u5206\u7C7B\u91C7\u96C6",prop:"cids"},{default:l(()=>[t(C,{modelValue:e(y).cids,"onUpdate:modelValue":c[2]||(c[2]=m=>e(y).cids=m),options:e(o),style:{width:"100%"},clearable:"","popper-class":"my-cascader","collapse-tags":"",props:{expandTrigger:"hover",checkStrictly:!0,multiple:!0,emitPath:!1},ref:"cascader",placeholder:"\u9ED8\u8BA4\u5168\u90E8\u5206\u7C7B"},null,8,["modelValue","options"])]),_:1}),t(h,{label:"\u6307\u5B9A\u8D44\u6E90\u6807\u8BC6",prop:"tags"},{default:l(()=>[t(b,{modelValue:e(y).tags,"onUpdate:modelValue":c[3]||(c[3]=m=>e(y).tags=m),clearable:"",filterable:"","allow-create":"",class:"w-full",multiple:!0,placeholder:"\u9ED8\u8BA4\u5168\u90E8\u8D44\u6E90\u6807\u8BC6"},{default:l(()=>[(_(!0),v(D,null,M(e(f).siteTags,m=>(_(),A(u,{key:m.tag,label:m.tag,value:m.tag},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),t(h,{prop:"status"},{label:l(()=>[Me,t(X,{effect:"light",content:"\u672A\u5F00\u542F\u5219\u91C7\u96C6\u65E0\u9650\u5236\uFF0C\u5F00\u542F\u540E\u5219\u53EA\u6709\u5728\u6388\u6743\u540D\u5355\u91CC\u7684\u57DF\u540D\u53EF\u4EE5\u91C7\u96C6",placement:"bottom-start","popper-class":"jh_cid_box"},{default:l(()=>[Ge]),_:1})]),default:l(()=>[t(E,{modelValue:e(y).need_auth,"onUpdate:modelValue":c[4]||(c[4]=m=>e(y).need_auth=m),"active-value":1,"inactive-value":0},null,8,["modelValue"])]),_:1}),t(h,{prop:"search_support"},{label:l(()=>[He,t(X,{effect:"light",content:"\u672A\u5F00\u542F\u5219\u91C7\u96C6\u65F6\u4E0D\u652F\u6301\u641C\u7D22\u5F71\u7247",placement:"bottom","popper-class":"jh_cid_box",offset:8},{default:l(()=>[We]),_:1})]),default:l(()=>[t(E,{modelValue:e(y).search_support,"onUpdate:modelValue":c[5]||(c[5]=m=>e(y).search_support=m),"active-value":1,"inactive-value":0},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])])]),_:1},8,["model-value","show-close"])}}};const Ke={style:{padding:"0 16px"}},Qe={style:{"margin-left":"8px"}},Ye={class:"flex-y a3_box"},et={class:"flex jh_box"},tt=n("h4",null,"JSON:",-1),lt=["onClick"],ot={class:"flex jh_box",style:{background:"#f5f8fb","border-top":"1px solid #e0e0e0"}},at=n("h4",null,"XML:",-1),st=["onClick"],nt={class:"flex-y a3_box"},it={class:"flex jh_box"},dt=n("h4",null,"JSON:",-1),ct=["onClick"],rt={class:"flex jh_box",style:{background:"#f5f8fb","border-top":"1px solid #e0e0e0"}},ut=n("h4",null,"XML:",-1),pt=["onClick"],_t={class:"flex-y a3_box"},mt={class:"flex jh_box"},ft=n("h4",null,"JSON:",-1),ht=["onClick"],yt={class:"flex jh_box",style:{background:"#f5f8fb","border-top":"1px solid #e0e0e0"}},vt=n("h4",null,"XML:",-1),gt=["onClick"],bt={__name:"address",props:{list:{type:Array,default:()=>[]},domain:{type:String,default:""}},setup($,{expose:w}){const U=$;G();const V=T({loading:!1,visible:!1,other:void 0,tabIndex:1}),y=f=>{f=U.domain+f;const S=document.createElement("input");S.setAttribute("readonly","readonly"),S.setAttribute("value",f),document.body.appendChild(S),S.select(),document.execCommand("copy")&&(document.execCommand("copy"),q({position:"bottom-right",type:"success",message:"\u590D\u5236\u6210\u529F"})),document.body.removeChild(S)};return w({open(f){V.visible=!0,table.load(f)}}),le(()=>{var f;return"\u7F16\u8F91"+((f=V.other)==null?void 0:f.name)}),(f,S)=>{const N=Q,o=ee;return _(),v("div",Ke,[t(o,{data:$.list,class:"auto",height:"300",border:"",style:{width:"100%"},"show-overflow-tooltip":""},{default:l(()=>[t(N,{label:"CMS\u540D\u79F0"},{default:l(({row:i})=>[n("span",Qe,k(i.name),1)]),_:1}),t(N,{label:"\u89C6\u9891\u91C7\u96C6",width:"290"},{default:l(({row:i})=>[n("div",Ye,[n("div",et,[tt,n("p",null,k(i.addressJson?$.domain+i.addressJson:"-"),1),i.addressJson?(_(),v("i",{key:0,class:"iconfont icon-fuzhi point",onClick:s=>y(i.addressJson)},null,8,lt)):z("",!0)]),n("div",ot,[at,n("p",null,k(i.addressXml?$.domain+i.addressXml:"-"),1),i.addressXml?(_(),v("i",{key:0,class:"iconfont icon-fuzhi point",onClick:s=>y(i.addressXml)},null,8,st)):z("",!0)])])]),_:1}),t(N,{label:"\u8D44\u8BAF\u91C7\u96C6",width:"290"},{default:l(({row:i})=>[n("div",nt,[n("div",it,[dt,n("p",null,k(i.articleAddressJson?$.domain+i.articleAddressJson:"-"),1),i.articleAddressJson?(_(),v("i",{key:0,class:"iconfont icon-fuzhi point",onClick:s=>y(i.articleAddressJson)},null,8,ct)):z("",!0)]),n("div",rt,[ut,n("p",null,k(i.articleAddressXml?$.domain+i.articleAddressXml:"-"),1),i.articleAddressXml?(_(),v("i",{key:0,class:"iconfont icon-fuzhi point",onClick:s=>y(i.articleAddressXml)},null,8,pt)):z("",!0)])])]),_:1}),t(N,{label:"\u5F71\u4EBA\u91C7\u96C6",width:"290"},{default:l(({row:i})=>[n("div",_t,[n("div",mt,[ft,n("p",null,k(i.celebrityAddressJson?$.domain+i.celebrityAddressJson:"-"),1),i.celebrityAddressJson?(_(),v("i",{key:0,class:"iconfont icon-fuzhi point",onClick:s=>y(i.celebrityAddressJson)},null,8,ht)):z("",!0)]),n("div",yt,[vt,n("p",null,k(i.celebrityAddressXml?$.domain+i.celebrityAddressXml:"-"),1),i.celebrityAddressXml?(_(),v("i",{key:0,class:"iconfont icon-fuzhi point",onClick:s=>y(i.celebrityAddressXml)},null,8,gt)):z("",!0)])])]),_:1})]),_:1},8,["data"])])}}};const R=$=>(Ve("data-v-dc2a1abd"),$=$(),$e(),$),xt={style:{height:"100%"},class:"flex-y"},kt={class:"card",style:{overflow:"hidden"}},Vt=ke('<div class="flex-x-between" data-v-dc2a1abd><div class="left" data-v-dc2a1abd><img src="'+Ie+'" alt="" style="width:80px;height:80px;" data-v-dc2a1abd><div class="flex-y" data-v-dc2a1abd><p class="name" data-v-dc2a1abd>\u5F00\u653E\u63A5\u53E3API</p><p class="business" data-v-dc2a1abd>\u5F00\u542F\u540E\uFF0C\u5176\u4ED6\u7AD9\u957F\u53EF\u91C7\u96C6\u672C\u7AD9\u70B9\u5F71\u89C6\u6570\u636E</p></div></div><div class="right flex-x-center" data-v-dc2a1abd></div></div>',1),$t={class:"flex-y cfg card",style:{"margin-top":"24px",flex:"1","padding-bottom":"24px","justify-content":"flex-start"}},Ct={class:"flex-y-center",style:{gap:"8px"}},At={class:"flex-y-center",style:{gap:"8px"}},Et={class:"flex-y-center",style:{gap:"8px"}},Nt={class:"flex-y-center",style:{gap:"8px"}},Ut={class:"flex-y-center"},St=R(()=>n("span",null,"\u6388\u6743\u9650\u5236\xA0\xA0",-1)),It=R(()=>n("div",{style:{width:"12px",cursor:"pointer"}},[n("i",{class:"iconfont icon-tishi2",style:{"font-size":"12px",color:"#999"}})],-1)),zt={class:"flex-y-center"},Lt=R(()=>n("span",null,"\u641C\u7D22\u5F71\u7247\xA0\xA0",-1)),jt=R(()=>n("div",{style:{width:"12px",cursor:"pointer"}},[n("i",{class:"iconfont icon-tishi2",style:{"font-size":"12px",color:"#999"}})],-1)),Ft={key:0,style:{color:"#ff4d4f"}},Jt={style:{color:"#4c83ff",cursor:"pointer",width:"20px"}},wt={class:"flex-y p_box",style:{"max-height":"200px","overflow-y":"auto",padding:"12px 8px"}},Xt=R(()=>n("div",null,[n("h4",null,"\u6307\u5B9A\u5206\u7C7B\u91C7\u96C6")],-1)),Pt={key:1,style:{cursor:"pointer"}},Ot={class:"flex-x",style:{"flex-direction":"row"}},Tt=R(()=>n("span",{style:{width:"80px","font-size":"12px",margin:"4px 0"}},"\u91C7\u96C6\u9ED1\u540D\u5355",-1)),Dt={__name:"index",setup($){const w=G(),U=L(!1),V=L({blacklist:[]}),y=L(0),f=L([]);function S(s){y.value=s.site_id,f.value=s.settings}const N=L(),o=L(),i=T({data:[],collect:{},loading:!1,load(){i.loading=!0,J.all().then(s=>{i.data=s}).finally(()=>{i.loading=!1})},update(s,c=1){i.loading||J.set(s.site_id,s).then(a=>{q({position:"bottom-right",type:"success",message:c==2?"\u9ED1\u540D\u5355\u66F4\u65B0\u6210\u529F":"\u72B6\u6001\u66F4\u65B0\u6210\u529F"}),U.value=!1})}});return i.load(),(s,c)=>{const a=Q,d=Y,h=ge,u=K,b=Z,C=Ue,X=ee,E=ie,P=te,j=re;return _(),v("div",xt,[B((_(),v("div",kt,[t(Ne,{style:{"margin-bottom":"0","margin-top":"-4px"}},{default:l(()=>[g("\u5F00\u653E\u63A5\u53E3API")]),_:1}),Vt])),[[j,e(i).loading]]),B((_(),v("div",$t,[B((_(),A(X,{data:e(i).data,class:"auto",stripe:!0,style:{width:"100%"},"show-overflow-tooltip":""},{default:l(()=>[t(a,{prop:"site_id",label:"\u7AD9\u70B9\u540D\u79F0",width:"120"},{default:l(({row:r})=>{var m,x;return[n("span",null,k(((x=(m=e(w).list)==null?void 0:m.find(I=>I.id==r.site_id))==null?void 0:x.name)||r.site_id),1)]}),_:1}),t(a,{label:"\u7AD9\u70B9\u5F00\u5173",width:"150"},{default:l(({row:r})=>[t(d,{modelValue:r.open,"onUpdate:modelValue":m=>r.open=m,"active-value":!0,"inactive-value":!1,onChange:m=>e(i).update(r)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),_:1}),t(a,{label:"\u542F\u7528\u72B6\u6001",width:"250"},{default:l(({row:r})=>[n("div",Ct,[n("div",At,[g(" \u89C6\u9891 "),r.video_open?(_(),A(h,{key:0,color:"#41D888"},{default:l(()=>[t(e(H))]),_:1})):(_(),A(h,{key:1,color:"#FF4D4F"},{default:l(()=>[t(e(W))]),_:1}))]),n("div",Et,[g(" \u8D44\u8BAF "),r.article_open?(_(),A(h,{key:0,color:"#41D888"},{default:l(()=>[t(e(H))]),_:1})):(_(),A(h,{key:1,color:"#FF4D4F"},{default:l(()=>[t(e(W))]),_:1}))]),n("div",Nt,[g(" \u5F71\u4EBA "),r.celebrity_open?(_(),A(h,{key:0,color:"#41D888"},{default:l(()=>[t(e(H))]),_:1})):(_(),A(h,{key:1,color:"#FF4D4F"},{default:l(()=>[t(e(W))]),_:1}))])])]),_:1}),t(a,{label:"\u6388\u6743\u9650\u5236",width:"150"},{header:l(()=>[n("div",Ut,[St,t(u,{effect:"light","popper-class":"jh_cid_box",content:"\u672A\u5F00\u542F\u5219\u91C7\u96C6\u65E0\u9650\u5236\uFF0C\u5F00\u542F\u540E\u5219\u53EA\u6709\u5728\u6388\u6743\u540D\u5355\u91CC\u7684\u57DF\u540D\u53EF\u4EE5\u91C7\u96C6",placement:"bottom"},{default:l(()=>[It]),_:1})])]),default:l(({row:r})=>[t(d,{modelValue:r.need_auth,"onUpdate:modelValue":m=>r.need_auth=m,"active-value":1,"inactive-value":0,onChange:m=>e(i).update(r)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),_:1}),t(a,{label:"\u641C\u7D22\u5F71\u7247",width:"150"},{header:l(()=>[n("div",zt,[Lt,t(u,{effect:"light","popper-class":"jh_cid_box",content:"\u672A\u5F00\u542F\u5219\u91C7\u96C6\u65F6\u4E0D\u652F\u6301\u641C\u7D22\u5F71\u7247",placement:"bottom"},{default:l(()=>[jt]),_:1})])]),default:l(({row:r})=>[t(d,{modelValue:r.search_support,"onUpdate:modelValue":m=>r.search_support=m,"active-value":1,"inactive-value":0,onChange:m=>e(i).update(r)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),_:1}),t(a,{label:"\u91C7\u96C6\u57DF\u540D",prop:"collect_url","min-width":"200","show-overflow-tooltip":""},{default:l(({row:r})=>[n("span",null,k(r.collect_url||"-"),1),r.collect_url_valid_msg?(_(),v("span",Ft,"\u2002("+k(r.collect_url_valid_msg)+")",1)):z("",!0)]),_:1}),t(a,{label:"\u6307\u5B9A\u5206\u7C7B\u91C7\u96C6"},{default:l(({row:r})=>{var m;return[((m=r.cids)==null?void 0:m.length)>0?(_(),A(u,{key:0,placement:"bottom-start","popper-class":"jh_cid_box",effect:"light",width:400},{content:l(()=>[n("div",wt,[Xt,(_(!0),v(D,null,M(r.categories,x=>(_(),v("div",null,k(x.name),1))),256))])]),default:l(()=>{var x;return[n("p",Jt,k((x=r.cids)==null?void 0:x.length),1)]}),_:2},1024)):(_(),v("p",Pt,"\u5168\u90E8\u5206\u7C7B"))]}),_:1}),t(a,{label:"\u64CD\u4F5C",align:"right",width:"280"},{default:l(({row:r,$index:m})=>[t(b,{type:"primary",onClick:x=>{var I;return(I=e(N))==null?void 0:I.open(r)},link:""},{default:l(()=>[g(" \u6388\u6743\u7BA1\u7406 ")]),_:2},1032,["onClick"]),t(b,{type:"primary",onClick:x=>{var I;return(I=e(o))==null?void 0:I.open(r)},link:""},{default:l(()=>[g(" \u63A5\u53E3\u8BBE\u7F6E ")]),_:2},1032,["onClick"]),t(C,{placement:"left",title:"\u91C7\u96C6\u5730\u5740",width:1e3,trigger:"click","popper-class":"jh_popper_addr",onBeforeEnter:x=>S(r)},{reference:l(()=>[t(b,{type:"primary",link:""},{default:l(()=>[g(" \u91C7\u96C6\u5730\u5740 ")]),_:1})]),default:l(()=>[e(y)==r.site_id?(_(),A(bt,{key:0,list:e(f),domain:r.collect_url},null,8,["list","domain"])):z("",!0)]),_:2},1032,["onBeforeEnter"]),t(b,{type:"danger",link:"",onClick:x=>{U.value=!0,V.value=r}},{default:l(()=>[g(" \u9ED1\u540D\u5355 ")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])),[[j,e(i).loading]])])),[[j,e(i).loading]]),t(Be,{ref_key:"authRef",ref:N},null,512),t(Ze,{ref_key:"editorRef",ref:o,onLoad:c[0]||(c[0]=r=>e(i).load())},null,512),t(P,{modelValue:e(U),"onUpdate:modelValue":c[5]||(c[5]=r=>xe(U)?U.value=r:null),"close-on-press-escape":!1,title:"\u9ED1\u540D\u5355\u8BBE\u7F6E",width:470,"z-index":20,top:"24vh","close-on-click-modal":!1},{footer:l(()=>[t(b,{class:"ml-auto",size:"small",onClick:c[3]||(c[3]=r=>{U.value=!1,V.value={}})},{default:l(()=>[g(" \u53D6\u6D88 ")]),_:1}),t(b,{size:"small",type:"primary",class:"border-0 bg-orange group-hover:bg-orangeLight",onClick:c[4]||(c[4]=r=>e(i).update(e(V),2))},{default:l(()=>[g(" \u4FDD\u5B58 ")]),_:1})]),default:l(()=>{var r;return[n("div",Ot,[Tt,t(E,{spellcheck:"false",type:"textarea",rows:8,class:"input",placeholder:"\u652F\u6301\u591A\u4E2AIP/\u57DF\u540D\uFF0C\u4E00\u884C\u4E00\u4E2A","model-value":(r=e(V).blacklist)==null?void 0:r.join(`
`),"onUpdate:modelValue":c[1]||(c[1]=m=>e(V).blacklist=m.split(`
`)),onBlur:c[2]||(c[2]=m=>{var x;return e(V).blacklist=(x=e(V).blacklist)==null?void 0:x.filter(I=>I)})},null,8,["model-value"])])]}),_:1},8,["modelValue"])])}}},ol=ve(Dt,[["__scopeId","data-v-dc2a1abd"]]);export{ol as default};
