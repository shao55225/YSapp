import{s as M,b as O,c as P,i as R,j as q,v as G,E as S,C as H,cJ as C,p as b,w as J,cK as Q,_ as W}from"./entry-9cc5c370.js";/* empty css                   */import{p as Z}from"./plugHeader-c50619f4.js";import{s as X,a as Y,u as ee,g as te,p as ue,b as ae}from"./accelerate-53668355.js";import{E as se}from"./index-bf5a11eb.js";import{G as le,Z as U,d as ne,m as p,p as l,U as s,S as t,W as k,a6 as i,L as oe,u as d,O as D,R as c,Q as F,ap as ce,aq as ie,l as u,P as N,af as $,a as re}from"./vue-11eabec3.js";const de=""+new URL("../svg/accelerate_v3-bd091216.svg",import.meta.url).href,x=h=>(ce("data-v-597f7d5c"),h=h(),ie(),h),_e={style:{height:"100%"}},me={class:"card",style:{overflow:"hidden"}},pe={class:"flex-x-between"},ge={class:"left"},fe=x(()=>l("img",{src:de,alt:"",style:{width:"80px",height:"80px"}},null,-1)),Fe={class:"flex-y"},he={class:"name"},ve={class:"business"},ye=x(()=>l("span",{style:{color:"#db4646"}},"\u672C\u52A0\u901F\u529F\u80FD\u4EC5\u652F\u6301CMS\u7CFB\u7EDF\u76D1\u542C\u7AEF\u53E3\u7684\u9875\u9762\u52A0\u901F\u3002(\u672C\u529F\u80FD\u4F7F\u7528\u53CD\u5411\u4EE3\u7406\u540E\u65E0\u6548\uFF0C\u4E0D\u652F\u6301\u53CD\u5411\u4EE3\u7406\u52A0\u901F)",-1)),Ee=["element-loading-text"],Ce={key:0,style:{width:"100%",height:"14px",color:"#db4646","line-height":"40px"}},be=["src"],ke={key:1,style:{"font-size":"12px",color:"#7ede67","text-align":"center"}},De={class:"flex-x-center btns",style:{"margin-top":"32px"}},xe=x(()=>l("div",{class:"ubuntulist"},[l("span",{class:"ubuntulist_title"},"\u5185\u6838\u652F\u6301\u5217\u8868")],-1)),Ae={class:"version_list"},Be={class:"ubuntulist"},Ve=x(()=>l("span",{class:"ubuntulist_title"},"\u5185\u6838\u652F\u6301\u5217\u8868",-1)),Se={class:"ubuntulist_content"},we={class:"version_list"},Te=le({__name:"index",setup(h){const e=U({loading:!1,name:"\u7F51\u7EDC\u52A0\u901F\u7BA1\u7406",businessDesc:"\u52A0\u5FEB\u7528\u6237\u8BBF\u95EE\u901F\u5EA6\uFF0C\u63D0\u9AD8\u7528\u6237\u4F53\u9A8C\u3002",status:0,kernel_version:"",tcc_status:0,KernelStatus:0,percentagenum:0,data:{matching:0,reserve_core:[]},update:()=>{}}),o=U({type:1,system:"",system_version:"",kernel_version:"",architecture:""}),A=()=>{e.loading=!0,e.percentagenum=0;let r={type:o.type};te(r).then(a=>{e.loading=!1,Object.keys(o).forEach(f=>{o[f]=a[f]}),o.type=1,e.data=a.data,e.tcc_status=a.tcc_status}).finally(()=>{e.loading=!1})};var g;const L=r=>{clearTimeout(g);let a=re(500);g=setInterval(()=>{e.percentagenum>=50&&e.percentagenum<=80&&(a.value=800),e.percentagenum>=80&&e.percentagenum<=99&&(a.value=1e3),e.percentagenum>=99?clearInterval(g):e.percentagenum++},a.value),ae({kernel_version:r}).then(f=>{e.percentagenum=100,clearTimeout(g),S({position:"bottom-right",type:"success",message:f}),V()}).catch(()=>{e.percentagenum=0,clearTimeout(g)}).finally(()=>{e.percentagenum=0,clearTimeout(g)})},v=r=>{if(r==3){S({position:"bottom-right",type:"warning",message:"\u5185\u6838\u7248\u672C\u4E0D\u652F\u6301\u5F00\u542F\u52A0\u901F\uFF0C\u8BF7\u5347\u7EA7\u5185\u6838\u7248\u672C"});return}e.loading=!0,(r==2?X(o):Y(o)).then(()=>{A(),S({position:"bottom-right",type:"success",message:"\u64CD\u4F5C\u6210\u529F"})}).catch(()=>{e.loading=!1})};var B;const V=()=>{clearTimeout(B),ee().then(r=>{r==1?(e.loading=!0,e.status=1,B=setTimeout(()=>{V()},2e3)):r==2?(e.KernelStatus=2,w(),A(),clearTimeout(B)):A()})},w=()=>{H({message:"\u5185\u6838\u5347\u7EA7\u5B8C\u6210\uFF0C\u662F\u5426\u7ACB\u5373\u91CD\u542F\u670D\u52A1\u5668\uFF1F",okText:"\u91CD\u542F",cancleText:"\u6682\u4E0D\u91CD\u542F",size:"default"},()=>Q())};return ne(()=>{V()}),(r,a)=>{var I,K;const f=Z,_=M,y=O,E=P,j=R,m=q,T=se,z=G;return u(),p("div",_e,[l("div",me,[s(f,{style:{"margin-bottom":"0","margin-top":"-4px"}},{default:t(()=>[i("\u7F51\u7EDC\u52A0\u901F\u7BA1\u7406")]),_:1}),l("div",pe,[l("div",ge,[fe,l("div",Fe,[l("p",he,k(e.name),1),l("p",ve,[i(k(e.businessDesc)+" ",1),ye])])])])]),l("div",{class:F({cfg:!0,cfg2:e.tcc_status==2}),style:{"margin-top":"120px"}},[oe((u(),p("div",{class:"accelerate_item","element-loading-text":e.status==1?"\u5185\u6838\u5347\u7EA7\u4E2D...":""},[s(j,{"label-position":"top","label-width":"100px",model:o},{default:t(()=>[s(E,{label:"\u7CFB\u7EDF\u7C7B\u578B",class:F(e.data.matching==5||e.data.matching==0?"colo4":"colo3")},{default:t(()=>[s(y,{modelValue:o.system,"onUpdate:modelValue":a[0]||(a[0]=n=>o.system=n),disabled:""},{suffix:t(()=>[e.data.matching==5||e.data.matching==0?(u(),c(_,{key:0},{default:t(()=>[s(d(C),{class:"colo4"})]),_:1})):(u(),c(_,{key:1},{default:t(()=>[s(d(b),{class:"colo3"})]),_:1}))]),_:1},8,["modelValue"])]),_:1},8,["class"]),s(E,{label:"\u7CFB\u7EDF\u7248\u672C",class:F(e.data.matching>=4||e.data.matching==0?"colo4":"colo3")},{default:t(()=>[s(y,{modelValue:o.system_version,"onUpdate:modelValue":a[1]||(a[1]=n=>o.system_version=n),disabled:""},{suffix:t(()=>[e.data.matching>=4||e.data.matching==0?(u(),c(_,{key:0},{default:t(()=>[s(d(C),{class:"colo4"})]),_:1})):(u(),c(_,{key:1},{default:t(()=>[s(d(b),{class:"colo3"})]),_:1}))]),_:1},8,["modelValue"])]),_:1},8,["class"]),s(E,{label:"\u7CFB\u7EDF\u67B6\u6784",class:F(e.data.matching>=3||e.data.matching==0?"colo4":"colo3")},{default:t(()=>[s(y,{modelValue:o.architecture,"onUpdate:modelValue":a[2]||(a[2]=n=>o.architecture=n),disabled:""},{suffix:t(()=>[e.data.matching>=3||e.data.matching==0?(u(),c(_,{key:0},{default:t(()=>[s(d(C),{class:"colo4"})]),_:1})):(u(),c(_,{key:1},{default:t(()=>[s(d(b),{class:"colo3"})]),_:1}))]),_:1},8,["modelValue"])]),_:1},8,["class"]),s(E,{label:"\u5185\u6838\u7248\u672C",class:F(e.data.matching>=2||e.data.matching==0?"colo4":"colo3")},{default:t(()=>[s(y,{modelValue:o.kernel_version,"onUpdate:modelValue":a[3]||(a[3]=n=>o.kernel_version=n),disabled:""},{suffix:t(()=>[e.data.matching>=2||e.data.matching==0?(u(),c(_,{key:0},{default:t(()=>[s(d(C),{class:"colo4"})]),_:1})):(u(),c(_,{key:1},{default:t(()=>[s(d(b),{class:"colo3"})]),_:1}))]),_:1},8,["modelValue"]),e.KernelStatus==2?(u(),p("div",Ce," \u5185\u6838\u5347\u7EA7\u6210\u529F\uFF0C\u91CD\u542F\u670D\u52A1\u5668\u751F\u6548 ")):D("",!0)]),_:1},8,["class"])]),_:1},8,["model"]),e.tcc_status==2?(u(),p("img",{key:0,src:d(ue),alt:""},null,8,be)):D("",!0),e.tcc_status==2?(u(),p("div",ke," \u6B63\u5728\u52A0\u901F\u4E2D\u2026 ")):D("",!0),l("div",De,[e.tcc_status==2?(u(),c(m,{key:0,type:"danger",onClick:a[4]||(a[4]=n=>v(e.tcc_status))},{default:t(()=>[i("\u5173\u95ED\u52A0\u901F")]),_:1})):e.KernelStatus==2?(u(),c(m,{key:1,type:"primary",onClick:w},{default:t(()=>[i("\u91CD\u542F\u670D\u52A1\u5668")]),_:1})):e.data.matching==2&&o.system!="Ubuntu"?(u(),c(T,{key:2,ref:"popover",placement:"right",width:400,trigger:"hover",disabled:e.data.reserve_core==null||((I=e.data.reserve_core)==null?void 0:I.length)==0},{reference:t(()=>[s(m,{type:"primary",onClick:a[5]||(a[5]=n=>v(3)),loading:e.percentagenum>0&&e.percentagenum<100},{default:t(()=>[i("\u5347\u7EA7\u5185\u6838")]),_:1},8,["loading"])]),default:t(()=>[xe,l("ul",Ae,[(u(!0),p(N,null,$(e.data.reserve_core,n=>(u(),p("li",{key:n},[l("div",null,[l("p",null,k(n.version),1),s(m,{type:"primary",onClick:Ie=>L(n.version),link:"",disabled:e.percentagenum!=0},{default:t(()=>[i("\u5347\u7EA7")]),_:2},1032,["onClick","disabled"])])]))),128))])]),_:1},8,["disabled"])):e.data.matching==2&&o.system=="Ubuntu"?(u(),c(T,{key:3,ref:"popover",placement:"right",width:420,trigger:"hover",disabled:e.data.reserve_core==null||((K=e.data.reserve_core)==null?void 0:K.length)==0},{reference:t(()=>[s(m,{type:"primary",onClick:a[6]||(a[6]=n=>v(3)),loading:e.percentagenum>0&&e.percentagenum<100},{default:t(()=>[i("\u5347\u7EA7\u5185\u6838")]),_:1},8,["loading"])]),default:t(()=>[l("div",Be,[Ve,l("span",Se,[s(_,{style:{"margin-right":"6px"}},{default:t(()=>[s(d(J))]),_:1}),i(" ubuntu\u7CFB\u7EDF\u9700\u624B\u52A8\u5347\u7EA7\u5230\u5BF9\u5E94\u5185\u6838\u7248\u672C")])]),l("ul",we,[(u(!0),p(N,null,$(e.data.reserve_core,n=>(u(),p("li",{key:n},[l("div",null,[l("p",null,k(n.version),1)])]))),128))])]),_:1},8,["disabled"])):e.tcc_status==1&&e.data.matching==1?(u(),c(m,{key:4,type:"primary",onClick:a[7]||(a[7]=n=>v(e.tcc_status))},{default:t(()=>[i("\u5F00\u542F\u52A0\u901F")]),_:1})):e.data.matching==5||e.data.matching==0?(u(),c(m,{key:5,type:"danger"},{default:t(()=>[i("\u7CFB\u7EDF\u4E0D\u652F\u6301")]),_:1})):e.data.matching==4?(u(),c(m,{key:6,type:"danger"},{default:t(()=>[i("\u7CFB\u7EDF\u7248\u672C\u4E0D\u652F\u6301")]),_:1})):e.data.matching==3?(u(),c(m,{key:7,type:"danger"},{default:t(()=>[i("\u7CFB\u7EDF\u67B6\u6784\u4E0D\u652F\u6301")]),_:1})):D("",!0)])],8,Ee)),[[z,e.loading]])],2)])}}});const ze=W(Te,[["__scopeId","data-v-597f7d5c"]]);export{ze as default};
