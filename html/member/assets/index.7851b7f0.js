import{d as N,u as z,r as B,b as E,o as O,z as j,f as M,Q as P,R as $,e as G,A as q,B as Q,i as b,j as p,T as v,w as o,a7 as I,C as R,k as l,G as X,L as H,s as m,q as i,N as _,t as f,F as J,D as K,ay as W,O as Y,p as Z,n as ee,_ as ae}from"./entry.40130a59.js";/* empty css                        *//* empty css                       *//* empty css                  */import{h as te,i as le,l as oe,U as se}from"./agencyCenter.029184f4.js";import{b as ne}from"./vipStrategy.6d8a2a04.js";import{F as ie}from"./filtter.26fb921a.js";import{P as de}from"./pagination.bcfe9cd2.js";/* empty css                   */import"./ua-parser.b7b74d3d.js";const C=h=>(Z("data-v-7964e3d6"),h=h(),ee(),h),re={class:"flex-y box havefit_box"},ue={class:"survey flex-x"},me=i(" \u603B\u4F63\u91D1\uFF1A"),pe=i("\u5143 "),ce=C(()=>p("span",{class:"line"},null,-1)),_e=i(" \u51BB\u7ED3\u4F63\u91D1\uFF1A"),he=i("\u5143 "),ge=C(()=>p("span",{class:"line"},null,-1)),be=i(" \u53EF\u7528\u4F63\u91D1\uFF1A"),ve=i("\u5143 "),fe={class:"inputBox",style:{width:"120px"}},ye={style:{"font-size":"12px",width:"240px"},class:"inputBox"},Fe={class:"search",style:{margin:"0"}},ke={key:0},xe={key:1},Ve=N({__name:"index",props:{id:{type:String,default:""}},setup(h){const u=h,c=z(),r=B({pageIndex:1,pageSize:20,total:0}),y=B(),e=E({loading:!1,data:[],searchVal:{keyword:void 0,agentLevelId:void 0,order:"",brokerageTimeEnd:void 0,brokerageTimeStart:void 0},selectList:[],load(d){r.value=d||r.value,e.loading=!0;const t={page:r.value.pageIndex,limit:r.value.pageSize,...e.searchVal,agentLevelId:e.searchVal.agentLevelId||void 0,keyword:e.searchVal.keyword||void 0,order:e.searchVal.order||void 0};u.id||c.siteObj.siteId&&(t.siteId=c.siteObj.siteId),(u.id?te({...t,memberId:u.id}):le(t)).then(s=>{e.data=u.id?{data:s}:s,r.value.total=u.id?s.total:s.data.total}).finally(()=>{e.loading=!1})},handleSelectionChange(d){this.selectList=d},sortChnage({column:d,prop:t,order:s}){s?e.searchVal.order=`${t} ${s==="ascending"?"asc":"desc"}`:e.searchVal.order="",e.load()}}),g=E({value:[],get(){oe().then(d=>{g.value=d})}});return g.get(),O(()=>{e.load()}),j(()=>c.siteObj.siteId,d=>{e.searchVal.agentLevelId=void 0,d&&ne(d).then(t=>{g.value=t})}),(d,t)=>{var k,x;const s=M,D=P,S=$,F=G,w=q,L=W,n=Y,A=H,T=Q;return m(),b("div",{class:X(u.id?"compen_box":"fli_f_box")},[p("div",re,[u.id?I("",!0):(m(),v(ie,{key:0,filtter:!1,onGetList:e.load},{fittleBtn:o(()=>[p("div",ue,[me,l(s,{type:"primary",link:"",class:"text14"},{default:o(()=>[i(_(e.data.brokerageTotal),1)]),_:1}),pe,ce,_e,l(s,{type:"primary",link:"",class:"text14"},{default:o(()=>[i(_(e.data.brokerageFreeze),1)]),_:1}),he,ge,be,l(s,{type:"primary",link:"",class:"text14"},{default:o(()=>[i(_(e.data.brokerageUsable),1)]),_:1}),ve])]),fittleSear:o(()=>[p("div",fe,[l(F,{style:{margin:"0"}},{default:o(()=>[l(S,{style:{width:"100%"},modelValue:e.searchVal.agentLevelId,"onUpdate:modelValue":t[0]||(t[0]=a=>e.searchVal.agentLevelId=a),clearable:"",placeholder:f(c).siteObj.siteId?"\u8BF7\u9009\u62E9\u4EE3\u7406\u7B49\u7EA7":"\u8BF7\u5148\u9009\u62E9\u7AD9\u70B9",disabled:!f(c).siteObj.siteId,onChange:t[1]||(t[1]=a=>{r.value.pageIndex=1,e.load()})},{default:o(()=>[(m(!0),b(J,null,K(g.value,a=>(m(),v(D,{key:a.id,label:a.name,value:a.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue","placeholder","disabled"])]),_:1})]),p("div",ye,[l(F,{style:{margin:"0"}},{default:o(()=>[l(w,{modelValue:y.value,"onUpdate:modelValue":t[2]||(t[2]=a=>y.value=a),type:"daterange",size:"default",class:"fli_filtitem",style:{width:"100%"},"range-separator":"\u81F3","start-placeholder":"\u63D0\u6210\u65F6\u95F4","end-placeholder":"\u63D0\u6210\u65F6\u95F4","value-format":"X",onChange:t[3]||(t[3]=a=>{[e.searchVal.brokerageTimeStart,e.searchVal.brokerageTimeEnd]=a||[],e.searchVal.brokerageTimeEnd=e.searchVal.brokerageTimeEnd?Number(e.searchVal.brokerageTimeEnd)+86399:void 0,r.value.pageIndex=1,e.load()})},null,8,["modelValue"])]),_:1})]),p("div",Fe,[l(L,{modelValue:e.searchVal.keyword,"onUpdate:modelValue":t[4]||(t[4]=a=>e.searchVal.keyword=a),onBlur:t[5]||(t[5]=a=>{r.value.pageIndex=1,e.load()})},null,8,["modelValue"])])]),_:1},8,["onGetList"])),R((m(),v(A,{data:((x=(k=e.data)==null?void 0:k.data)==null?void 0:x.data)||[],class:"auto",stripe:!0,onSortChange:e.sortChnage,onSelectionChange:e.handleSelectionChange},{default:o(()=>[l(n,{"min-width":"80",label:"\u4EE3\u7406\u7528\u6237\u540D",prop:"memberUsername"},{default:o(({row:a})=>[l(se,{id:a.memberId,name:a.memberUsername||a.username},null,8,["id","name"])]),_:1}),l(n,{prop:"type",label:"\u4EE3\u7406\u7B49\u7EA7","min-width":"80"},{default:o(({row:a})=>[i(_(a.memberLevelName||a.agentLevelName),1)]),_:1}),u.id?I("",!0):(m(),v(n,{key:0,label:"\u6240\u5C5E\u7AD9\u70B9","min-width":"95"},{default:o(({row:a})=>{var V;return[a.siteId==0?(m(),b("span",ke,"\u9ED8\u8BA4\u7AD9\u70B9")):(m(),b("span",xe,_(((V=f(c).siteMap.find(U=>U.id==a.siteId))==null?void 0:V.name)||"-"),1))]}),_:1})),l(n,{"min-width":"80",label:"\u5145\u503C\u4F1A\u5458",prop:"rechargeMemberUsername"},{default:o(({row:a})=>[i(_(a.rechargeMemberUsername||a.rechargeMemberName),1)]),_:1}),l(n,{"min-width":"80",label:"\u5145\u503C\u5185\u5BB9",prop:"rechargeAttach"}),l(n,{"min-width":"80",label:"\u5145\u503C\u91D1\u989D",prop:"rechargeAmount"}),l(n,{"min-width":"80",label:"\u4F63\u91D1\u6BD4\u4F8B",prop:"brokerageScale"}),l(n,{"min-width":"80",label:"\u83B7\u5F97\u4F63\u91D1",prop:"amount2"}),l(n,{"min-width":"80",label:"\u83B7\u5F97\u524D\u4F63\u91D1",prop:"amount1"}),l(n,{"min-width":"80",label:"\u83B7\u5F97\u540E\u4F63\u91D1",prop:"amount3"}),l(n,{prop:"brokerageAt",label:"\u63D0\u6210\u65F6\u95F4",type:"date","min-width":"110"})]),_:1},8,["data","onSortChange","onSelectionChange"])),[[T,e.loading]]),l(de,{pageinfo:r.value,onChange:e.load},null,8,["pageinfo","onChange"])])],2)}}});const Ue=ae(Ve,[["__scopeId","data-v-7964e3d6"]]);export{Ue as default};
