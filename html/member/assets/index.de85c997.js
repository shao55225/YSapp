import{d as I,s as y,i as k,k as e,w as u,q as x,f as z,_ as N,Z as M,r as C,b as L,W as G,F as O,D as H,T as R,t as q,j as A,a5 as xe,e as Q,Q as pe,R as ce,c as P,h as W,$ as le,C as Y,a3 as Ve,a4 as ve,S as se,B as J,p as _e,n as fe,N as K,O as ie,L as re,aq as $e,ar as De,a7 as j,as as be,am as Ae,E as he,at as we,a0 as ge,a1 as Fe,y as te,au as Me,a8 as ne,av as Te,o as Ee,al as ke,an as Ue,aw as Re,ax as Le,A as Ie,ao as Ge,J as qe,a6 as Ne}from"./entry.40130a59.js";/* empty css                        *//* empty css                       *//* empty css                    */import{e as Se,g as oe,a as ze,b as Ke,c as Oe,r as je,d as Pe,f as Ye,h as Je,i as He,j as Qe,k as We,l as Ze,m as Xe,n as eu,o as uu,p as tu,q as lu,s as ou,t as au,u as nu,v as su,w as iu,x as ru,y as du,z as mu,A as pu,B as cu,C as _u,D as fu,E as gu,F as Fu,G as bu}from"./vipStrategy.6d8a2a04.js";import{t as vu}from"./tableHeaderIsShow.40ec9222.js";/* empty css                  *//* empty css                  */import{m as Z}from"./message.61fa73af.js";/* empty css                 *//* empty css                          *//* empty css                          *//* empty css                   */const hu={class:"footer"},Eu=x("\u4FDD\u5B58\u5E76\u66F4\u65B0"),Bu=I({__name:"saveFormData",emits:["change"],setup(w,{emit:v}){const b=()=>{v("change")};return(s,o)=>{const p=z;return y(),k("div",hu,[e(p,{type:"primary",onClick:b},{default:u(()=>[Eu]),_:1})])}}});const ee=N(Bu,[["__scopeId","data-v-4fd04d50"]]),yu={style:{position:"relative",height:"700px"}},Cu=A("span",null,"\u5929",-1),Du=I({__name:"index",setup(w){const v=M("vipStrategyId"),b=C(),s=L({open:!1,memberGroupId:null,number:null}),p=L({number:[{validator:(F,r,f)=>{s.memberGroupId&&(r===""||r===null)?f(new Error("\u9009\u62E9\u4F1A\u5458\u540E\u5929\u6570\u5FC5\u586B")):f()},trigger:"blur"}]}),t=C(),n=M("debounce")(F=>{!F||F.validate(r=>{r&&Se(v==null?void 0:v.value,{...s,type:"member_group"}).then(()=>{G.success({message:"\u66F4\u65B0\u6210\u529F",showClose:!0,position:"bottom-right"}),c()})})},300);oe(v==null?void 0:v.value,{group:"vip"}).then(F=>{t.value=F});const c=()=>{ze(v==null?void 0:v.value).then(F=>{Object.keys(s).forEach(r=>{s[r]=F[r]}),s.memberGroupId=s.memberGroupId===0?null:s.memberGroupId})};return c(),(F,r)=>{const f=xe,a=Q,l=pe,d=ce,i=P,_=W;return y(),k("div",yu,[e(_,{ref_key:"ruleFormRef",ref:b,model:s,"label-position":"left",rules:p,"hide-required-asterisk":!1},{default:u(()=>[e(a,{"label-width":"60px",label:"\u9080\u8BF7\u8D60\u9001",prop:"open"},{default:u(()=>[e(f,{modelValue:s.open,"onUpdate:modelValue":r[0]||(r[0]=B=>s.open=B)},null,8,["modelValue"])]),_:1}),e(a,{"label-width":"180px",label:"\u63A8\u5E7F1\u4F4D\u65B0\u7528\u6237\u6CE8\u518C\u6210\u529F\u53EF\u83B7\u53D6",prop:"memberGroupId"},{default:u(()=>[e(d,{modelValue:s.memberGroupId,"onUpdate:modelValue":r[1]||(r[1]=B=>s.memberGroupId=B),placeholder:"\u8BF7\u9009\u62E9\u4F1A\u5458",style:{width:"120px","margin-right":"12px"}},{default:u(()=>[(y(!0),k(O,null,H(t.value,B=>(y(),R(l,{key:B.id,label:B.name,value:B.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"]),e(a,{"label-width":"0",label:"",prop:"number"},{default:u(()=>[e(i,{modelValue:s.number,"onUpdate:modelValue":r[2]||(r[2]=B=>s.number=B),modelModifiers:{trim:!0,number:!0},style:{"max-width":"150px"},class:"input",placeholder:"\u8BF7\u8F93\u5165\u5929\u6570"},{append:u(()=>[Cu]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["model","rules"]),e(ee,{onChange:r[3]||(r[3]=B=>q(n)(b.value))})])}}}),de=w=>(_e("data-v-486e01cf"),w=w(),fe(),w),xu={style:{padding:"24px"}},Vu={style:{display:"flex","align-items":"center"}},Au=de(()=>A("div",{style:{height:"1px",background:"#e1e6e8",width:"8px",margin:"0 8px"}},null,-1)),wu=x("\u6216"),ku=x("\u4E14"),$u=de(()=>A("span",null,"%",-1)),Mu=de(()=>A("span",null,"%",-1)),Tu=de(()=>A("span",null,"%",-1)),Uu=de(()=>A("span",null,"%",-1)),Ru=x(" \u53D6\u6D88 "),Lu=x(" \u786E\u5B9A "),Iu=I({__name:"edit",emits:["load"],setup(w,{expose:v,emit:b}){const s=C(),o=L({brokerageScaleFirstRecharge:null,brokerageScaleGold:null,brokerageScaleRenewal:null,id:null,levelSerial:null,name:"",performanceDay:0,performanceMax:0,performanceMin:0,withdrawDayTimes:null,withdrawFee:null,withdrawMin:null,performanceLogic:0,performanceType:1,brokerageScaleTeam:null}),p={brokerageScaleFirstRecharge:[{required:!0,message:"\u8BF7\u8F93\u5165\u63D0\u6210",trigger:"blur"},{type:"number",message:"\u8BF7\u8F93\u51651-99\u4E4B\u95F4\u7684\u6570\u5B57",min:1,max:99,trigger:"blur"}],brokerageScaleGold:[{required:!0,message:"\u8BF7\u8F93\u5165\u63D0\u6210",trigger:"blur"},{type:"number",message:"\u8BF7\u8F93\u51651-99\u4E4B\u95F4\u7684\u6570\u5B57",min:1,max:99,trigger:"blur"}],brokerageScaleRenewal:[{required:!0,message:"\u8BF7\u8F93\u5165\u63D0\u6210",trigger:"blur"},{type:"number",message:"\u8BF7\u8F93\u51651-99\u4E4B\u95F4\u7684\u6570\u5B57",min:1,max:99,trigger:"blur"}],levelSerial:[{type:"number",message:"\u8BF7\u8F93\u5165\u6570\u5B57",trigger:"blur"},{required:!0,message:"\u8BF7\u8F93\u5165\u5E8F\u53F7",trigger:"blur"}],name:{required:!0,message:"\u8BF7\u8F93\u5165\u4EE3\u7406\u540D\u79F0",trigger:"blur"},performanceDay:{required:!0,message:"\u8BF7\u8F93\u5165\u6807\u9898",trigger:"blur"},performanceMax:{required:!0,message:"\u8BF7\u8F93\u5165\u6807\u9898",trigger:"blur"},performanceMin:{required:!0,message:"\u8BF7\u8F93\u5165\u6807\u9898",trigger:"blur"},withdrawDayTimes:{required:!0,message:"\u8BF7\u8F93\u5165\u6B21\u6570",trigger:"blur"},withdrawFee:{required:!0,message:"\u8BF7\u8F93\u5165\u624B\u7EED\u8D39\u7387",trigger:"blur"},withdrawMin:[{required:!0,message:"\u8BF7\u8F93\u5165\u91D1\u989D",trigger:"blur"},{type:"number",message:"\u6700\u5C0F\u503C\u4E3A100",min:100,trigger:"blur"}],performanceLogic:{required:!0,message:"\u8BF7\u8F93\u5165\u4E1A\u7EE9",trigger:"blur"},brokerageScaleTeam:[{required:!0,message:"\u8BF7\u8F93\u5165\u63D0\u6210",trigger:"blur"},{type:"number",message:"\u8BF7\u8F93\u51651-99\u4E4B\u95F4\u7684\u6570\u5B57",min:1,max:99,trigger:"blur"}]},t=L({loading:!1,visible:!1,other:{}}),n=M("debounce")(f=>{!f||f.validate(a=>{a&&b("load",o)})},300),c=()=>{o.performanceDay=0,o.performanceMax=0,o.performanceMin=0,o.id=null,t.other={},t.visible=!1};v({open(f){var a;(a=s.value)==null||a.resetFields(),t.visible=!0,t.other=f},handleClose:c});function F(){t.other&&Object.keys(o).forEach(f=>{o[f]=t.other[f]})}const r=le(()=>o.id?"\u7F16\u8F91\u4EE3\u7406":"\u65B0\u589E\u4EE3\u7406");return(f,a)=>{const l=P,d=Q,i=Ve,_=ve,B=W,h=z,E=se,V=J;return y(),k("div",null,[e(E,{"model-value":t.visible,"show-close":!t.loading,"close-on-press-escape":!1,title:q(r),width:500,"z-index":20,"close-on-click-modal":!1,onClose:c,onOpened:F},{footer:u(()=>[e(h,{class:"ml-auto",size:"small",loading:t.loading,onClick:c},{default:u(()=>[Ru]),_:1},8,["loading"]),e(h,{size:"small",loading:t.loading,type:"primary",class:"border-0 bg-orange group-hover:bg-orangeLight",onClick:a[13]||(a[13]=m=>q(n)(s.value))},{default:u(()=>[Lu]),_:1},8,["loading"])]),default:u(()=>[Y((y(),k("div",xu,[e(B,{ref_key:"ruleFormRef",ref:s,"label-width":"100px",model:o,rules:p,"hide-required-asterisk":!1},{default:u(()=>[e(d,{label:"\u5E8F\u53F7",prop:"levelSerial"},{default:u(()=>[e(l,{modelValue:o.levelSerial,"onUpdate:modelValue":a[0]||(a[0]=m=>o.levelSerial=m),modelModifiers:{number:!0},style:{"max-width":"120px"},class:"input",placeholder:"\u8BF7\u8F93\u5165\u5E8F\u53F7"},null,8,["modelValue"])]),_:1}),e(d,{label:"\u4EE3\u7406\u540D\u79F0",prop:"name"},{default:u(()=>[e(l,{modelValue:o.name,"onUpdate:modelValue":a[1]||(a[1]=m=>o.name=m),modelModifiers:{trim:!0},style:{"max-width":"320px"},class:"input",placeholder:"\u8BF7\u8F93\u5165\u4EE3\u7406\u540D\u79F0"},null,8,["modelValue"])]),_:1}),e(d,{label:"\u664B\u5347\u4E1A\u7EE9",prop:"performanceLogic"},{default:u(()=>[A("div",Vu,[e(l,{modelValue:o.performanceMin,"onUpdate:modelValue":a[2]||(a[2]=m=>o.performanceMin=m),modelModifiers:{number:!0},style:{"max-width":"60px"},class:"input",placeholder:""},null,8,["modelValue"]),Au,e(l,{modelValue:o.performanceMax,"onUpdate:modelValue":a[3]||(a[3]=m=>o.performanceMax=m),modelModifiers:{number:!0},style:{"max-width":"60px"},class:"input",placeholder:""},null,8,["modelValue"])]),e(_,{modelValue:o.performanceLogic,"onUpdate:modelValue":a[4]||(a[4]=m=>o.performanceLogic=m)},{default:u(()=>[e(i,{label:0},{default:u(()=>[wu]),_:1}),e(i,{label:1},{default:u(()=>[ku]),_:1})]),_:1},8,["modelValue"]),A("div",null,[e(l,{modelValue:o.performanceDay,"onUpdate:modelValue":a[5]||(a[5]=m=>o.performanceDay=m),modelModifiers:{number:!0},style:{"max-width":"70px"},class:"input",placeholder:""},null,8,["modelValue"])])]),_:1}),e(d,{label:"\u9996\u5145\u63D0\u6210",prop:"brokerageScaleFirstRecharge"},{default:u(()=>[e(l,{modelValue:o.brokerageScaleFirstRecharge,"onUpdate:modelValue":a[6]||(a[6]=m=>o.brokerageScaleFirstRecharge=m),modelModifiers:{number:!0},style:{"max-width":"320px"},class:"input",placeholder:"\u8BF7\u8F93\u5165\u63D0\u6210"},{append:u(()=>[$u]),_:1},8,["modelValue"])]),_:1}),e(d,{label:"\u7EED\u8D39\u63D0\u6210",prop:"brokerageScaleRenewal"},{default:u(()=>[e(l,{modelValue:o.brokerageScaleRenewal,"onUpdate:modelValue":a[7]||(a[7]=m=>o.brokerageScaleRenewal=m),modelModifiers:{number:!0},style:{"max-width":"320px"},class:"input",placeholder:"\u8BF7\u8F93\u5165\u63D0\u6210"},{append:u(()=>[Mu]),_:1},8,["modelValue"])]),_:1}),e(d,{label:"\u91D1\u5E01\u63D0\u6210",prop:"brokerageScaleGold"},{default:u(()=>[e(l,{modelValue:o.brokerageScaleGold,"onUpdate:modelValue":a[8]||(a[8]=m=>o.brokerageScaleGold=m),modelModifiers:{number:!0},style:{"max-width":"320px"},class:"input",placeholder:"\u8BF7\u8F93\u5165\u63D0\u6210"},{append:u(()=>[Tu]),_:1},8,["modelValue"])]),_:1}),e(d,{label:"\u56E2\u961F\u63D0\u6210",prop:"brokerageScaleTeam"},{default:u(()=>[e(l,{modelValue:o.brokerageScaleTeam,"onUpdate:modelValue":a[9]||(a[9]=m=>o.brokerageScaleTeam=m),modelModifiers:{number:!0},style:{"max-width":"320px"},class:"input",placeholder:"\u8BF7\u8F93\u5165\u63D0\u6210"},{append:u(()=>[Uu]),_:1},8,["modelValue"])]),_:1}),e(d,{label:"\u6BCF\u65E5\u63D0\u53D6\u6B21\u6570",prop:"withdrawDayTimes"},{default:u(()=>[e(l,{modelValue:o.withdrawDayTimes,"onUpdate:modelValue":a[10]||(a[10]=m=>o.withdrawDayTimes=m),modelModifiers:{number:!0},style:{"max-width":"320px"},class:"input",placeholder:"\u8BF7\u8F93\u5165\u6B21\u6570"},null,8,["modelValue"])]),_:1}),e(d,{label:"\u6700\u5C0F\u63D0\u53D6\u91D1\u989D",prop:"withdrawMin"},{default:u(()=>[e(l,{modelValue:o.withdrawMin,"onUpdate:modelValue":a[11]||(a[11]=m=>o.withdrawMin=m),modelModifiers:{number:!0},style:{"max-width":"320px"},class:"input",placeholder:"\u8BF7\u8F93\u5165\u91D1\u989D"},null,8,["modelValue"])]),_:1}),e(d,{label:"\u63D0\u73B0\u624B\u7EED\u8D39\u7387",prop:"withdrawFee"},{default:u(()=>[e(l,{modelValue:o.withdrawFee,"onUpdate:modelValue":a[12]||(a[12]=m=>o.withdrawFee=m),modelModifiers:{number:!0},style:{"max-width":"320px"},class:"input",placeholder:"\u8BF7\u8F93\u5165\u624B\u7EED\u8D39\u7387"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])])),[[V,t.loading]])]),_:1},8,["model-value","show-close","title"])])}}});const Gu=N(Iu,[["__scopeId","data-v-486e01cf"]]),qu={class:"domains-nox"},Nu=x("\u65B0\u589E\u4EE3\u7406"),Su=x(" \u7F16\u8F91 "),zu=x(" \u5220\u9664 "),Ku=I({__name:"index",setup(w){const v=M("vipStrategyId"),b=C({pageIndex:1,pageSize:20,total:0}),s=C(),o=L({loading:!1,data:[],searchVal:{keywords:"",order:""},site:[],DNSTable:[],load(n){b.value=n||b.value,o.loading=!0,Ke(v==null?void 0:v.value).then(c=>{o.data=c||[],o.loading=!1})}}),p=n=>{if(o.loading=!0,n.id){const c=o.data.findIndex(F=>F.id===n.id);c!==-1&&(o.data[c]={...n})}else o.data.push({...n});Oe(v==null?void 0:v.value,{saves:o.data}).then(c=>{G.success({message:n.id?"\u66F4\u65B0\u6210\u529F":"\u6DFB\u52A0\u6210\u529F",position:"bottom-right"}),s.value.handleClose()}).finally(()=>{o.load(),o.loading=!1})},t={del:n=>Z({message:"\u786E\u5B9A\u8981\u5220\u9664\u5417\uFF1F",confirmButtonClass:"el-button-danger",okEms:"\u5220\u9664\u6210\u529F"},()=>(o.loading=!0,je(v==null?void 0:v.value,{ids:[n.id]}).finally(()=>{o.load(),o.loading=!1}))),edit(n){s.value.open(n)},add(){s.value.open()}};return o.load(),(n,c)=>{const F=z,r=ie,f=re,a=J;return y(),k("div",null,[A("div",qu,[e(F,{type:"primary",onClick:t.add},{default:u(()=>[Nu]),_:1},8,["onClick"])]),A("div",null,[Y((y(),R(f,{"max-height":"570",stripe:!0,data:o.data},{default:u(()=>[e(r,{prop:"levelSerial",label:"\u5E8F\u53F7"}),e(r,{prop:"name",label:"\u4EE3\u7406\u540D\u79F0",align:"center","show-overflow-tooltip":""},{default:u(({row:l})=>[]),_:1}),e(r,{prop:"resolverName",label:"\u664B\u5347\u4E1A\u7EE9",align:"center","show-overflow-tooltip":""},{default:u(({row:l})=>[x(K(l.performanceMin+"-"+l.performanceMax+(l.performanceLogic===0?"\u6216":"\u4E14")+l.performanceDay),1)]),_:1}),e(r,{prop:"name",label:"\u64CD\u4F5C","show-overflow-tooltip":"",align:"right",width:"210px"},{default:u(({row:l})=>[e(F,{size:"small",link:"",type:"primary",onClick:d=>t.edit(l)},{default:u(()=>[Su]),_:2},1032,["onClick"]),e(F,{type:"danger",link:"",onClick:d=>t.del(l)},{default:u(()=>[zu]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])),[[a,o.loading]]),e(Gu,{onLoad:p,ref_key:"editRef",ref:s},null,512)])])}}});const Ou=N(Ku,[["__scopeId","data-v-aa804395"]]),ju={class:"btn-box"},Pu=I({__name:"emailRegistration",emits:["load"],setup(w,{emit:v}){const b={getGold:"{{name}}\uFF0C\u4F60\u7684\u652F\u4ED8\u5B9D\u8682\u8681\u82B1\u5457\u8D37\u6B3E\u4E00\u76F4\u672A\u5F52\u8FD8\u5B8C\uFF0C\u9884\u7559\u7535\u8BDD\u4E5F\u65E0\u6CD5\u63A5\u901A\uFF0C\u4F60\u7684\u884C\u4E3A\u6D89\u5ACC\u6076\u610F\u62D6\u6B20\uFF0C\u73B0\u6211\u53F8\u5DF2\u51C6\u5907\u76F8\u5173\u7684\u62A5\u6848\u6750\u6599\uFF0C\u5411\u4F60\u5E7F\u4E1C\u7701\u82F1\u5FB7\u5E02\u6237\u7C4D\u5730\u548C\u5DE5\u4F5C\u8F96\u533A\u6D3E\u51FA\u6240\u505A\u62A5\u6848\u5904\u7406\uFF0C\u65E6\u7ACB\u6848\uFF0C\u5BF9\u4F60\u9020\u6210\u4E00\u5207\u8D1F\u9762\u5F71\u54CD\u7531\u4F60\u672C\u4EBA\u627F\u62C5\u3002",getEmail:`\u5C0A\u656C\u7684\u7528\u6237\uFF1A\u60A8\u597D\uFF01
\u60A8\u6B63\u5728\u8FDB\u884C\u9A8C\u8BC1\u90AE\u7BB1\u64CD\u4F5C\uFF0C\u8BF7\u5728\u9A8C\u8BC1\u7801\u8F93\u5165\u6846\u4E2D\u8F93\u5165{{\u9A8C\u8BC1\u7801}}\uFF0C\u5DF2\u5B8C\u6210\u64CD\u4F5C\u3002
\u6CE8\u610F\uFF1A\u6B64\u64CD\u4F5C\u53EF\u80FD\u4F1A\u4FEE\u6539\u4F60\u7684\u5BC6\u7801\uFF0C\u767B\u5F55\u90AE\u7BB1\u6216\u8005\u7ED1\u5B9A\u624B\u673A\u53F7\u3002\u5982\u975E\u672C\u4EBA\u64CD\u4F5C\uFF0C\u8BF7\u53CA\u65F6\u767B\u5F55\u5E76\u4FEE\u6539\u5BC6\u7801\u4EE5\u4FDD\u8BC1\u5B89\u5168\u3002`},s=C(0);let o=null;const p=M("vipStrategyId"),t=C(),n=L({account:"",key:"",port:"",smtp:"",template:"",email:""}),c={account:{required:!0,message:"\u8BF7\u8F93\u5165\u90AE\u7BB1\u8D26\u53F7",trigger:"blur"},key:{required:!0,message:"\u8BF7\u8F93\u5165\u90AE\u7BB1Key",trigger:"blur"},port:{required:!0,message:"\u8BF7\u8F93\u5165smtp\u7AEF\u53E3",trigger:"blur"},smtp:{required:!0,message:"\u8BF7\u8F93\u5165smtp\u670D\u52A1\u5668",trigger:"blur"},template:{required:!0,message:"\u8BF7\u8F93\u5165\u90AE\u7BB1\u5185\u5BB9",trigger:"blur"}},F=i=>{n.template=b[i]},r=()=>{o&&clearInterval(o),o=null,s.value=0},f=()=>{o=setInterval(()=>{s.value===0&&r(),s.value-=1},1e3)},a=M("debounce")(i=>{!i||i.validate(_=>{_&&Pe(p==null?void 0:p.value,n).then(()=>{G.success({message:"\u66F4\u65B0\u6210\u529F",showClose:!0,position:"bottom-right"})})})},300),l=M("debounce")(i=>{if(!n.email)return G.error({message:"\u8BF7\u8F93\u5165\u6D4B\u8BD5\u90AE\u7BB1\u8D26\u53F7",showClose:!0,position:"bottom-right"});if(s.value>0)return G.error({message:"\u592A\u9891\u7E41\u4E86,\u8BF7"+s.value+"s\u540E\u518D\u8BD5",showClose:!0,position:"bottom-right"});!i||i.validate(_=>{_&&Ye(p==null?void 0:p.value,n).then(()=>{s.value=60,f(),G.success({message:"\u53D1\u9001\u6210\u529F",showClose:!0,position:"bottom-right"})}).catch(()=>{r()})})},300);return(()=>{Je(p==null?void 0:p.value).then(i=>{Object.keys(i).forEach(_=>{n[_]=i[_]})})})(),(i,_)=>{const B=P,h=Q,E=z,V=W;return y(),k("div",null,[e(V,{ref_key:"ruleFormRef",ref:t,"label-width":"100px",model:n,rules:c,"label-position":"right"},{default:u(()=>[e(h,{label:"smtp\u670D\u52A1\u5668",prop:"smtp"},{default:u(()=>[e(B,{modelValue:n.smtp,"onUpdate:modelValue":_[0]||(_[0]=m=>n.smtp=m),style:{"max-width":"320px"},class:"input",placeholder:"\u8BF7\u8F93\u5165smtp\u670D\u52A1\u5668"},null,8,["modelValue"])]),_:1}),e(h,{label:"smtp\u7AEF\u53E3",prop:"port"},{default:u(()=>[e(B,{modelValue:n.port,"onUpdate:modelValue":_[1]||(_[1]=m=>n.port=m),modelModifiers:{number:!0},style:{"max-width":"320px"},class:"input",placeholder:"\u8BF7\u8F93\u5165smtp\u7AEF\u53E3"},null,8,["modelValue"])]),_:1}),e(h,{label:"\u90AE\u7BB1\u8D26\u53F7",prop:"account"},{default:u(()=>[e(B,{modelValue:n.account,"onUpdate:modelValue":_[2]||(_[2]=m=>n.account=m),style:{"max-width":"320px"},class:"input",placeholder:"\u8BF7\u8F93\u5165\u90AE\u7BB1\u8D26\u53F7"},null,8,["modelValue"])]),_:1}),e(h,{label:"\u90AE\u7BB1key",prop:"key"},{default:u(()=>[e(B,{modelValue:n.key,"onUpdate:modelValue":_[3]||(_[3]=m=>n.key=m),style:{"max-width":"320px"},class:"input",placeholder:"\u8BF7\u8F93\u5165\u90AE\u7BB1key"},null,8,["modelValue"])]),_:1}),e(h,{label:"\u90AE\u7BB1\u5185\u5BB9",prop:"template"},{default:u(()=>[A("div",null,[e(B,{modelValue:n.template,"onUpdate:modelValue":_[4]||(_[4]=m=>n.template=m),type:"textarea",rows:6,style:{width:"320px"},class:"input",placeholder:"\u8BF7\u8F93\u5165\u90AE\u7BB1\u5185\u5BB9"},null,8,["modelValue"]),A("div",ju,[A("div",{onClick:_[5]||(_[5]=m=>F("getGold"))},"\u83B7\u5F97\u91D1\u5E01"),A("div",{onClick:_[6]||(_[6]=m=>F("getEmail"))},"\u9A8C\u8BC1\u90AE\u7BB1")])])]),_:1}),e(h,{label:"\u6D4B\u8BD5\u90AE\u7BB1\u8D26\u53F7",prop:"email"},{default:u(()=>[e(B,{modelValue:n.email,"onUpdate:modelValue":_[8]||(_[8]=m=>n.email=m),style:{"max-width":"320px"},class:"input",placeholder:"\u8BF7\u8F93\u5165\u6D4B\u8BD5\u90AE\u7BB1\u8D26\u53F7"},{append:u(()=>[e(E,{style:{background:"var(--el-button-bg-color) !important"},onClick:_[7]||(_[7]=m=>q(l)(t.value)),type:"primary"},{default:u(()=>[x(K(s.value>0?s.value+"s":"\u70B9\u51FB\u9A8C\u8BC1"),1)]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model"]),e(ee,{onChange:_[9]||(_[9]=m=>q(a)(t.value))})])}}});const Yu=N(Pu,[["__scopeId","data-v-3543417f"]]),Ju=x("\u817E\u8BAF\u4E91"),Hu=x("\u963F\u91CC\u4E91"),Qu={key:0},Wu={key:1},Zu=I({__name:"mobileRegistration",emits:["load"],setup(w,{emit:v}){const b=C(0);let s=null;const o=M("vipStrategyId"),p=C(),t=L({use:"tencent",mobile:"",smsALi:{accessKeyID:"",accessKeySecret:"",sign:"",templateCode:""},smsTencent:{sDKAppID:"",secretID:"",secretKey:"",sign:"",templateID:""}}),n={title:{required:!0,message:"\u8BF7\u8F93\u5165\u6807\u9898",trigger:"blur"}},c=d=>window.open(d),F=M("debounce")(d=>{!d||d.validate(i=>{i&&He(o==null?void 0:o.value,t).then(()=>{G.success({message:"\u66F4\u65B0\u6210\u529F",showClose:!0,position:"bottom-right"}),l()})})},300),r=()=>{s&&clearInterval(s),s=null,b.value=0},f=()=>{s=setInterval(()=>{b.value===0&&r(),b.value-=1},1e3)},a=M("debounce")(d=>{if(!t.mobile)return G.error({message:"\u8BF7\u8F93\u5165\u624B\u673A\u53F7",showClose:!0,position:"bottom-right"});if(b.value>0)return G.error({message:"\u592A\u9891\u7E41\u4E86,\u8BF7"+b.value+"s\u540E\u518D\u8BD5",showClose:!0,position:"bottom-right"});!d||d.validate(i=>{if(i){const _=t.use==="tencent"?Qe:We,B=t.use==="tencent"?t.smsTencent:t.smsALi;_(o==null?void 0:o.value,{...B,mobile:t.mobile}).then(()=>{b.value=60,f(),G.success({message:"\u53D1\u9001\u6210\u529F",showClose:!0,position:"bottom-right"})}).catch(()=>{r()})}})},300),l=()=>{Ze(o==null?void 0:o.value).then(d=>{Object.keys(d).forEach(i=>{t[i]=d[i]}),t.use===""&&(t.use="ali")})};return l(),$e(()=>{r()}),(d,i)=>{const _=Ve,B=ve,h=Q,E=P,V=z,m=W;return y(),k("div",null,[e(m,{ref_key:"ruleFormRef",ref:p,"label-width":"120px",model:t,rules:n,"label-position":"right"},{default:u(()=>[e(h,{label:"\u8FD0\u8425\u5546",prop:"use"},{default:u(()=>[e(B,{modelValue:t.use,"onUpdate:modelValue":i[0]||(i[0]=g=>t.use=g)},{default:u(()=>[e(_,{label:"tencent"},{default:u(()=>[Ju]),_:1}),e(_,{label:"ali"},{default:u(()=>[Hu]),_:1})]),_:1},8,["modelValue"])]),_:1}),t.use==="tencent"?(y(),k("div",Qu,[e(h,{label:"SDK AppID",rules:[{required:!0,message:"\u8BF7\u8F93\u5165SDK AppID",trigger:"blur"}],prop:["smsTencent","sDKAppID"]},{default:u(()=>[e(E,{modelValue:t.smsTencent.sDKAppID,"onUpdate:modelValue":i[1]||(i[1]=g=>t.smsTencent.sDKAppID=g),modelModifiers:{trim:!0},style:{"max-width":"320px"},class:"input",placeholder:"\u8BF7\u8F93\u5165SDK AppID"},null,8,["modelValue"])]),_:1}),e(h,{label:"\u6A21\u677FID",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u8BF7\u8F93\u5165\u6A21\u677FID",trigger:"blur"}],prop:["smsTencent","templateID"]},{default:u(()=>[e(E,{modelValue:t.smsTencent.templateID,"onUpdate:modelValue":i[2]||(i[2]=g=>t.smsTencent.templateID=g),modelModifiers:{trim:!0},style:{"max-width":"320px"},class:"input",placeholder:"\u8BF7\u8F93\u5165\u6A21\u677FID"},null,8,["modelValue"])]),_:1}),e(h,{label:"Secretld",rules:[{required:!0,message:"\u8BF7\u8F93\u5165Secretld",trigger:"blur"}],prop:["smsTencent","secretID"]},{default:u(()=>[e(E,{modelValue:t.smsTencent.secretID,"onUpdate:modelValue":i[3]||(i[3]=g=>t.smsTencent.secretID=g),modelModifiers:{trim:!0},style:{"max-width":"320px"},class:"input",placeholder:"\u8BF7\u8F93\u5165Secretld"},null,8,["modelValue"])]),_:1}),e(h,{label:"SecretKey",rules:[{required:!0,message:"\u8BF7\u8F93\u5165SecretKey",trigger:"blur"}],prop:["smsTencent","secretKey"]},{default:u(()=>[e(E,{modelValue:t.smsTencent.secretKey,"onUpdate:modelValue":i[4]||(i[4]=g=>t.smsTencent.secretKey=g),modelModifiers:{trim:!0},style:{"max-width":"320px"},class:"input",placeholder:"\u8BF7\u8F93\u5165SecretKey"},null,8,["modelValue"])]),_:1}),e(h,{label:"\u77ED\u4FE1\u7B7E\u540D\u5185\u5BB9",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u7B7E\u540D\u5185\u5BB9",trigger:"blur"}],prop:["smsTencent","sign"]},{default:u(()=>[e(E,{modelValue:t.smsTencent.sign,"onUpdate:modelValue":i[5]||(i[5]=g=>t.smsTencent.sign=g),modelModifiers:{trim:!0},style:{"max-width":"320px"},class:"input",placeholder:"\u8BF7\u8F93\u5165\u7B7E\u540D\u5185\u5BB9"},null,8,["modelValue"])]),_:1}),e(h,{label:"\u7533\u8BF7\u5730\u5740",prop:["smsTencent",""]},{default:u(()=>[A("a",{onClick:i[6]||(i[6]=De(g=>c("https://cloud.tencent.com/product/sms"),["stop","prevent"])),href:""},"https://cloud.tencent.com/product/sms")]),_:1})])):(y(),k("div",Wu,[e(h,{label:"AccessKey ID",rules:[{required:!0,message:"\u8BF7\u8F93\u5165AccessKey ID",trigger:"blur"}],prop:["smsALi","accessKeyID"]},{default:u(()=>[e(E,{modelValue:t.smsALi.accessKeyID,"onUpdate:modelValue":i[7]||(i[7]=g=>t.smsALi.accessKeyID=g),modelModifiers:{trim:!0},style:{"max-width":"320px"},class:"input",placeholder:"\u8BF7\u8F93\u5165AccessKey ID"},null,8,["modelValue"])]),_:1}),e(h,{label:"AccessKey Secret",rules:[{required:!0,message:"\u8BF7\u8F93\u5165AccessKey Secret",trigger:"blur"}],prop:["smsALi","accessKeySecret"]},{default:u(()=>[e(E,{modelValue:t.smsALi.accessKeySecret,"onUpdate:modelValue":i[8]||(i[8]=g=>t.smsALi.accessKeySecret=g),modelModifiers:{trim:!0},style:{"max-width":"320px"},class:"input",placeholder:"\u8BF7\u8F93\u5165AccessKey Secret"},null,8,["modelValue"])]),_:1}),e(h,{label:"\u6A21\u677Fcode",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u6A21\u677Fcode",trigger:"blur"}],prop:["smsALi","templateCode"]},{default:u(()=>[e(E,{modelValue:t.smsALi.templateCode,"onUpdate:modelValue":i[9]||(i[9]=g=>t.smsALi.templateCode=g),modelModifiers:{trim:!0},style:{"max-width":"320px"},class:"input",placeholder:"\u8BF7\u8F93\u5165\u6A21\u677Fcode"},null,8,["modelValue"])]),_:1}),e(h,{label:"\u7B7E\u540D\u540D\u79F0",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u7B7E\u540D\u540D\u79F0",trigger:"blur"}],prop:["smsALi","sign"]},{default:u(()=>[e(E,{modelValue:t.smsALi.sign,"onUpdate:modelValue":i[10]||(i[10]=g=>t.smsALi.sign=g),modelModifiers:{trim:!0},style:{"max-width":"320px"},class:"input",placeholder:"\u8BF7\u8F93\u5165\u7B7E\u540D\u540D\u79F0"},null,8,["modelValue"])]),_:1}),e(h,{label:"\u7533\u8BF7\u5730\u5740",prop:["smsALi","sign"]},{default:u(()=>[A("a",{onClick:i[11]||(i[11]=De(g=>c("https://www.aliyun.com/product/sms"),["stop","prevent"])),href:""},"https://www.aliyun.com/product/sms")]),_:1})])),e(h,{label:"\u6D4B\u8BD5\u624B\u673A\u53F7",prop:["smsALi","mobile"]},{default:u(()=>[e(E,{modelValue:t.mobile,"onUpdate:modelValue":i[13]||(i[13]=g=>t.mobile=g),style:{"max-width":"320px"},class:"input",placeholder:"\u8BF7\u8F93\u5165\u6D4B\u8BD5\u624B\u673A\u53F7"},{append:u(()=>[e(V,{style:{background:"var(--el-button-bg-color) !important"},onClick:i[12]||(i[12]=g=>q(a)(p.value)),type:"primary"},{default:u(()=>[x(K(b.value>0?b.value+"s":"\u70B9\u51FB\u9A8C\u8BC1"),1)]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model"]),e(ee,{onClick:i[14]||(i[14]=g=>q(F)(p.value))})])}}});const Xu=N(Zu,[["__scopeId","data-v-235485e5"]]),Be=w=>(_e("data-v-1d982ca7"),w=w(),fe(),w),et={key:0,style:{margin:"0 10px 0 20px"}},ut=Be(()=>A("span",{style:{margin:"0 20px 0 10px"}},"\u4E2A",-1)),tt=Be(()=>A("span",{style:{margin:"0 10px"}},"\u79D2",-1)),lt={style:{"font-size":"12px","margin-left":"12px",color:"#666"}},ot=Be(()=>A("p",{class:"hint"},[A("span",null,"\u6309\u5929\uFF1A\u6BCF\u5929\u6BCF\u4E2AIP\u6700\u591A\u6CE8\u518CN\u4E2A\u65B0\u8D26\u53F7\uFF0C\u8F93\u5165\u7684\u4E3A\u6B21\u6570\uFF0C\u9ED8\u8BA4\u5929\u6570\u4E3A1"),A("span",null,"\u95F4\u9694\uFF1A\u6BCF\u4E2AIP\u95F4\u9694N\u79D2\u624D\u53EF\u6CE8\u518C\u4E00\u4E2A\u8D26\u53F7\uFF0C\u8F93\u5165\u7684\u503C\u4E3A\u79D2\uFF0C\u9ED8\u8BA4\u6B21\u65701")],-1)),at=x("\u7528\u6237\u540D\u6CE8\u518C"),nt=x("\u90AE\u7BB1\u6CE8\u518C"),st=x("\u624B\u673A\u6CE8\u518C"),it=x(" \u81EA\u52A8\u6CE8\u518C "),rt=I({__name:"registrationConfiguration",emits:["load"],setup(w,{emit:v}){const b=M("vipStrategyId"),s=(l,d,i)=>{t.giftVip.registerUsername||t.registerEmail||t.registerMobile?i():i(new Error("\u5FC5\u987B\u9009\u62E9\u4E00\u79CD\u6CE8\u518C\u65B9\u5F0F"))},o=C([]),p=C(),t=L({gold:null,ipMode:"day",ipModeNum:1,ipLimit:1,giftVip:{memberGroupDays:null,memberGroupId:null,registerUsername:!1},registerEmail:!1,registerMobile:!1,tourists:1}),n=C(),c={},F=M("debounce")(l=>{!l||l.validate(d=>{if(d){const i=JSON.parse(JSON.stringify(t));i.gold=t.gold?t.gold:0,i.giftVip.memberGroupDays=t.giftVip.memberGroupDays?t.giftVip.memberGroupDays:0,i.ipLimit=t.ipLimit-0,i.ipModeNum=t.ipModeNum-0,t.ipMode=="timeout"&&(i.ipLimit=1),t.ipMode=="day"&&(i.ipModeNum=1),Xe(b==null?void 0:b.value,i).then(()=>{G.success({message:"\u66F4\u65B0\u6210\u529F",showClose:!0,position:"bottom-right"}),a()}).finally(()=>{})}})},300),r=l=>{if(!l||t.ipMode=="day")return;const d=Math.floor(l/3600),i=Math.floor(l%3600/60),_=l%60;let B="";d>0&&(B+=d+"\u65F6 "),i>0&&(B+=i+"\u5206 "),B+=_+"\u79D2",n.value=B},f=()=>{r(t.ipModeNum)},a=()=>{eu(b==null?void 0:b.value).then(l=>{Object.keys(l).forEach(d=>{t[d]=l[d]}),t.giftVip.memberGroupId===0&&(t.giftVip.memberGroupId=null),t.ipMode=="timeout"&&r(t.ipModeNum)})};return oe(b==null?void 0:b.value,{group:"vip"}).then(l=>{o.value=l}),a(),(l,d)=>{const i=P,_=Q,B=pe,h=ce,E=Ae,V=he,m=we,g=xe,$=W;return y(),k("div",null,[e($,{ref_key:"ruleFormRef",ref:p,"label-width":"100px",model:t,rules:c,"hide-required-asterisk":!1},{default:u(()=>[e(_,{label:"\u6CE8\u518C\u8D60\u9001\u91D1\u5E01",prop:"gold"},{default:u(()=>[e(i,{modelValue:t.gold,"onUpdate:modelValue":d[0]||(d[0]=D=>t.gold=D),modelModifiers:{number:!0},style:{"max-width":"320px"},class:"input",placeholder:"\u8BF7\u8F93\u5165\u6570\u503C"},null,8,["modelValue"])]),_:1}),e(_,{label:"\u6CE8\u518C\u8D60\u9001\u4F1A\u5458",prop:["giftVip","memberGroupId"]},{default:u(()=>[e(h,{clearable:"",modelValue:t.giftVip.memberGroupId,"onUpdate:modelValue":d[1]||(d[1]=D=>t.giftVip.memberGroupId=D),class:"m-2",placeholder:"\u8BF7\u9009\u62E9\u4F1A\u5458",style:{width:"180px"}},{default:u(()=>[(y(!0),k(O,null,H(o.value,D=>(y(),R(B,{key:D.id,label:D.name,value:D.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"]),t.giftVip.memberGroupId?(y(),k("span",et,"\u5929\u6570")):j("",!0),t.giftVip.memberGroupId?(y(),R(i,{key:1,modelValue:t.giftVip.memberGroupDays,"onUpdate:modelValue":d[2]||(d[2]=D=>t.giftVip.memberGroupDays=D),modelModifiers:{number:!0},style:{"max-width":"80px"},class:"input",placeholder:"\u8BF7\u8F93\u5165"},null,8,["modelValue"])):j("",!0)]),_:1}),e(_,{label:"IP\u9650\u5236",class:"ip_limit_box"},{default:u(()=>[e(h,{clearable:"",modelValue:t.ipMode,"onUpdate:modelValue":d[3]||(d[3]=D=>t.ipMode=D),class:"m-2",placeholder:"\u8BF7\u9009\u62E9\u53D7\u9650\u89C4\u683C",style:{width:"180px"},onChange:f},{default:u(()=>[e(B,{label:"\u6BCF\u5929",value:"day"}),e(B,{label:"\u95F4\u9694",value:"timeout"})]),_:1},8,["modelValue"]),t.ipMode=="day"?(y(),k(O,{key:0},[e(i,{modelValue:t.ipLimit,"onUpdate:modelValue":d[4]||(d[4]=D=>t.ipLimit=D),modelModifiers:{number:!0},style:{"max-width":"80px","margin-left":"20px"},class:"input",placeholder:"\u8BF7\u8F93\u5165"},null,8,["modelValue"]),ut],64)):j("",!0),t.ipMode=="timeout"?(y(),k(O,{key:1},[e(i,{modelValue:t.ipModeNum,"onUpdate:modelValue":d[5]||(d[5]=D=>t.ipModeNum=D),modelModifiers:{number:!0},style:{"max-width":"80px","margin-left":"20px"},class:"input",placeholder:"\u8BF7\u8F93\u5165",onInput:d[6]||(d[6]=D=>r(t.ipModeNum))},null,8,["modelValue"]),tt,A("span",lt,K(n.value),1)],64)):j("",!0),ot]),_:1}),e(_,{rules:[{validator:s,trigger:"blur"}],label:"\u6CE8\u518C\u65B9\u5F0F",prop:"registerList"},{default:u(()=>[e(E,{modelValue:t.giftVip.registerUsername,"onUpdate:modelValue":d[7]||(d[7]=D=>t.giftVip.registerUsername=D)},{default:u(()=>[at]),_:1},8,["modelValue"]),e(E,{modelValue:t.registerEmail,"onUpdate:modelValue":d[8]||(d[8]=D=>t.registerEmail=D)},{default:u(()=>[nt]),_:1},8,["modelValue"]),e(E,{modelValue:t.registerMobile,"onUpdate:modelValue":d[9]||(d[9]=D=>t.registerMobile=D)},{default:u(()=>[st]),_:1},8,["modelValue"])]),_:1},8,["rules"]),e(_,{prop:"tourists"},{label:u(()=>[e(m,{class:"box-item",effect:"dark",content:"\u5F00\u542F\u81EA\u52A8\u6CE8\u518C\u540E\uFF0C\u7528\u6237\u8BBF\u95EE\u7F51\u9875\u6216\u8005APP\u5C06\u4F1A\u81EA\u52A8\u6CE8\u518C\u8D26\u53F7",placement:"left"},{default:u(()=>[e(V,{style:{"margin-right":"4px"},size:14},{default:u(()=>[e(q(be))]),_:1})]),_:1}),it]),default:u(()=>[e(g,{"active-value":1,"inactive-value":-1,modelValue:t.tourists,"onUpdate:modelValue":d[10]||(d[10]=D=>t.tourists=D)},null,8,["modelValue"])]),_:1})]),_:1},8,["model"]),e(ee,{onChange:d[11]||(d[11]=D=>q(F)(p.value))})])}}});const dt=N(rt,[["__scopeId","data-v-1d982ca7"]]),mt=I({__name:"index",setup(w){const v=C("registrationConfiguration"),b=(s,o)=>{console.log(s,o)};return(s,o)=>{const p=ge,t=Fe;return y(),R(t,{modelValue:v.value,"onUpdate:modelValue":o[0]||(o[0]=n=>v.value=n),class:"demo-tabs",onTabClick:b},{default:u(()=>[e(p,{label:"\u6CE8\u518C\u914D\u7F6E",name:"registrationConfiguration"},{default:u(()=>[e(dt)]),_:1}),e(p,{label:"\u90AE\u7BB1\u6CE8\u518C",name:"speciesfiguration"},{default:u(()=>[e(Yu)]),_:1}),e(p,{label:"\u624B\u673A\u6CE8\u518C",name:"goldCoinExchange"},{default:u(()=>[e(Xu)]),_:1})]),_:1},8,["modelValue"])}}});const pt=N(mt,[["__scopeId","data-v-5d9a75cb"]]),ct={class:"domains-nox"},_t=x("\u65B0\u589E\u5956\u52B1"),ft=x(" \u5220\u9664 "),gt=I({__name:"signIn",setup(w){const v=M("vipStrategyId"),b={expandTrigger:"hover",value:"id",label:"name"},s=C([{id:"member_group",name:"\u4F1A\u5458",children:[]},{id:"gold",name:"\u91D1\u5E01"}]),o=C(),p=async f=>{const a=o.value;if(a){const l={},{row:d}=await a.insertAt(l,f);await a.setEditCell(d,"name")}},t=async f=>{const a=o.value;a&&Z({message:"\u786E\u5B9A\u8981\u5220\u9664\u5417\uFF1F",confirmButtonClass:"el-button-danger",okEms:"\u5220\u9664\u6210\u529F"},()=>{var l;return f.id?n([f.id]).then():(l=a==null?void 0:a.remove(f))==null?void 0:l.then()})},n=async f=>{const a=o.value;if(a){const l=f?void 0:await a.validate(!0);if(l){let d="";return Object.values(l).forEach(i=>{i.forEach(_=>{const{rules:B}=_;d=`${B[0].message}`})}),G.error({message:d,showClose:!0,position:"bottom-right"})}else{F.loading=!0;const i=(f&&(f==null?void 0:f.length)>0?F.data.filter(_=>_.id!==f[0]):F.data).concat(a.getRecordset().insertRecords);return tu(v==null?void 0:v.value,{continuousSigns:{list:i.map((_,B)=>_.memberGroupList[0]==="member_group"?{giftType:_.memberGroupList[0],memberGroupId:_.memberGroupList[1],vipDays:_.goldNum,days:_.days,id:_.id,sort:B,siteId:v==null?void 0:v.value}:{giftType:_.memberGroupList[0],goldCoin:_.goldNum,days:_.days,id:_.id,sort:B,siteId:v==null?void 0:v.value}),delIds:f}}).then(()=>{!f&&G.success({message:"\u4FDD\u5B58\u6210\u529F",showClose:!0,position:"bottom-right"}),F.load()}).finally(()=>{F.loading=!1})}}},c=C({pageIndex:1,pageSize:20,total:0}),F=L({loading:!1,data:[],load(f){c.value=f||c.value,F.loading=!0,uu(v==null?void 0:v.value).then(a=>{F.data=(a||[]).map(l=>({id:l.id,goldNum:l.vipDays||l.goldCoin,days:l.days,memberGroupList:l.giftType==="gold"?[l.giftType]:[l.giftType,l.memberGroupId]})),F.loading=!1})}});oe(v==null?void 0:v.value,{group:"vip"}).then(f=>{s.value[0].children=f});const r=C({memberGroupList:[{required:!0,message:"\u5956\u52B1\u4E0D\u80FD\u4E3A\u7A7A"}],goldNum:[{required:!0,message:"\u5956\u52B1\u6570\u91CF\u4E0D\u80FD\u4E3A\u7A7A"}],days:[{required:!0,message:"\u7B7E\u5230\u5929\u6570\u4E0D\u80FD\u4E3A\u7A7A"}]});return F.load(),(f,a)=>{const l=z,d=te("vxe-column"),i=P,_=Me,B=te("vxe-table");return y(),k("div",null,[A("div",ct,[e(l,{type:"primary",onClick:a[0]||(a[0]=h=>p(-1))},{default:u(()=>[_t]),_:1})]),A("div",null,[e(B,{"max-height":"420","row-config":{height:40},"auto-resize":"",ref_key:"xTable",ref:o,"edit-rules":r.value,"show-overflow":"",border:"none",class:"page-vxe-table",align:"left",data:F.data},{default:u(()=>[e(d,{type:"seq",title:"\u5E8F\u53F7",width:"60"}),e(d,{field:"days",title:"\u8FDE\u7EED\u7B7E\u5230\u5929\u6570"},{default:u(({row:h})=>[e(i,{modelValue:h.days,"onUpdate:modelValue":E=>h.days=E,modelModifiers:{number:!0},type:"text"},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),e(d,{field:"memberGroupList",title:"\u5956\u52B1"},{default:u(({row:h})=>[e(_,{modelValue:h.memberGroupList,"onUpdate:modelValue":E=>h.memberGroupList=E,options:s.value,props:b},null,8,["modelValue","onUpdate:modelValue","options"])]),_:1}),e(d,{field:"goldNum",title:"\u5956\u52B1\u6570\u91CF"},{default:u(({row:h})=>[e(i,{modelValue:h.goldNum,"onUpdate:modelValue":E=>h.goldNum=E,modelModifiers:{number:!0},type:"text"},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),e(d,{width:"100",title:"\u64CD\u4F5C"},{default:u(({row:h})=>[e(l,{type:"danger",link:"",onClick:E=>t(h)},{default:u(()=>[ft]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["edit-rules","data"])]),e(ee,{onChange:n})])}}});const Ft=N(gt,[["__scopeId","data-v-a320086c"]]),ye=w=>(_e("data-v-36bf4329"),w=w(),fe(),w),bt={style:{padding:"24px"}},vt=ye(()=>A("span",{class:"pre-num"},"\u5206\u949F",-1)),ht=ye(()=>A("span",{class:"pre-num"},"\u6B21\u6570",-1)),Et=ye(()=>A("span",{class:"pre-num"},"\u4E2A",-1)),Bt=x(" \u53D6\u6D88 "),yt=x(" \u786E\u5B9A "),Ct=I({__name:"editView",emits:["load"],setup(w,{expose:v,emit:b}){const s=M("vipStrategyId"),o=C(),p=L({desc:"",goldNum:1,rewardNum:1,title:"",viewDuration:1,Type:1,sort:1,id:null}),t={title:{required:!0,message:"\u8BF7\u8F93\u5165\u6807\u9898",trigger:"blur"},sort:[{type:"number",message:"\u8BF7\u8F93\u5165\u6570\u5B57",trigger:"blur"},{required:!0,message:"\u8BF7\u8F93\u5165\u5E8F\u53F7",trigger:"blur"}]},n=L({loading:!1,visible:!1,other:{}}),c=M("debounce")(a=>{!a||a.validate(l=>{l&&(n.loading=!0,lu(s==null?void 0:s.value,p).then(()=>{G.success({message:p.id?"\u66F4\u65B0\u6210\u529F":"\u65B0\u589E\u6210\u529F",showClose:!0,position:"bottom-right"}),b("load"),F()}).finally(()=>{n.loading=!1}))})},300),F=()=>{p.id=null,n.other={},n.visible=!1};v({open(a){var l;(l=o.value)==null||l.resetFields(),n.visible=!0,n.other=a}});function r(){n.other&&(p.id=n.other.id,p.desc=n.other.info,p.Type=n.other.taskType,p.viewDuration=parseInt(n.other.parameter)/60,p.rewardNum=n.other.ceiling,p.goldNum=n.other.goldCoin,p.title=n.other.title)}const f=le(()=>p.id?"\u7F16\u8F91\u5956\u52B1":"\u65B0\u589E\u5956\u52B1");return(a,l)=>{const d=P,i=Q,_=he,B=we,h=W,E=z,V=se,m=J;return y(),k("div",null,[e(V,{"model-value":n.visible,"show-close":!n.loading,"close-on-press-escape":!1,title:q(f),width:480,"z-index":20,"close-on-click-modal":!1,onClose:F,onOpened:r},{footer:u(()=>[e(E,{class:"ml-auto",size:"small",loading:n.loading,onClick:F},{default:u(()=>[Bt]),_:1},8,["loading"]),e(E,{size:"small",loading:n.loading,type:"primary",class:"border-0 bg-orange group-hover:bg-orangeLight",onClick:l[6]||(l[6]=g=>q(c)(o.value))},{default:u(()=>[yt]),_:1},8,["loading"])]),default:u(()=>[Y((y(),k("div",bt,[e(h,{ref_key:"ruleFormRef",ref:o,"label-width":"70px",model:p,rules:t,"hide-required-asterisk":!1},{default:u(()=>[e(i,{label:"\u4EFB\u52A1\u6807\u9898",prop:"title"},{default:u(()=>[e(d,{modelValue:p.title,"onUpdate:modelValue":l[0]||(l[0]=g=>p.title=g),modelModifiers:{trim:!0},style:{"max-width":"320px"},class:"input",placeholder:"\u8BF7\u8F93\u5165\u4EFB\u52A1\u6807\u9898"},null,8,["modelValue"])]),_:1}),e(i,{label:"\u5E8F\u53F7",prop:"sort"},{default:u(()=>[e(d,{modelValue:p.sort,"onUpdate:modelValue":l[1]||(l[1]=g=>p.sort=g),modelModifiers:{number:!0},style:{"max-width":"120px"},class:"input",placeholder:"\u8BF7\u8F93\u5165\u5E8F\u53F7"},null,8,["modelValue"])]),_:1}),e(i,{label:"\u4EFB\u52A1\u4ECB\u7ECD",prop:"desc"},{default:u(()=>[e(d,{modelValue:p.desc,"onUpdate:modelValue":l[2]||(l[2]=g=>p.desc=g),modelModifiers:{trim:!0},style:{"max-width":"320px"},rows:7,type:"textarea",class:"input",placeholder:"\u8BF7\u8F93\u5165\u4EFB\u52A1\u4ECB\u7ECD"},null,8,["modelValue"])]),_:1}),e(i,{label:"\u89C2\u770B\u65F6\u957F",prop:"viewDuration"},{default:u(()=>[e(d,{modelValue:p.viewDuration,"onUpdate:modelValue":l[3]||(l[3]=g=>p.viewDuration=g),modelModifiers:{trim:!0,number:!0},style:{"max-width":"120px"},class:"input",placeholder:"\u8BF7\u8F93\u5165\u89C2\u770B\u65F6\u957F"},null,8,["modelValue"]),vt]),_:1}),e(i,{label:"\u5956\u52B1\u6B21\u6570",prop:"rewardNum"},{default:u(()=>[e(d,{modelValue:p.rewardNum,"onUpdate:modelValue":l[4]||(l[4]=g=>p.rewardNum=g),modelModifiers:{trim:!0,number:!0},style:{"max-width":"120px"},class:"input",placeholder:"\u8BF7\u8F93\u5165\u5956\u52B1\u6B21\u6570"},null,8,["modelValue"]),ht,e(B,{class:"box-item",effect:"dark",content:"\u6BCF\u5929\u5956\u52B1\u6B21\u6570\u7684\u4E0A\u9650",placement:"right"},{default:u(()=>[e(_,{style:{"margin-right":"4px"},size:14},{default:u(()=>[e(q(be))]),_:1})]),_:1})]),_:1}),e(i,{label:"\u5956\u52B1\u91D1\u5E01",prop:"goldNum"},{default:u(()=>[e(d,{modelValue:p.goldNum,"onUpdate:modelValue":l[5]||(l[5]=g=>p.goldNum=g),modelModifiers:{trim:!0,number:!0},style:{"max-width":"120px"},class:"input",placeholder:"\u8BF7\u8F93\u5165\u5956\u52B1\u91D1\u5E01"},null,8,["modelValue"]),Et,e(B,{class:"box-item",effect:"dark",content:"\u6BCF\u5929\u5956\u52B1\u91D1\u5E01\u7684\u4E2A\u6570",placement:"right"},{default:u(()=>[e(_,{style:{"margin-right":"4px"},size:14},{default:u(()=>[e(q(be))]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])])),[[m,n.loading]])]),_:1},8,["model-value","show-close","title"])])}}});const Dt=N(Ct,[["__scopeId","data-v-36bf4329"]]),xt={class:"domains-nox"},Vt=x("\u65B0\u589E\u5956\u52B1"),At=x(" \u7F16\u8F91 "),wt=x(" \u5220\u9664 "),kt=I({__name:"view",setup(w){const v=M("vipStrategyId"),b=C({pageIndex:1,pageSize:20,total:0}),s=C(),o=L({loading:!1,data:[],searchVal:{keywords:"",order:""},site:[],DNSTable:[],load(t){b.value=t||b.value,o.loading=!0,ou(v==null?void 0:v.value).then(n=>{o.data=n.List,o.loading=!1})}}),p={del:t=>Z({message:"\u786E\u5B9A\u8981\u5220\u9664\u5417\uFF1F",confirmButtonClass:"el-button-danger",okEms:"\u5220\u9664\u6210\u529F"},()=>au([t.id]).then(n=>o.load())),add(){s.value.open()},edit(t){s.value.open(t)}};return o.load(),(t,n)=>{const c=z,F=ie,r=re,f=J;return y(),k("div",null,[A("div",xt,[e(c,{type:"primary",onClick:p.add},{default:u(()=>[Vt]),_:1},8,["onClick"])]),A("div",null,[Y((y(),R(r,{"max-height":"520",align:"left",stripe:!0,data:o.data},{default:u(()=>[e(F,{prop:"sort",label:"\u5E8F\u53F7","show-overflow-tooltip":""}),e(F,{prop:"title",label:"\u4EFB\u52A1\u6807\u9898","show-overflow-tooltip":""}),e(F,{prop:"goldCoin",label:"\u5956\u52B1\u91D1\u5E01","show-overflow-tooltip":""}),e(F,{prop:"ceiling",label:"\u6BCF\u5929\u5956\u52B1\u6B21\u6570\u4E0A\u9650","show-overflow-tooltip":""}),e(F,{prop:"parameter",label:"\u89C2\u770B\u65F6\u957F\uFF08\u5206\u949F\uFF09","show-overflow-tooltip":""},{default:u(({row:a})=>[x(K(a.parameter/60||0),1)]),_:1}),e(F,{prop:"name",label:"\u64CD\u4F5C","show-overflow-tooltip":"",width:"100px"},{default:u(({row:a})=>[e(c,{type:"primary",link:"",onClick:l=>{p.edit(a)}},{default:u(()=>[At]),_:2},1032,["onClick"]),e(c,{type:"danger",link:"",onClick:l=>{p.del(a)}},{default:u(()=>[wt]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])),[[f,o.loading]]),e(Dt,{onLoad:n[0]||(n[0]=a=>o.load()),ref_key:"editRef",ref:s},null,512)])])}}});const $t=N(kt,[["__scopeId","data-v-4a1ea576"]]),Mt=I({__name:"index",setup(w){const v=C("viewManagement"),b=(s,o)=>{console.log(s,o)};return(s,o)=>{const p=ge,t=Fe;return y(),R(t,{modelValue:v.value,"onUpdate:modelValue":o[0]||(o[0]=n=>v.value=n),class:"demo-tabs",onTabClick:b},{default:u(()=>[e(ne,{name:"fade"},{default:u(()=>[e(p,{label:"\u89C2\u770B\u4EFB\u52A1",name:"viewManagement"},{default:u(()=>[e($t)]),_:1})]),_:1}),e(ne,{name:"fade"},{default:u(()=>[e(p,{label:"\u7B7E\u5230\u4EFB\u52A1",name:"signInManagement"},{default:u(()=>[e(Ft)]),_:1})]),_:1})]),_:1},8,["modelValue"])}}});const Tt=N(Mt,[["__scopeId","data-v-0e2978ac"]]),Ut={class:"domains-nox"},Rt=x("\u6DFB\u52A0\u5957\u9910"),Lt=x(" \u5220\u9664 "),It=I({__name:"goldCoinExchange",setup(w,{expose:v}){const b=M("vipStrategyId"),s=C([]),o=C(),p=async a=>{const l=o.value;if(l){const d={name:"",price:null,number:null},{row:i}=await l.insertAt(d,a);await l.setEditCell(i,"name")}},t=a=>{var l;a.name=(l=s.value.find(d=>a.memberGroupId===d.id))==null?void 0:l.name},n=async a=>{const l=o.value;if(l){const d=a?void 0:await l.validate(!0);if(d){let i="";return Object.values(d).forEach(_=>{_.forEach(B=>{const{rules:h}=B;i=`${h[0].message}`})}),G.error({message:i,showClose:!0,position:"bottom-right"})}else{r.loading=!0;const _=(a&&(a==null?void 0:a.length)>0?r.data.filter(B=>B.id!==a[0]):r.data).concat(l.getRecordset().insertRecords);return su(b==null?void 0:b.value,{list:_,delIds:a}).then(()=>{!a&&G.success({message:"\u4FDD\u5B58\u6210\u529F",showClose:!0,position:"bottom-right"}),r.load()}).finally(()=>{r.loading=!1})}}},c=async a=>{const l=o.value;Z({message:"\u786E\u5B9A\u8981\u5220\u9664\u5417\uFF1F",confirmButtonClass:"el-button-danger",okEms:"\u5220\u9664\u6210\u529F"},()=>a.id?n([a.id]).then():l==null?void 0:l.remove(a).then())},F=C({pageIndex:1,pageSize:20,total:0}),r=L({loading:!1,data:[],searchVal:{keywords:"",order:""},site:[],DNSTable:[],load(a){F.value=a||F.value,r.loading=!0,nu(b==null?void 0:b.value).then(l=>{r.data=l.list}).finally(()=>{r.loading=!1})}}),f=C({description:[{required:!0,message:"\u5957\u9910\u63CF\u8FF0\u4E0D\u80FD\u4E3A\u7A7A"}],sort:[{required:!0,message:"\u5E8F\u53F7\u4E0D\u80FD\u4E3A\u7A7A"}],memberGroupId:[{required:!0,message:"\u5957\u9910\u4F1A\u5458\u4E0D\u80FD\u4E3A\u7A7A"}],number:[{required:!0,message:"\u5151\u6362\u5929\u6570\u4E0D\u80FD\u4E3A\u7A7A"}],price:[{required:!0,message:"\u6240\u9700\u91D1\u5E01\u4E0D\u80FD\u4E3A\u7A7A"}]});return oe(b==null?void 0:b.value,{group:"vip"}).then(a=>{s.value=a}),v({load:r.load}),(a,l)=>{const d=z,i=P,_=te("vxe-column"),B=pe,h=ce,E=te("vxe-table");return y(),k(O,null,[A("div",null,[A("div",Ut,[e(d,{type:"primary",onClick:l[0]||(l[0]=V=>p(-1))},{default:u(()=>[Rt]),_:1})]),A("div",null,[e(E,{"max-height":"420","row-config":{height:40},"edit-rules":f.value,"auto-resize":"",ref_key:"xTable",ref:o,"show-overflow":"",border:"none",class:"page-vxe-table",align:"left",data:r.data},{default:u(()=>[e(_,{field:"sort",title:"\u5E8F\u53F7",width:"60"},{default:u(({row:V})=>[e(i,{modelValue:V.sort,"onUpdate:modelValue":m=>V.sort=m,modelModifiers:{number:!0},type:"text",placeholder:""},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),e(_,{field:"memberGroupId",title:"\u5151\u6362\u4F1A\u5458","edit-render":{}},{default:u(({row:V})=>[e(h,{onChange:m=>t(V),modelValue:V.memberGroupId,"onUpdate:modelValue":m=>V.memberGroupId=m,class:"m-2",placeholder:"\u8BF7\u9009\u62E9\u4F1A\u5458"},{default:u(()=>[(y(!0),k(O,null,H(s.value,m=>(y(),R(B,{key:m.id,label:m.name,value:m.id},null,8,["label","value"]))),128))]),_:2},1032,["onChange","modelValue","onUpdate:modelValue"])]),_:1}),e(_,{field:"number",title:"\u5151\u6362\u5929\u6570","edit-render":{}},{default:u(({row:V})=>[e(i,{modelValue:V.number,"onUpdate:modelValue":m=>V.number=m,modelModifiers:{number:!0},type:"text",placeholder:"\u8BF7\u8F93\u5165\u5929\u6570"},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),e(_,{field:"price",title:"\u6240\u9700\u91D1\u5E01","edit-render":{}},{default:u(({row:V})=>[e(i,{modelValue:V.price,"onUpdate:modelValue":m=>V.price=m,modelModifiers:{number:!0},type:"text",placeholder:"\u8BF7\u8F93\u5165\u91D1\u5E01"},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),e(_,{field:"description",title:"\u5957\u9910\u63CF\u8FF0","edit-render":{}},{default:u(({row:V})=>[e(i,{modelValue:V.description,"onUpdate:modelValue":m=>V.description=m,type:"text",placeholder:"\u8BF7\u8F93\u5165\u5957\u9910\u63CF\u8FF0"},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),e(_,{width:"100",title:"\u64CD\u4F5C"},{default:u(({row:V})=>[e(d,{type:"danger",link:"",onClick:m=>{c(V)}},{default:u(()=>[Lt]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["edit-rules","data"])])]),e(ee,{onChange:n})],64)}}});const Gt=N(It,[["__scopeId","data-v-96e0b714"]]),qt={class:"domains-nox"},Nt=x("\u6DFB\u52A0\u5957\u9910"),St=x(" \u5220\u9664 "),zt=I({__name:"speciesfiguration",setup(w,{expose:v}){const b=M("vipStrategyId"),s=C(),o=async r=>{const f=s.value;if(f){const a={name:"",price:null,number:null},{row:l}=await f.insertAt(a,r);await f.setEditCell(l,"name")}},p=async r=>{const f=s.value;if(f){const a=await f.validate(!0);if(console.log(a,"errMap"),a){let l="";return Object.values(a).forEach(d=>{d.forEach(i=>{const{rules:_}=i;l=`${_[0].message}`})}),G.error({message:l,showClose:!0,position:"bottom-right"})}else{c.loading=!0;const d=(r&&(r==null?void 0:r.length)>0?c.data.filter(i=>i.id!==r[0]):c.data).concat(f.getRecordset().insertRecords);return ru(b==null?void 0:b.value,{list:d.map(i=>({...i,price:i.price*100})),delIds:r}).then(()=>{!r&&G.success({message:"\u4FDD\u5B58\u6210\u529F",showClose:!0,position:"bottom-right"}),c.load()}).finally(()=>{c.loading=!1})}}},t=async r=>{const f=s.value;Z({message:"\u786E\u5B9A\u8981\u5220\u9664\u5417\uFF1F",confirmButtonClass:"el-button-danger",okEms:"\u5220\u9664\u6210\u529F"},()=>r.id?p([r.id]).then():f==null?void 0:f.remove(r).then())},n=C({pageIndex:1,pageSize:20,total:0}),c=L({loading:!1,data:[],searchVal:{keywords:"",order:""},site:[],DNSTable:[],load(r){n.value=r||n.value,c.loading=!0,iu(b==null?void 0:b.value).then(f=>{c.data=f.list.map(a=>({...a,price:a.price/100}))}).finally(()=>{c.loading=!1})}}),F=C({name:[{required:!0,message:"\u5957\u9910\u63CF\u8FF0\u4E0D\u80FD\u4E3A\u7A7A"}],price:[{required:!0,message:"\u91D1\u989D\u4E0D\u80FD\u4E3A\u7A7A"}],number:[{required:!0,message:"\u91D1\u5E01\u4E0D\u80FD\u4E3A\u7A7A"}]});return v({load:c.load}),(r,f)=>{const a=z,l=te("vxe-column"),d=P,i=te("vxe-table");return y(),k(O,null,[A("div",null,[A("div",qt,[e(a,{type:"primary",onClick:f[0]||(f[0]=_=>o(-1))},{default:u(()=>[Nt]),_:1})]),A("div",null,[e(i,{"row-config":{height:40},"max-height":"420","edit-rules":F.value,"auto-resize":"",ref_key:"xTable",ref:s,"show-overflow":"",border:"none",class:"page-vxe-table",align:"left",data:c.data},{default:u(()=>[e(l,{type:"seq",title:"\u5E8F\u53F7",width:"60"}),e(l,{field:"name",title:"\u5957\u9910\u63CF\u8FF0","edit-render":{autofocus:".vxe-input--inner",defaultValue:"\u9ED8\u8BA4\u7684\u540D\u5B57"}},{default:u(({row:_})=>[e(d,{modelValue:_.name,"onUpdate:modelValue":B=>_.name=B,type:"text",placeholder:"\u8BF7\u8F93\u5165\u5957\u9910\u63CF\u8FF0"},null,8,["modelValue","onUpdate:modelValue"])]),_:1},8,["edit-render"]),e(l,{field:"price",title:"\u652F\u4ED8\u91D1\u989D\uFF08\u5143\uFF09","edit-render":{}},{default:u(({row:_})=>[e(d,{modelValue:_.price,"onUpdate:modelValue":B=>_.price=B,modelModifiers:{number:!0},type:"text",placeholder:"\u8BF7\u8F93\u5165\u91D1\u989D"},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),e(l,{field:"number",title:"\u8D2D\u4E70\u91D1\u5E01","edit-render":{}},{default:u(({row:_})=>[e(d,{modelValue:_.number,"onUpdate:modelValue":B=>_.number=B,modelModifiers:{number:!0},type:"text",placeholder:"\u8BF7\u8F93\u5165\u91D1\u5E01"},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),e(l,{width:"100",title:"\u64CD\u4F5C"},{default:u(({row:_})=>[e(a,{type:"danger",link:"",onClick:B=>t(_)},{default:u(()=>[St]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["edit-rules","data"])])]),e(ee,{onChange:p})],64)}}});const Kt=N(zt,[["__scopeId","data-v-65b77b5f"]]),Ot={style:{padding:"24px"}},jt=x("\u65B0\u589E\u5957\u9910"),Pt={class:"package"},Yt={style:{display:"flex"}},Jt=x("\u5143"),Ht={style:{display:"flex"}},Qt=x(" \u53D6\u6D88 "),Wt=x(" \u786E\u5B9A "),Zt=I({__name:"editVipConfiguration",emits:["load"],setup(w,{expose:v,emit:b}){const s=M("vipStrategyId"),o=(h,E,V)=>{/^\d+(\.\d{3,})$/.test(E.toString())?V(new Error("\u4EF7\u683C\u6700\u591A\u4FDD\u7559\u4E24\u4F4D\u5C0F\u6570")):V()},p=C([]);let t=[];const n=C(),c=L({name:"",sort:null,description:"",data:[],groupId:null,id:null}),F={groupId:{required:!0,message:"\u8BF7\u9009\u62E9\u4F1A\u5458",trigger:"blur"},sort:[{type:"number",message:"\u8BF7\u8F93\u5165\u6570\u5B57",trigger:"blur"},{required:!0,message:"\u8BF7\u8F93\u5165\u5E8F\u53F7",trigger:"blur"}]},r=L({loading:!1,visible:!1,other:{}}),f=()=>{c.data.push({name:"",sort:0})},a=(h,E)=>{Z({message:"\u786E\u5B9A\u8981\u5220\u9664\u5417\uFF1F",confirmButtonClass:"el-button-danger",okEms:"\u5220\u9664\u6210\u529F"},()=>(c.data.splice(h,1),E&&t.push(E),Promise.resolve()))},l=M("debounce")(h=>{!h||h.validate(E=>{if(E){r.loading=!0;const V=c.data.map(m=>{var g;return{...m,sort:c.sort,price:parseFloat(m.price)*100,name:(g=p.value.find($=>$.id===c.groupId))==null?void 0:g.name}});console.log(s==null?void 0:s.value),du(s==null?void 0:s.value,{id:c.id,sort:c.sort,description:c.description,memberGroupId:c.groupId,siteId:s==null?void 0:s.value,list:V,delIds:t}).then(()=>{var m;G.success({message:(m=r.other)!=null&&m.id?"\u66F4\u65B0\u6210\u529F":"\u65B0\u589E\u6210\u529F",showClose:!0,position:"bottom-right"}),b("load"),d()}).finally(()=>{r.loading=!1})}})},300),d=()=>{c.id=null,r.other={},c.data=[],t=[],r.visible=!1};v({open(h){var E;oe(s==null?void 0:s.value,{group:"vip"}).then(V=>{p.value=V}),r.visible=!0,h&&(r.other=h,(E=n.value)==null||E.resetFields())}});const i=h=>Math.floor(h)===h?h:h.toFixed(2);function _(){var h,E,V,m,g,$;c.groupId=(h=r.other)==null?void 0:h.memberGroupId,c.id=(E=r.other)==null?void 0:E.id,c.description=(V=r.other)==null?void 0:V.description,c.sort=(m=r.other)==null?void 0:m.sort,(g=r.other)!=null&&g.id&&mu({siteId:s==null?void 0:s.value,groupId:($=r.other)==null?void 0:$.id}).then(D=>{c.data=(D||[]).map(S=>({...S,price:i(S.price/100)}))})}const B=le(()=>c.id?"\u7F16\u8F91\u5957\u9910":"\u65B0\u589E\u5957\u9910");return(h,E)=>{const V=pe,m=ce,g=Q,$=P,D=z,S=he,ue=W,ae=se,me=J;return y(),k("div",null,[e(ae,{"model-value":r.visible,"show-close":!r.loading,"close-on-press-escape":!1,title:q(B),width:520,"z-index":20,"close-on-click-modal":!1,onClose:d,onOpened:_},{footer:u(()=>[e(D,{class:"ml-auto",size:"small",loading:r.loading,onClick:d},{default:u(()=>[Qt]),_:1},8,["loading"]),e(D,{size:"small",loading:r.loading,type:"primary",class:"border-0 bg-orange group-hover:bg-orangeLight",onClick:E[3]||(E[3]=U=>q(l)(n.value))},{default:u(()=>[Wt]),_:1},8,["loading"])]),default:u(()=>[Y((y(),k("div",Ot,[e(ue,{ref_key:"ruleFormRef",ref:n,"label-width":"90px",model:c,rules:F,"hide-required-asterisk":!1},{default:u(()=>[e(g,{label:"\u4F1A\u5458",prop:"groupId"},{default:u(()=>[e(m,{disabled:c.id,modelValue:c.groupId,"onUpdate:modelValue":E[0]||(E[0]=U=>c.groupId=U),placeholder:"\u8BF7\u9009\u62E9\u4F1A\u5458",style:{width:"320px"}},{default:u(()=>[(y(!0),k(O,null,H(p.value,U=>(y(),R(V,{key:U.id,label:U.name,value:U.id},null,8,["label","value"]))),128))]),_:1},8,["disabled","modelValue"])]),_:1}),e(g,{label:"\u5E8F\u53F7",prop:"sort"},{default:u(()=>[e($,{modelValue:c.sort,"onUpdate:modelValue":E[1]||(E[1]=U=>c.sort=U),modelModifiers:{trim:!0,number:!0},style:{"max-width":"320px"},class:"input",placeholder:"\u8BF7\u8F93\u5165\u5E8F\u53F7"},null,8,["modelValue"])]),_:1}),e(g,{label:"\u5957\u9910\u63CF\u8FF0",prop:"description"},{default:u(()=>[e($,{modelValue:c.description,"onUpdate:modelValue":E[2]||(E[2]=U=>c.description=U),modelModifiers:{trim:!0},style:{"max-width":"320px"},class:"input",placeholder:"\u8BF7\u8F93\u5165\u5957\u9910\u63CF\u8FF0"},null,8,["modelValue"])]),_:1}),e(g,{label:"\u4F1A\u5458\u5957\u9910",prop:"data"},{default:u(()=>[e(D,{type:"primary",onClick:f},{default:u(()=>[jt]),_:1})]),_:1}),(y(!0),k(O,null,H(c.data,(U,X)=>(y(),k("div",Pt,[A("div",Yt,[e(g,{"label-width":"74px",label:"\u5929\u6570",prop:["data",X,"number"]},{default:u(()=>[e($,{modelValue:U.number,"onUpdate:modelValue":T=>U.number=T,modelModifiers:{trim:!0,number:!0},style:{"max-width":"132px"},class:"input",placeholder:"\u8BF7\u8F93\u5165\u5929\u6570"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["prop"]),e(g,{"label-width":"74px",label:"\u91D1\u989D",rules:[{validator:o,trigger:"blur"}],prop:["data",X,"price"]},{default:u(()=>[e($,{modelValue:U.price,"onUpdate:modelValue":T=>U.price=T,modelModifiers:{trim:!0},style:{"max-width":"120px"},class:"input",placeholder:"\u8BF7\u8F93\u5165\u91D1\u989D"},{append:u(()=>[Jt]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:2},1032,["rules","prop"])]),A("div",Ht,[e(g,{"label-width":"76px",label:"\u5957\u9910\u8BE6\u60C5",prop:["data",X,"description"]},{default:u(()=>[e($,{modelValue:U.description,"onUpdate:modelValue":T=>U.description=T,modelModifiers:{trim:!0},style:{"max-width":"132px"},class:"input",placeholder:"\u8BF7\u8F93\u5165\u5957\u9910\u8BE6\u60C5"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["prop"]),e(g,{"label-width":"74px",label:"\u6298\u6263",prop:["data",X,"discountDesc"]},{default:u(()=>[e($,{modelValue:U.discountDesc,"onUpdate:modelValue":T=>U.discountDesc=T,modelModifiers:{trim:!0},style:{"max-width":"120px"},class:"input",placeholder:"\u8BF7\u8F93\u5165\u6298\u6263"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["prop"])]),e(S,{onClick:T=>a(X,U.id),color:"#FF4D4F",class:"delete-icon"},{default:u(()=>[e(q(Te))]),_:2},1032,["onClick"])]))),256))]),_:1},8,["model"])])),[[me,r.loading]])]),_:1},8,["model-value","show-close","title"])])}}});const Xt=N(Zt,[["__scopeId","data-v-be47a066"]]),el={class:"domains-nox"},ul=x("\u65B0\u589E\u5957\u9910"),tl=x(" \u7F16\u8F91 "),ll=x(" \u5220\u9664 "),ol=I({__name:"vipConfiguration",setup(w,{expose:v}){const b=M("vipStrategyId"),s=C({pageIndex:1,pageSize:20,total:0}),o=C(),p=L({loading:!1,data:[],searchVal:{keywords:"",order:""},site:[],DNSTable:[],load(n){s.value=n||s.value,p.loading=!0,pu(b==null?void 0:b.value).then(c=>{p.data=c}).finally(()=>{p.loading=!1})}}),t={del:n=>Z({message:"\u786E\u5B9A\u8981\u5220\u9664\u5417\uFF1F",confirmButtonClass:"el-button-danger",okEms:"\u5220\u9664\u6210\u529F"},()=>cu({siteId:b==null?void 0:b.value,groupId:n==null?void 0:n.id}).then(()=>{p.load()})),open(n){o.value.open(n)},add(){o.value.open()}};return p.load(),v({load:p.load}),(n,c)=>{const F=z,r=ie,f=re,a=J;return y(),k("div",null,[A("div",el,[e(F,{type:"primary",onClick:t.add},{default:u(()=>[ul]),_:1},8,["onClick"])]),A("div",null,[Y((y(),R(f,{"max-height":"520",align:"left",stripe:!0,data:p.data},{default:u(()=>[e(r,{prop:"sort",label:"\u5E8F\u53F7",width:"300px","show-overflow-tooltip":""}),e(r,{prop:"memberGroupName",label:"\u4F1A\u5458\u540D\u79F0","show-overflow-tooltip":""}),e(r,{label:"\u64CD\u4F5C","show-overflow-tooltip":"",width:"100px"},{default:u(({row:l})=>[e(F,{type:"primary",link:"",onClick:d=>t.open(l)},{default:u(()=>[tl]),_:2},1032,["onClick"]),e(F,{type:"danger",link:"",onClick:d=>t.del(l)},{default:u(()=>[ll]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])),[[a,p.loading]]),e(Xt,{onLoad:c[0]||(c[0]=l=>p.load()),ref_key:"editRef",ref:o},null,512)])])}}});const al=N(ol,[["__scopeId","data-v-722636cf"]]),nl=I({__name:"index",setup(w){const v=C("vipConfiguration"),b=C(!1),s=C(),o=C(),p=C(),t=(n,c)=>{var F,r,f;switch(n.paneName){case"vipConfiguration":return(F=s.value)==null?void 0:F.load();case"speciesfiguration":return(r=o.value)==null?void 0:r.load();case"goldCoinExchange":return(f=p.value)==null?void 0:f.load()}};return(n,c)=>{const F=ge,r=Fe,f=J;return Y((y(),R(r,{modelValue:v.value,"onUpdate:modelValue":c[0]||(c[0]=a=>v.value=a),onTabClick:t},{default:u(()=>[e(ne,{name:"fade"},{default:u(()=>[e(F,{label:"\u4F1A\u5458\u5957\u9910",name:"vipConfiguration"},{default:u(()=>[e(al,{ref_key:"vipConfigurationRef",ref:s},null,512)]),_:1})]),_:1}),e(ne,{name:"fade"},{default:u(()=>[e(F,{label:"\u91D1\u5E01\u5957\u9910",name:"speciesfiguration"},{default:u(()=>[e(Kt,{ref_key:"speciesfigurationRef",ref:o},null,512)]),_:1})]),_:1}),e(ne,{name:"fade"},{default:u(()=>[e(F,{label:"\u91D1\u5E01\u5151\u6362",name:"goldCoinExchange"},{default:u(()=>[e(Gt,{ref_key:"goldCoinExchangeRef",ref:p},null,512)]),_:1})]),_:1})]),_:1},8,["modelValue"])),[[f,b.value]])}}});const sl=N(nl,[["__scopeId","data-v-9a2b8836"]]),il=w=>(_e("data-v-506a7c15"),w=w(),fe(),w),rl={style:{padding:"24px 0"}},dl=il(()=>A("div",{class:"info"},[A("div",null," 1.\u5206\u7C7B\u9875\u3001\u8BE6\u60C5\u9875\u3001\u64AD\u653E\u98753\u4E2A\u6743\u9650\uFF0C\u63A7\u5236\u662F\u5426\u53EF\u4EE5\u8FDB\u5165\u9875\u9762\uFF0C\u6CA1\u6743\u9650\u4F1A\u76F4\u63A5\u8FD4\u56DE\u63D0\u793A\u4FE1\u606F\u3002 "),A("div",null," 2.\u514D\u91D1\u5E01\u64AD\u653E\uFF1A\u89C6\u9891\u6570\u636E\u8BBE\u7F6E\u4E86\u91D1\u5E01\u64AD\u653E\uFF0C\u6709\u6743\u9650\u4E0D\u7528\u652F\u4ED8\u91D1\u5E01\u4E5F\u53EF\u4EE5\u64AD\u653E\u89C6\u9891\u3002 ")],-1)),ml={class:"checkgroup"},pl={class:"headerCheck"},cl=x("\u5168\u9009"),_l=x(" \u53CD\u9009 "),fl={class:"siteclassify-name"},gl=x(" \u53D6\u6D88 "),Fl=x(" \u786E\u5B9A "),bl=I({__name:"edit",emits:["load"],setup(w,{expose:v,emit:b}){const s=M("vipStrategyId"),o=[{id:1,name:"\u5206\u7C7B\u9875"},{id:2,name:"\u8BE6\u60C5\u9875"},{id:4,name:"\u64AD\u653E\u9875"},{id:8,name:"\u514D\u91D1\u5E01\u64AD\u653E"}],p=C(),t=L({name:"",id:"",description:""}),n={title:{required:!0,message:"\u8BF7\u8F93\u5165\u6807\u9898",trigger:"blur"}},c=L({loading:!1,visible:!1}),F=C(!1),r=C(!1),f=C(!1),a=C([]),l=C([]),d=m=>{const g=[];l.value.forEach($=>{o.forEach(D=>{g.push($.id+"-"+D.id)})}),a.value=m?g:[],f.value=!1},i=m=>{const g=m.length;F.value=g===l.value.length*o.length,f.value=g>0&&g<l.value.length*o.length},_=()=>{const m=[];l.value.forEach($=>{o.map(D=>{if(!a.value.includes($.id+"-"+D.id))return m.push($.id+"-"+D.id)})}),a.value=m;const g=a.value.length;F.value=g===l.value.length*o.length,f.value=g>0&&g<l.value.length*o.length},B=M("debounce")(m=>{!m||m.validate(g=>{const $=[];if(l.value.forEach(D=>{const S=[];o.forEach(ue=>{a.value.findIndex(ae=>ae===D.id+"-"+ue.id)!==-1&&S.push(ue.id)}),S.length>0&&$.push({categoryId:D.id,categoryName:D.name,permission:S})}),g){c.loading=!0;const D={...t,permission:$};(t.id?_u:fu)({id:s==null?void 0:s.value,groupId:t==null?void 0:t.id},D).then(()=>{G.success({message:t.id?"\u66F4\u65B0\u6210\u529F":"\u65B0\u589E\u6210\u529F",showClose:!0,position:"bottom-right"}),b("load"),h()}).finally(()=>{c.loading=!1})}})},300);Ee(()=>{gu(s==null?void 0:s.value).then(m=>{l.value=m})});const h=()=>{a.value=[],t.id="",F.value=!1,r.value=!1,c.visible=!1};v({open(m){var $;if(($=p.value)==null||$.resetFields(),c.visible=!0,!m)return;t.id=m==null?void 0:m.id,t.name=m==null?void 0:m.name,t.description=m==null?void 0:m.description;const g=[];m.permissions.forEach(D=>{D.permissionItem.forEach(S=>{g.push(D.categoryId+"-"+S)})}),a.value=g,ke(()=>{const D=a.value.length;F.value=D===l.value.length*o.length,f.value=D>0&&D<l.value.length*o.length})}});function E(){}const V=le(()=>t.id?"\u7F16\u8F91\u4F1A\u5458":"\u65B0\u589E\u4F1A\u5458");return(m,g)=>{const $=P,D=Q,S=Ae,ue=Ue,ae=W,me=z,U=se,X=J;return y(),k("div",null,[e(U,{"model-value":c.visible,"show-close":!c.loading,"close-on-press-escape":!1,title:q(V),width:710,"z-index":20,"close-on-click-modal":!1,onClose:h,onOpened:E},{footer:u(()=>[e(me,{class:"ml-auto",size:"small",loading:c.loading,onClick:h},{default:u(()=>[gl]),_:1},8,["loading"]),e(me,{size:"small",loading:c.loading,type:"primary",class:"border-0 bg-orange group-hover:bg-orangeLight",onClick:g[5]||(g[5]=T=>q(B)(p.value))},{default:u(()=>[Fl]),_:1},8,["loading"])]),default:u(()=>[Y((y(),k("div",rl,[e(ae,{ref_key:"ruleFormRef",ref:p,"label-width":"120px",model:t,rules:n,"hide-required-asterisk":!1},{default:u(()=>[e(D,{label:"\u4F1A\u5458\u540D\u79F0",prop:"name"},{default:u(()=>[e($,{modelValue:t.name,"onUpdate:modelValue":g[0]||(g[0]=T=>t.name=T),modelModifiers:{trim:!0},style:{"max-width":"320px"},class:"input",placeholder:"\u8BF7\u8F93\u5165\u4F1A\u5458\u540D\u79F0"},null,8,["modelValue"])]),_:1}),e(D,{label:"\u4F1A\u5458\u63CF\u8FF0",prop:"description"},{default:u(()=>[e($,{modelValue:t.description,"onUpdate:modelValue":g[1]||(g[1]=T=>t.description=T),modelModifiers:{trim:!0},style:{"max-width":"320px"},class:"input",placeholder:"\u8BF7\u8F93\u5165\u4F1A\u5458\u63CF\u8FF0"},null,8,["modelValue"])]),_:1}),e(D,{label:"\u6743\u9650\u8BF4\u660E"},{default:u(()=>[dl]),_:1}),e(D,{label:"\u6743\u9650\u63A7\u5236",prop:"Type"},{default:u(()=>[A("div",ml,[A("div",pl,[e(S,{modelValue:F.value,"onUpdate:modelValue":g[2]||(g[2]=T=>F.value=T),indeterminate:f.value,onChange:d},{default:u(()=>[cl]),_:1},8,["modelValue","indeterminate"]),e(S,{modelValue:r.value,"onUpdate:modelValue":g[3]||(g[3]=T=>r.value=T),onChange:_},{default:u(()=>[_l]),_:1},8,["modelValue"])]),e(ue,{modelValue:a.value,"onUpdate:modelValue":g[4]||(g[4]=T=>a.value=T),onChange:i},{default:u(()=>[(y(!0),k(O,null,H(l.value,T=>(y(),k("div",{style:{display:"flex","align-items":"center"},key:T.id},[A("div",fl,K(T.name),1),(y(),k(O,null,H(o,Ce=>e(S,{label:T.id+"-"+Ce.id},{default:u(()=>[x(K(Ce.name),1)]),_:2},1032,["label"])),64))]))),128))]),_:1},8,["modelValue"])])]),_:1})]),_:1},8,["model"])])),[[X,c.loading]])]),_:1},8,["model-value","show-close","title"])])}}});const vl=N(bl,[["__scopeId","data-v-506a7c15"]]),hl={class:"domains-nox"},El=x("\u6DFB\u52A0"),Bl=x(" \u7F16\u8F91 "),yl=x(" \u5220\u9664 "),Cl=I({__name:"index",props:{data:{type:Object,default:()=>{}}},emits:["load"],setup(w,{emit:v}){const b=C(),s=M("vipStrategyId"),o=C({pageIndex:1,pageSize:20,total:0}),p=L({loading:!1,data:[],searchVal:{keywords:"",order:""},site:[],DNSTable:[],load(n){p.loading=!0,oe(s==null?void 0:s.value).then(c=>{p.data=c}).finally(()=>{p.loading=!1}),o.value=n||o.value}}),t={del:n=>Z({message:"\u786E\u5B9A\u8981\u5220\u9664\u5417\uFF1F",confirmButtonClass:"el-button-danger",okEms:"\u5220\u9664\u6210\u529F"},()=>Fu({id:s==null?void 0:s.value,groupId:n.id}).then(c=>(p.load(),c))),edit:n=>{b.value.open(n)},add(){b.value.open()}};return Ee(()=>{p.load()}),(n,c)=>{const F=z,r=ie,f=re,a=J;return y(),k("div",null,[A("div",hl,[e(F,{type:"primary",onClick:t.add},{default:u(()=>[El]),_:1},8,["onClick"])]),A("div",null,[Y((y(),R(f,{"max-height":"570",align:"left",stripe:!0,data:p.data},{default:u(()=>[e(r,{type:"index",label:"\u5E8F\u53F7",width:"300px","show-overflow-tooltip":""}),e(r,{prop:"name",label:"\u4F1A\u5458\u540D\u79F0","show-overflow-tooltip":""}),e(r,{prop:"description",label:"\u4F1A\u5458\u63CF\u8FF0","show-overflow-tooltip":""}),e(r,{prop:"name",label:"\u64CD\u4F5C","show-overflow-tooltip":"",width:"100px"},{default:u(({row:l})=>[e(F,{type:"primary",link:"",onClick:d=>{t.edit(l)}},{default:u(()=>[Bl]),_:2},1032,["onClick"]),l.nameKey==="vip"?(y(),R(F,{key:0,type:"danger",link:"",onClick:d=>{t.del(l)}},{default:u(()=>[yl]),_:2},1032,["onClick"])):j("",!0)]),_:1})]),_:1},8,["data"])),[[a,p.loading]]),e(vl,{onLoad:c[0]||(c[0]=l=>p.load()),ref_key:"editRef",ref:b},null,512)])])}}});const Dl=N(Cl,[["__scopeId","data-v-3423685e"]]),xl={class:"felx",style:{"flex-direction":"row",height:"100%"}},Vl={class:"jh-boxs",style:{height:"620px",overflow:"auto"}},Al=I({__name:"editVipStrategy",emits:["update"],setup(w,{expose:v,emit:b}){const s=L({loading:!1,visible:!1,other:void 0,tabIndex:1}),o=C(),p=C(),t=C();C();const n=C(),c=C(),F=C(null),r=()=>{s.visible=!1,s.tabIndex=1,b("update")};function f(l){ke(()=>{var d,i,_,B,h;switch(l){case 1:(d=o.value)==null||d.open(s.other);break;case 3:(i=n.value)==null||i.open(s.other);break;case 5:(_=t.value)==null||_.open(s.other);break;case 9:case 10:(B=p.value)==null||B.open(s.other,l);break;case 11:(h=c.value)==null||h.open(s.other);break}})}Re("vipStrategyId",F),v({open(l){F.value=l.id,s.visible=!0,s.other=l}});const a=le(()=>{var l;return"\u7F16\u8F91"+((l=s.other)==null?void 0:l.name)});return(l,d)=>{const i=ge,_=Fe,B=se;return y(),R(B,{"model-value":s.visible,"show-close":!s.loading,"close-on-press-escape":!1,title:q(a),width:1e3,"z-index":20,"destroy-on-close":"","close-on-click-modal":!1,class:"jh_update",onClose:r},{default:u(()=>[A("div",xl,[e(_,{"tab-position":"left",modelValue:s.tabIndex,"onUpdate:modelValue":d[0]||(d[0]=h=>s.tabIndex=h),onTabChange:f,class:"jh-tabs"},{default:u(()=>[e(i,{name:1,label:"\u4F1A\u5458\u5206\u7EC4"}),e(i,{name:2,label:"\u5957\u9910\u914D\u7F6E"}),e(i,{name:3,label:"\u6CE8\u518C\u914D\u7F6E"}),e(i,{name:4,label:"\u4EFB\u52A1\u7BA1\u7406"}),e(i,{name:5,label:"\u4EE3\u7406\u8BBE\u7F6E"}),e(i,{name:6,label:"\u9080\u8BF7\u914D\u7F6E"})]),_:1},8,["modelValue"]),A("div",Vl,[s.tabIndex===1?(y(),R(Dl,{key:0})):j("",!0),s.tabIndex===2?(y(),R(sl,{key:1})):j("",!0),s.tabIndex===3?(y(),R(pt,{key:2})):j("",!0),s.tabIndex===4?(y(),R(Tt,{key:3})):j("",!0),s.tabIndex===5?(y(),R(Ou,{key:4})):j("",!0),s.tabIndex===6?(y(),R(Du,{key:5})):j("",!0)])])]),_:1},8,["model-value","show-close","title"])}}});const wl=N(Al,[["__scopeId","data-v-2181a646"]]),kl={class:"flex-y box"},$l={class:"flex-x-between"},Ml={class:"inputBox"},Tl=x("\u4ECA\u65E5"),Ul=x("\u6628\u65E5"),Rl=x("\u8FD1\u4E03\u65E5"),Ll=x("\u8FD1\u4E00\u6708"),Il=x(" \u7B56\u7565\u914D\u7F6E "),Gl=I({__name:"index",setup(w){const v=C({pageIndex:1,pageSize:20,total:0}),b=r=>r.getTime()>Date.now(),s=C(),o=le({get(){return[n.startTime,n.endTime]},set(r){n.startTime=r[0],n.endTime=r[1]}}),p=r=>{o.value=qe(r),n.load()},t=()=>{n.searchVal.type="",n.endTime=n.endTime+86399e3,n.load()},n=L({loading:!1,data:[],searchVal:{key:"",type:"",time:"",order:""},startTime:null,endTime:null,selectList:[],load(r){v.value=r||v.value,n.loading=!0,n.searchVal.time==null&&(n.searchVal.time=""),bu({startTime:n.startTime?n.startTime/1e3:n.startTime,endTime:n.endTime?n.endTime/1e3:n.endTime}).then(f=>{n.data=f}).finally(()=>{n.loading=!1})},handleSelectionChange(r){this.selectList=r}});Ee(()=>{p("dayAll"),n.searchVal.type="dayAll"});const c=[{name:"\u7AD9\u70B9\u540D\u79F0",key:"siteName",disabled:!0},{name:"\u65B0\u589E\u4F1A\u5458",key:"new_member"},{name:"\u4F1A\u5458\u603B\u6570",key:"member_total"},{name:"\u6D3B\u8DC3\u4F1A\u5458",key:"active_member"},{name:"\u603B\u5145\u503C\u91D1\u989D",key:"recharge_amount"},{name:"\u5145\u503C\u91D1\u989D",key:"recharge_amount2"},{name:"\u603B\u8BA2\u5355\u6570",key:"order_total"},{name:"\u9996\u5145\u8BA2\u5355",key:"first_order"},{name:"VIP\u8BA2\u5355",key:"vip_order"},{name:"\u91D1\u5E01\u8BA2\u5355",key:"gold_order"},{name:"\u4F7F\u7528\u5361\u5BC6",key:"use_cami"},{name:"\u603B\u4EE3\u7406\u4E1A\u7EE9",key:"performance_total"},{name:"\u4EE3\u7406\u4E1A\u7EE9",key:"agent_performance"}],F=C([...c]);return(r,f)=>{const a=Le,l=ve,d=Ie,i=ie,_=z,B=re,h=J;return y(),k("div",kl,[A("div",$l,[A("div",null,[e(vu,{keyValue:"vipStrategy","menu-list":c,modelValue:F.value,"onUpdate:modelValue":f[0]||(f[0]=E=>F.value=E)},null,8,["modelValue"])]),A("div",Ml,[e(l,{onChange:p,modelValue:n.searchVal.type,"onUpdate:modelValue":f[1]||(f[1]=E=>n.searchVal.type=E),size:"large"},{default:u(()=>[e(a,{label:"dayAll"},{default:u(()=>[Tl]),_:1}),e(a,{label:"yesterday"},{default:u(()=>[Ul]),_:1}),e(a,{label:"toweek"},{default:u(()=>[Rl]),_:1}),e(a,{label:"tomonth"},{default:u(()=>[Ll]),_:1})]),_:1},8,["modelValue"]),e(d,{onChange:t,modelValue:q(o),"onUpdate:modelValue":f[2]||(f[2]=E=>Ge(o)?o.value=E:null),style:{"margin-right":"16px",width:"240px"},clearable:!1,"disabled-date":b,format:"YYYY/MM/DD","prefix-icon":"","value-format":"x",type:"daterange","range-separator":"-","start-placeholder":"\u5F00\u59CB\u65E5\u671F","end-placeholder":"\u7ED3\u675F\u65E5\u671F"},null,8,["modelValue"])])]),Y((y(),R(B,{class:"auto","max-height":"800",data:n.data,stripe:!0},{default:u(()=>[(y(!0),k(O,null,H(F.value,E=>(y(),R(i,{prop:E.key,label:E.name},Ne({_:2},[E.key==="siteName"?{name:"default",fn:u(({row:V})=>[x(K(V.site.name),1)]),key:"0"}:void 0,E.key==="recharge_amount"?{name:"default",fn:u(({row:V})=>[x(K(V.recharge_amount/100),1)]),key:"1"}:void 0,E.key==="recharge_amount2"?{name:"default",fn:u(({row:V})=>[x(K(V.recharge_amount2/100),1)]),key:"2"}:void 0,E.key==="performance_total"?{name:"default",fn:u(({row:V})=>[x(K(V.performance_total/100),1)]),key:"3"}:void 0,E.key==="agent_performance"?{name:"default",fn:u(({row:V})=>[x(K(V.agent_performance/100),1)]),key:"4"}:void 0]),1032,["prop","label"]))),256)),e(i,{fixed:"right",label:"\u64CD\u4F5C","min-width":"60",align:"right"},{default:u(({row:E})=>[e(_,{type:"primary",link:"",onClick:V=>{var m;return(m=s.value)==null?void 0:m.open({id:E.site.id,name:E.site.name})},class:"ml-auto mr-5"},{default:u(()=>[Il]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])),[[h,n.loading]]),e(wl,{ref_key:"editVipStrategyRef",ref:s},null,512)])}}});const Zl=N(Gl,[["__scopeId","data-v-296a4c20"]]);export{Zl as default};
