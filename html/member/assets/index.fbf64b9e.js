import{P as B,d as A,u as L,r as N,b as g,o as $,Q as P,R as T,A as U,c as z,f as M,B as O,i as _,j as i,k as l,w as u,C as j,T as b,L as q,s as r,F as G,D as R,t as v,ae as Q,q as f,N as h,U as X,V as H,O as J,_ as K}from"./entry.40130a59.js";/* empty css                        */import{F as W}from"./filtter.26fb921a.js";/* empty css                       *//* empty css                  */import{m as Y}from"./message.61fa73af.js";import{P as Z}from"./pagination.bcfe9cd2.js";/* empty css                   */const ee=(p={page:0})=>B({url:"/gold/page",method:"get",params:p}),ae=p=>B({url:"/gold/del",method:"delete",data:{ids:p}}),te={class:"fli_f_box"},le={class:"flex-y box havefit_box"},oe={class:"inputBox",style:{width:"120px"}},ne={class:"inputBox",style:{width:"240px"}},ue={class:"timeBox"},se={class:"inputBox"},ie={key:0},re={key:1},de=f(" \u5220\u9664 "),pe=A({__name:"index",setup(p){const C=L(),n=N({pageIndex:1,pageSize:20,total:0}),c=g([]),V=g([["","\u6240\u6709\u7C7B\u578B"],[1,"\u5145\u503C"],[2,"\u8D60\u9001"],[3,"\u6D88\u8D39"]]),e=g({loading:!1,data:[],searchVal:{key:"",type:"",time:"",order:""},selectList:[],load(s){n.value=s||n.value,e.loading=!0,e.searchVal.time==null&&(e.searchVal.time=""),ee({offset:n.value.pageIndex,limit:n.value.pageSize,keywords:e.searchVal.key,type:e.searchVal.type,start:e.searchVal.time[0],end:e.searchVal.time[1]?Number(e.searchVal.time[1])+86400:void 0,order:e.searchVal.order,...C.siteObj}).then(t=>{c.splice(0,c.length),c.push(...t.list),n.value.total=t.total}).finally(()=>{e.loading=!1})},handleSelectionChange(s){this.selectList=s},sortChnage({column:s,prop:t,order:m}){m?e.searchVal.order=`${t} ${m==="ascending"?"asc":"desc"}`:e.searchVal.order="",e.load()}}),x={golddel:s=>Y({message:"\u786E\u5B9A\u8981\u5220\u9664\u5417\uFF1F\u5220\u9664\u540E\u91D1\u5E01\u8BB0\u5F55\u5C06\u65E0\u6CD5\u518D\u67E5\u770B\uFF0C\u8BF7\u8C28\u614E\u64CD\u4F5C",confirmButtonText:"\u5220\u9664",confirmButtonClass:"el-button-danger",icon:X(H),okEms:"\u91D1\u5E01\u8BB0\u5F55\u5220\u9664\u6210\u529F"},()=>ae([s.id]).then(t=>(e.load(),t)))};return $(()=>{e.load()}),(s,t)=>{const m=P,y=T,F=U,E=z,D=W,o=J,k=M,w=q,S=O;return r(),_("div",te,[i("div",le,[l(D,{onGetList:e.load},{fittleSear:u(()=>[i("div",oe,[l(y,{style:{width:"100%"},modelValue:e.searchVal.type,"onUpdate:modelValue":t[0]||(t[0]=a=>e.searchVal.type=a),modelModifiers:{number:!0},clearable:"",class:"m-2",placeholder:"\u6240\u6709\u7C7B\u578B",onChange:t[1]||(t[1]=a=>{n.value.pageIndex=1,e.load()})},{default:u(()=>[(r(!0),_(G,null,R(V,(a,d)=>(r(),b(m,{key:d,label:a[1],value:a[0]},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),i("div",ne,[i("div",ue,[l(F,{modelValue:e.searchVal.time,"onUpdate:modelValue":t[2]||(t[2]=a=>e.searchVal.time=a),type:"daterange",size:"default","range-separator":"\u81F3","start-placeholder":"\u5F00\u59CB\u65E5\u671F","end-placeholder":"\u7ED3\u675F\u65E5\u671F","value-format":"X",onChange:t[3]||(t[3]=a=>{n.value.pageIndex=1,e.load()})},null,8,["modelValue"])])]),i("div",se,[l(E,{modelValue:e.searchVal.key,"onUpdate:modelValue":t[4]||(t[4]=a=>e.searchVal.key=a),"prefix-icon":v(Q),clearable:"",placeholder:"\u641C\u7D22\u5173\u952E\u8BCD",class:"mr-4 w-36",onChange:t[5]||(t[5]=a=>{n.value.pageIndex=1,e.load()})},null,8,["modelValue","prefix-icon"])])]),_:1},8,["onGetList"]),j((r(),b(w,{data:c,class:"auto",stripe:!0,onSortChange:e.sortChnage,onSelectionChange:e.handleSelectionChange},{default:u(()=>[l(o,{prop:"id",label:"ID",width:"100",class:"comment",sortable:""}),l(o,{prop:"member.name",label:"\u7528\u6237\u540D","min-width":"110"}),l(o,{prop:"type",label:"\u5145\u503C\u7C7B\u578B","min-width":"80"},{default:u(({row:a})=>[f(h(a.type===1?"\u5145\u503C":a.type===2?"\u8D60\u9001":"\u6D88\u8D39"),1)]),_:1}),l(o,{prop:"remark",label:"\u8BF4\u660E","min-width":"180"}),l(o,{prop:"number",label:"\u6570\u91CF","min-width":"70",sortable:""}),l(o,{prop:"remainingNumber",label:"\u5269\u4F59\u6570\u91CF","min-width":"85",sortable:""},{default:u(({row:a})=>[f(h(a.remainingNumber),1)]),_:1}),l(o,{label:"\u6240\u5C5E\u7AD9\u70B9","min-width":"95"},{default:u(({row:a})=>{var d;return[a.siteId==0?(r(),_("span",ie,"\u9ED8\u8BA4\u7AD9\u70B9")):(r(),_("span",re,h(((d=v(C).siteMap.find(I=>I.id==a.siteId))==null?void 0:d.name)||"-"),1))]}),_:1}),l(o,{label:"\u63A8\u5E7F\u6E20\u9053","min-width":"95"},{default:u(({row:a})=>[i("span",null,h(a.channelName||"\u9ED8\u8BA4\u6E20\u9053"),1)]),_:1}),l(o,{prop:"updateAt",label:"\u65F6\u95F4","min-width":"150",sortable:"",type:"date"}),l(o,{fixed:"right",label:"\u64CD\u4F5C","min-width":"50",align:"right",class:"vipinfo"},{default:u(({row:a})=>[l(k,{type:"danger",link:"",class:"text-dangerColor",onClick:d=>x.golddel(a)},{default:u(()=>[de]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data","onSortChange","onSelectionChange"])),[[S,e.loading]]),l(Z,{pageinfo:n.value,class:"ml-auto",onChange:e.load},null,8,["pageinfo","onChange"])])])}}});const ve=K(pe,[["__scopeId","data-v-70ba9095"]]);export{ve as default};
