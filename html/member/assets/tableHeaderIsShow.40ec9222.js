import{d as V,r as m,$ as C,o as I,al as L,am as w,an as E,ag as F,T as f,w as d,s as h,j as r,aa as H,N as _,k as g,i as N,D as A,q as v,F as B,t as T,ao as D,p as z,n as J,_ as O}from"./entry.40130a59.js";/* empty css                   *//* empty css                          *//* empty css                        */const P=o=>(z("data-v-676fb586"),o=o(),J(),o),R={class:"icon-box",style:{height:"32px",display:"flex","align-items":"center"}},U=P(()=>r("div",{class:"line"},null,-1)),$={class:"title"},j={style:{padding:"0 16px"}},q=v("\u5168\u90E8"),G=V({__name:"tableHeaderIsShow",props:{menuList:{type:Array,default:()=>[]},modelValue:{type:Array,default:()=>[]},title:{type:String,default:"\u8BF7\u9009\u62E9\u5217\u8868\u8981\u5C55\u793A\u7684\u4FE1\u606F"},keyValue:{type:String,default:"default"}},emits:["update:modelValue"],setup(o,{emit:k}){const t=o,i=m(!1),c=m(!1),p=m(!1),y=a=>{s.value=a?t.menuList:t.menuList.filter(e=>e==null?void 0:e.disabled),c.value=!1},b=a=>{const e=a.length;i.value=e===t.menuList.length,c.value=e>0&&e!=t.menuList.length&&t.menuList.length>0},s=C({get(){return t.modelValue.map(a=>a.key)},set(a){const e=t.menuList.filter(n=>a.findIndex(u=>typeof u=="string"?u===n.key:u.key===n.key)!==-1);k("update:modelValue",e)}}),x=()=>{p.value=!1,localStorage.setItem(t.keyValue+"[tableHeaderIsShow]",JSON.stringify(s.value))};return I(()=>{setTimeout(()=>{const a=JSON.parse(localStorage.getItem(t.keyValue+"[tableHeaderIsShow]"));a&&(s.value=a),L(()=>{const e=s.value.length;i.value=e===t.menuList.length,c.value=e>0&&e<t.menuList.length})},1)}),(a,e)=>{const n=w,u=E,S=F;return h(),f(S,{onHide:x,placement:"bottom-start","popper-style":{paddingLeft:"0px !important",paddingRight:"0px !important"},width:240,trigger:"click",onShow:e[2]||(e[2]=l=>p.value=!0)},{reference:d(()=>[r("div",R,[r("i",{class:"iconfont icon-xitongshezhi1",style:H({color:p.value==!1?"#666666":"#4C83F6",cursor:"pointer"})},null,4),U])]),default:d(()=>[r("div",$,_(o.title),1),r("div",j,[g(n,{modelValue:i.value,"onUpdate:modelValue":e[0]||(e[0]=l=>i.value=l),indeterminate:c.value,onChange:y},{default:d(()=>[q]),_:1},8,["modelValue","indeterminate"]),g(u,{modelValue:T(s),"onUpdate:modelValue":e[1]||(e[1]=l=>D(s)?s.value=l:null),onChange:b},{default:d(()=>[(h(!0),N(B,null,A(o.menuList,l=>(h(),f(n,{disabled:(l==null?void 0:l.disabled)||!1,key:l.key,label:l.key},{default:d(()=>[v(_(l.name),1)]),_:2},1032,["disabled","label"]))),128))]),_:1},8,["modelValue"])])]),_:1})}}});const X=O(G,[["__scopeId","data-v-676fb586"]]);export{X as t};
